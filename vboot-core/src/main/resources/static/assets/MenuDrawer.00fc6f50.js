var b=(w,h,t)=>new Promise((x,_)=>{var f=r=>{try{V(t.next(r))}catch(d){_(d)}},F=r=>{try{V(t.throw(r))}catch(d){_(d)}},V=r=>r.done?x(r.value):Promise.resolve(r.value).then(f,F);V((t=t.apply(w,h)).next())});import{as as B,ah as C}from"./index.49385d3b.js";import{a as k,B as M}from"./index.f06a4b68.js";import{u as A}from"./index.5f1c2524.js";import{h as T}from"./edit.2a1803df.js";import j from"./MenuPulldown.04d54a44.js";import{A as $,P as v,a0 as c,B as i,a1 as m,a5 as o,w as u,u as l,ac as s,a4 as P}from"./vendor.a4547d8e.js";/* empty css               */import"./useWindowSizeFn.01f243df.js";const W=$({emits:["success","register"],setup(w,{emit:h}){A();const t=v({loadingText:"",url:"/sys/auth/menu",data:{},rules:{name:[{required:!0,message:"\u8BF7\u8F93\u5165\u540D\u79F0"}],type:[{required:!0,message:"\u8BF7\u9009\u62E9\u7C7B\u578B"}]}}),[x,{setDrawerProps:_,changeLoading:f,closeDrawer:F}]=k(d=>b(this,null,function*(){t.loadingText="\u52A0\u8F7D\u4E2D",f(!0),d.record.id?t.data=yield C.get({url:t.url+"/one/"+d.record.id}):(t.data=d.record,t.data.avtag=!0,t.data.shtag=!0),f(!1)}));function V(d){t.data.icon=d}v({tableData3:[{name:"Test1",role:"\u524D\u7AEF",sex:"\u7537"},{name:"Test2",role:"\u540E\u7AEF",sex:"\u7537"},{name:"Test3",role:"\u6D4B\u8BD5",sex:"\u7537"},{name:"Test4",role:"\u8BBE\u8BA1\u5E08",sex:"\u5973"}]});function r(d){t.data.pid=d.id,t.data.pname=d.name,console.log(t.data.pname)}return(d,y)=>{const D=c("vxe-radio-button"),E=c("vxe-radio-group"),n=c("vxe-form-item"),p=c("vxe-input"),g=c("vxe-switch"),U=c("vxe-form");return i(),m(l(M),P(d.$attrs,{loadingText:l(t).loadingText,showFooter:"",title:"\u83DC\u5355\u540D\u79F0",width:"70%",onOk:y[0]||(y[0]=e=>l(T)(d.$refs.xForm,l(t),h,l(_),l(f),l(F))),onRegister:l(x)}),{default:o(()=>[u(U,{"title-colon":"",ref:(e,a)=>{a.xForm=e},"title-align":"right","title-width":"100",data:l(t).data,rules:l(t).rules},{default:o(()=>[u(n,{title:"\u83DC\u5355\u7C7B\u578B",field:"type","item-render":{},span:"24","title-width":"150"},{default:o(e=>[u(E,{modelValue:e.data.type,"onUpdate:modelValue":a=>e.data.type=a},{default:o(()=>[u(D,{label:"D",content:"\u76EE\u5F55"}),u(D,{label:"M",content:"\u83DC\u5355"}),u(D,{label:"B",content:"\u6309\u94AE"})]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:1}),u(n,{title:"\u83DC\u5355\u540D\u79F0",field:"name","item-render":{},span:"12","title-width":"150"},{default:o(({data:e})=>[u(p,{modelValue:e.name,"onUpdate:modelValue":a=>e.name=a,clearable:""},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),u(n,{title:"\u4E0A\u7EA7\u83DC\u5355",field:"pname","item-render":{},span:"12","title-width":"150"},{default:o(({data:e})=>[u(j,{onSelect:r,pname:e.pname},null,8,["pname"])]),_:1}),u(n,{title:"\u6392\u5E8F\u53F7",field:"ornum","item-render":{},span:"12","title-width":"150"},{default:o(({data:e})=>[u(p,{modelValue:e.ornum,"onUpdate:modelValue":a=>e.ornum=a,placeholder:"\u6570\u503C\u7C7B\u578B",type:"number"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),u(n,{title:"\u662F\u5426\u542F\u7528",field:"avtag","item-render":{},span:"12","title-width":"150"},{default:o(({data:e})=>[u(g,{modelValue:e.avtag,"onUpdate:modelValue":a=>e.avtag=a,"open-label":"\u662F","close-label":"\u5426"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),l(t).data.type==="M"||l(t).data.type==="D"?(i(),m(n,{key:0,title:"\u83DC\u5355\u4EE3\u7801",field:"code","item-render":{},span:"12","title-width":"150"},{default:o(({data:e})=>[u(p,{modelValue:e.code,"onUpdate:modelValue":a=>e.code=a,clearable:""},null,8,["modelValue","onUpdate:modelValue"])]),_:1})):s("",!0),l(t).data.type==="M"||l(t).data.type==="D"?(i(),m(n,{key:1,title:"\u8DEF\u7531\u5730\u5740",field:"path","item-render":{},span:"12","title-width":"150"},{default:o(({data:e})=>[u(p,{modelValue:e.path,"onUpdate:modelValue":a=>e.path=a,clearable:""},null,8,["modelValue","onUpdate:modelValue"])]),_:1})):s("",!0),u(n,{title:"\u6743\u9650\u6807\u8BC6",field:"perm","item-render":{},span:"12","title-width":"150"},{default:o(({data:e})=>[u(p,{modelValue:e.perm,"onUpdate:modelValue":a=>e.perm=a,clearable:""},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),l(t).data.type==="M"?(i(),m(n,{key:2,ref:(e,a)=>{a.xItem=e},title:"\u7EC4\u4EF6\u8DEF\u5F84",field:"comp","item-render":{},span:"12","title-width":"150"},{default:o(({data:e})=>[u(p,{modelValue:e.comp,"onUpdate:modelValue":a=>e.comp=a,clearable:""},null,8,["modelValue","onUpdate:modelValue"])]),_:1},512)):s("",!0),l(t).data.type==="M"||l(t).data.type==="D"?(i(),m(n,{key:3,title:"\u56FE\u6807",field:"icon","item-render":{},span:"12","title-width":"150"},{default:o(({data:e})=>[u(l(B),{value:e.icon,onChange:V},null,8,["value"])]),_:1})):s("",!0),l(t).data.type==="M"||l(t).data.type==="D"?(i(),m(n,{key:4,title:"\u662F\u5426\u663E\u793A",field:"shtag","item-render":{},span:"12","title-width":"150"},{default:o(({data:e})=>[u(g,{modelValue:e.shtag,"onUpdate:modelValue":a=>e.shtag=a,"open-label":"\u662F","close-label":"\u5426"},null,8,["modelValue","onUpdate:modelValue"])]),_:1})):s("",!0),l(t).data.type==="M"||l(t).data.type==="D"?(i(),m(n,{key:5,title:"\u662F\u5426\u5916\u94FE",field:"extag","item-render":{},span:"12","title-width":"150"},{default:o(({data:e})=>[u(g,{modelValue:e.extag,"onUpdate:modelValue":a=>e.extag=a,"open-label":"\u662F","close-label":"\u5426"},null,8,["modelValue","onUpdate:modelValue"])]),_:1})):s("",!0),l(t).data.type==="M"||l(t).data.type==="D"?(i(),m(n,{key:6,title:"\u662F\u5426\u7F13\u5B58",field:"catag","item-render":{},span:"12","title-width":"150"},{default:o(({data:e})=>[u(g,{modelValue:e.catag,"onUpdate:modelValue":a=>e.catag=a,"open-label":"\u662F","close-label":"\u5426"},null,8,["modelValue","onUpdate:modelValue"])]),_:1})):s("",!0)]),_:1},8,["data","rules"])]),_:1},16,["loadingText","onRegister"])}}});export{W as default};
