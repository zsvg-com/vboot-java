var F_=Object.defineProperty,U_=Object.defineProperties;var X_=Object.getOwnPropertyDescriptors;var ny=Object.getOwnPropertySymbols;var G_=Object.prototype.hasOwnProperty,H_=Object.prototype.propertyIsEnumerable;var ry=(v,y,c)=>y in v?F_(v,y,{enumerable:!0,configurable:!0,writable:!0,value:c}):v[y]=c,nc=(v,y)=>{for(var c in y||(y={}))G_.call(y,c)&&ry(v,c,y[c]);if(ny)for(var c of ny(y))H_.call(y,c)&&ry(v,c,y[c]);return v},oy=(v,y)=>U_(v,X_(y));var qi=(v,y,c)=>new Promise((f,a)=>{var p=_=>{try{m(c.next(_))}catch(w){a(w)}},s=_=>{try{m(c.throw(_))}catch(w){a(w)}},m=_=>_.done?f(_.value):Promise.resolve(_.value).then(p,s);m((c=c.apply(v,y)).next())});import{I as Y_,_ as rc,a as V_,V as W_,w as K_}from"./index.6733effe.js";import{O as Z_,R as q_,A as iy,b2 as $_,a9 as J_,r as $i,am as Q_,u as rn,$ as oc,aj as eO,a0 as fr,B as pr,D as Xo,ab as ay,ap as tO,w as Go,a6 as Ji,ae as nO,J as rO,K as Qi,ad as ic,a4 as oO,a1 as ac,cJ as iO,j as aO,S as uy,_ as uO,H as cO}from"./vendor.af2fe88b.js";/* empty css               */import{I as cy}from"./index.esm.eaa71f61.js";import{B as sO,u as lO}from"./index.df186f99.js";import{J as fO}from"./index.da100c05.js";import{P as pO}from"./index.0248b5d5.js";import"./useWindowSizeFn.4124f9cf.js";import"./xml.28a61035.js";/* empty css               *//* empty css                */import"./useContentViewHeight.b4e0fa30.js";const sy=Symbol("flow-chart");function dO(v){q_(sy,v)}function hO(){return Z_(sy)}var Ht;(function(v){v.ZOOM_IN="zoomIn",v.ZOOM_OUT="zoomOut",v.RESET_ZOOM="resetZoom",v.UNDO="undo",v.REDO="redo",v.SNAPSHOT="snapshot",v.VIEW_DATA="viewData"})(Ht||(Ht={}));const yO=iy({name:"FlowChartToolbar",components:{Icon:Y_,Divider:$_,Tooltip:J_},props:{prefixCls:String},emits:["view-data"],setup(v,{emit:y}){const c=$i([{type:Ht.ZOOM_IN,icon:"codicon:zoom-out",tooltip:"\u7F29\u5C0F"},{type:Ht.ZOOM_OUT,icon:"codicon:zoom-in",tooltip:"\u653E\u5927"},{type:Ht.RESET_ZOOM,icon:"codicon:screen-normal",tooltip:"\u91CD\u7F6E\u6BD4\u4F8B"},{separate:!0},{type:Ht.UNDO,icon:"ion:arrow-undo-outline",tooltip:"\u540E\u9000",disabled:!0},{type:Ht.REDO,icon:"ion:arrow-redo-outline",tooltip:"\u524D\u8FDB",disabled:!0},{separate:!0},{type:Ht.SNAPSHOT,icon:"ion:download-outline",tooltip:"\u4E0B\u8F7D"},{type:Ht.VIEW_DATA,icon:"carbon:document-view",tooltip:"\u67E5\u770B\u6570\u636E"}]),{logicFlow:f}=hO();function a({data:{undoAble:s,redoAble:m}}){const _=rn(c),w=_.findIndex(j=>j.type===Ht.UNDO),O=_.findIndex(j=>j.type===Ht.REDO);w!==-1&&(rn(c)[w].disabled=!s),O!==-1&&(rn(c)[O].disabled=!m)}const p=s=>{const m=rn(f);if(!!m)switch(s.type){case Ht.ZOOM_IN:m.zoom();break;case Ht.ZOOM_OUT:m.zoom(!0);break;case Ht.RESET_ZOOM:m.resetZoom();break;case Ht.UNDO:m.undo();break;case Ht.REDO:m.redo();break;case Ht.SNAPSHOT:m.getSnapshot();break;case Ht.VIEW_DATA:y("view-data");break}};return Q_(()=>qi(this,null,function*(){var s;rn(f)&&(yield oc(),(s=rn(f))==null||s.on("history:change",a))})),eO(()=>{var s;(s=rn(f))==null||s.off("history:change",a)}),{toolbarItemList:c,onControl:p}}}),vO=["onClick"];function gO(v,y,c,f,a,p){const s=fr("Icon"),m=fr("Tooltip"),_=fr("Divider");return pr(),Xo("div",{class:Qi([`${v.prefixCls}-toolbar`,"flex items-center px-2 py-1"])},[(pr(!0),Xo(ay,null,tO(v.toolbarItemList,w=>(pr(),Xo(ay,{key:w.type},[Go(m,oO({placement:"bottom"},w.disabled?{visible:!1}:{}),{title:Ji(()=>[nO(rO(w.tooltip),1)]),default:Ji(()=>[w.icon?(pr(),Xo("span",{key:0,class:Qi(`${v.prefixCls}-toolbar__icon`),onClick:O=>v.onControl(w)},[Go(s,{icon:w.icon,class:Qi(w.disabled?"cursor-not-allowed disabeld":"cursor-pointer")},null,8,["icon","class"])],10,vO)):ic("",!0)]),_:2},1040),w.separate?(pr(),ac(_,{key:0,type:"vertical"})):ic("",!0)],64))),128))],2)}var bO=rc(yO,[["render",gO]]),Ze={exports:{}};(function(v,y){(function(c,f){v.exports=f()})(window,function(){return function(c){var f={};function a(p){if(f[p])return f[p].exports;var s=f[p]={i:p,l:!1,exports:{}};return c[p].call(s.exports,s,s.exports,a),s.l=!0,s.exports}return a.m=c,a.c=f,a.d=function(p,s,m){a.o(p,s)||Object.defineProperty(p,s,{enumerable:!0,get:m})},a.r=function(p){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(p,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(p,"__esModule",{value:!0})},a.t=function(p,s){if(1&s&&(p=a(p)),8&s||4&s&&typeof p=="object"&&p&&p.__esModule)return p;var m=Object.create(null);if(a.r(m),Object.defineProperty(m,"default",{enumerable:!0,value:p}),2&s&&typeof p!="string")for(var _ in p)a.d(m,_,function(w){return p[w]}.bind(null,_));return m},a.n=function(p){var s=p&&p.__esModule?function(){return p.default}:function(){return p};return a.d(s,"a",s),s},a.o=function(p,s){return Object.prototype.hasOwnProperty.call(p,s)},a.p="",a(a.s=204)}([function(c,f,a){(function(p,s){a.d(f,"a",function(){return k}),a.d(f,"b",function(){return po}),a.d(f,"c",function(){return wn}),a.d(f,"d",function(){return ft}),a.d(f,"e",function(){return yt}),a.d(f,"f",function(){return et}),a.d(f,"g",function(){return Qe}),a.d(f,"h",function(){return br}),a.d(f,"i",function(){return Ft}),a.d(f,"j",function(){return Ue}),a.d(f,"k",function(){return Mn}),a.d(f,"l",function(){return oo}),a.d(f,"m",function(){return Dt}),a.d(f,"n",function(){return tr}),a.d(f,"o",function(){return te}),a.d(f,"p",function(){return hi}),a.d(f,"q",function(){return Vn}),a.d(f,"r",function(){return fi}),a.d(f,"s",function(){return bn}),a.d(f,"t",function(){return hr}),a.d(f,"u",function(){return Nr}),a.d(f,"v",function(){return va}),a.d(f,"w",function(){return di}),a.d(f,"x",function(){return vr}),a.d(f,"y",function(){return an}),a.d(f,"z",function(){return en}),a.d(f,"A",function(){return pn}),a.d(f,"B",function(){return Nn}),a.d(f,"C",function(){return Ye}),a.d(f,"D",function(){return ga}),a.d(f,"E",function(){return er}),a.d(f,"F",function(){return Qn}),a.d(f,"G",function(){return da}),a.d(f,"H",function(){return ri}),a.d(f,"I",function(){return vi}),a.d(f,"J",function(){return vn}),a.d(f,"K",function(){return Ee}),a.d(f,"L",function(){return Jt}),a.d(f,"M",function(){return Cn});var m=[];Object.freeze(m);var _={};function w(){return++Ie.mobxGuid}function O(h){throw j(!1,h),"X"}function j(h,g){if(!h)throw new Error("[mobx] "+(g||"An invariant failed, however the error is obfuscated because this is a production build."))}Object.freeze(_);function S(h){var g=!1;return function(){if(!g)return g=!0,h.apply(this,arguments)}}var P=function(){};function N(h){return h!==null&&typeof h=="object"}function R(h){if(h===null||typeof h!="object")return!1;var g=Object.getPrototypeOf(h);return g===Object.prototype||g===null}function X(h,g,x){Object.defineProperty(h,g,{enumerable:!1,writable:!0,configurable:!0,value:x})}function H(h,g){var x="isMobX"+h;return g.prototype[x]=!0,function(T){return N(T)&&T[x]===!0}}function I(h){return h instanceof Map}function V(h){return h instanceof Set}function Z(h){var g=new Set;for(var x in h)g.add(x);return Object.getOwnPropertySymbols(h).forEach(function(T){Object.getOwnPropertyDescriptor(h,T).enumerable&&g.add(T)}),Array.from(g)}function Y(h){return h&&h.toString?h.toString():new String(h).toString()}function M(h){return h===null?null:typeof h=="object"?""+h:h}var z=typeof Reflect!="undefined"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols?function(h){return Object.getOwnPropertyNames(h).concat(Object.getOwnPropertySymbols(h))}:Object.getOwnPropertyNames,k=Symbol("mobx administration"),L=function(){function h(g){g===void 0&&(g="Atom@"+w()),this.name=g,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=q.NOT_TRACKING}return h.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(g){return g()})},h.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(g){return g()})},h.prototype.reportObserved=function(){return Dn(this)},h.prototype.reportChanged=function(){ln(),function(g){g.lowestObserverState!==q.STALE&&(g.lowestObserverState=q.STALE,g.observers.forEach(function(x){x.dependenciesState===q.UP_TO_DATE&&(x.isTracing!==Be.NONE&&Jn(x,g),x.onBecomeStale()),x.dependenciesState=q.STALE}))}(this),fn()},h.prototype.toString=function(){return this.name},h}(),U=H("Atom",L);function te(h,g,x){g===void 0&&(g=P),x===void 0&&(x=P);var T,D=new L(h);return g!==P&&ai("onBecomeObserved",D,g,T),x!==P&&er(D,x),D}var $={identity:function(h,g){return h===g},structural:function(h,g){return vo(h,g)},default:function(h,g){return Object.is(h,g)},shallow:function(h,g){return vo(h,g,1)}},ae=function(h,g){return(ae=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,T){x.__proto__=T}||function(x,T){for(var D in T)T.hasOwnProperty(D)&&(x[D]=T[D])})(h,g)};/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var ge=function(){return(ge=Object.assign||function(h){for(var g,x=1,T=arguments.length;x<T;x++)for(var D in g=arguments[x])Object.prototype.hasOwnProperty.call(g,D)&&(h[D]=g[D]);return h}).apply(this,arguments)};function be(h){var g=typeof Symbol=="function"&&h[Symbol.iterator],x=0;return g?g.call(h):{next:function(){return h&&x>=h.length&&(h=void 0),{value:h&&h[x++],done:!h}}}}function ye(h,g){var x=typeof Symbol=="function"&&h[Symbol.iterator];if(!x)return h;var T,D,F=x.call(h),re=[];try{for(;(g===void 0||g-- >0)&&!(T=F.next()).done;)re.push(T.value)}catch(me){D={error:me}}finally{try{T&&!T.done&&(x=F.return)&&x.call(F)}finally{if(D)throw D.error}}return re}function je(){for(var h=[],g=0;g<arguments.length;g++)h=h.concat(ye(arguments[g]));return h}var fe=Symbol("mobx did run lazy initializers"),ue=Symbol("mobx pending decorators"),_e={},we={};function ke(h,g){var x=g?_e:we;return x[h]||(x[h]={configurable:!0,enumerable:g,get:function(){return Ce(this),this[h]},set:function(T){Ce(this),this[h]=T}})}function Ce(h){var g,x;if(h[fe]!==!0){var T=h[ue];if(T){X(h,fe,!0);var D=je(Object.getOwnPropertySymbols(T),Object.keys(T));try{for(var F=be(D),re=F.next();!re.done;re=F.next()){var me=T[re.value];me.propertyCreator(h,me.prop,me.descriptor,me.decoratorTarget,me.decoratorArguments)}}catch(Te){g={error:Te}}finally{try{re&&!re.done&&(x=F.return)&&x.call(F)}finally{if(g)throw g.error}}}}}function ze(h,g){return function(){var x,T=function(D,F,re,me){if(me===!0)return g(D,F,re,D,x),null;if(!Object.prototype.hasOwnProperty.call(D,ue)){var Te=D[ue];X(D,ue,ge({},Te))}return D[ue][F]={prop:F,propertyCreator:g,descriptor:re,decoratorTarget:D,decoratorArguments:x},ke(F,h)};return Me(arguments)?(x=m,T.apply(null,arguments)):(x=Array.prototype.slice.call(arguments),T)}}function Me(h){return(h.length===2||h.length===3)&&(typeof h[1]=="string"||typeof h[1]=="symbol")||h.length===4&&h[3]===!0}function Fe(h,g,x){return vr(h)?h:Array.isArray(h)?Ye.array(h,{name:x}):R(h)?Ye.object(h,void 0,{name:x}):I(h)?Ye.map(h,{name:x}):V(h)?Ye.set(h,{name:x}):h}function ct(h){return h}function K(h){j(h);var g=ze(!0,function(T,D,F,re,me){var Te=F?F.initializer?F.initializer.call(T):F.value:void 0;ho(T).addObservableProp(D,Te,h)}),x=(p!==void 0&&p.env,g);return x.enhancer=h,x}var J={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function ie(h){return h==null?J:typeof h=="string"?{name:h,deep:!0,proxy:!0}:h}Object.freeze(J);var ve=K(Fe),Pe=K(function(h,g,x){return h==null||pn(h)||an(h)||en(h)||Kt(h)?h:Array.isArray(h)?Ye.array(h,{name:x,deep:!1}):R(h)?Ye.object(h,void 0,{name:x,deep:!1}):I(h)?Ye.map(h,{name:x,deep:!1}):V(h)?Ye.set(h,{name:x,deep:!1}):O(!1)}),xe=K(ct),We=K(function(h,g,x){return vo(h,g)?g:h});function He(h){return h.defaultDecorator?h.defaultDecorator.enhancer:h.deep===!1?ct:Fe}var Je={box:function(h,g){arguments.length>2&&de("box");var x=ie(g);return new $t(h,He(x),x.name,!0,x.equals)},array:function(h,g){arguments.length>2&&de("array");var x=ie(g);return bi(h,He(x),x.name)},map:function(h,g){arguments.length>2&&de("map");var x=ie(g);return new po(h,He(x),x.name)},set:function(h,g){arguments.length>2&&de("set");var x=ie(g);return new Wn(h,He(x),x.name)},object:function(h,g,x){typeof arguments[1]=="string"&&de("object");var T=ie(x);if(T.proxy===!1)return Vn({},h,g,T);var D=ui(T),F=Vn({},void 0,void 0,T),re=Ir(F);return ci(re,h,g,D),re},ref:xe,shallow:Pe,deep:ve,struct:We},Ye=function(h,g,x){if(typeof arguments[1]=="string"||typeof arguments[1]=="symbol")return ve.apply(null,arguments);if(vr(h))return h;var T=R(h)?Ye.object(h,g,x):Array.isArray(h)?Ye.array(h,g):I(h)?Ye.map(h,g):V(h)?Ye.set(h,g):h;if(T!==h)return T;O(!1)};function de(h){O("Expected one or two arguments to observable."+h+". Did you accidentally try to use observable."+h+" as decorator?")}Object.keys(Je).forEach(function(h){return Ye[h]=Je[h]});var q,Be,Le=ze(!1,function(h,g,x,T,D){var F=x.get,re=x.set,me=D[0]||{};ho(h).addComputedProp(h,g,ge({get:F,set:re,context:h},me))}),Ke=Le({equals:$.structural}),Dt=function(h,g,x){if(typeof g=="string"||h!==null&&typeof h=="object"&&arguments.length===1)return Le.apply(null,arguments);var T=typeof g=="object"?g:{};return T.get=h,T.set=typeof g=="function"?g:T.set,T.name=T.name||h.name||"",new Tn(T)};Dt.struct=Ke,function(h){h[h.NOT_TRACKING=-1]="NOT_TRACKING",h[h.UP_TO_DATE=0]="UP_TO_DATE",h[h.POSSIBLY_STALE=1]="POSSIBLY_STALE",h[h.STALE=2]="STALE"}(q||(q={})),function(h){h[h.NONE=0]="NONE",h[h.LOG=1]="LOG",h[h.BREAK=2]="BREAK"}(Be||(Be={}));var it=function(h){this.cause=h};function lt(h){return h instanceof it}function ht(h){switch(h.dependenciesState){case q.UP_TO_DATE:return!1;case q.NOT_TRACKING:case q.STALE:return!0;case q.POSSIBLY_STALE:for(var g=et(!0),x=$e(),T=h.observing,D=T.length,F=0;F<D;F++){var re=T[F];if(Hn(re)){if(Ie.disableErrorBoundaries)re.get();else try{re.get()}catch(me){return Ge(x),yt(g),!0}if(h.dependenciesState===q.STALE)return Ge(x),yt(g),!0}}return At(h),Ge(x),yt(g),!1}}function Ft(){return Ie.trackingDerivation!==null}function G(h){var g=h.observers.size>0;Ie.computationDepth>0&&g&&O(!1),Ie.allowStateChanges||!g&&Ie.enforceActions!=="strict"||O(!1)}function Q(h,g,x){var T=et(!0);At(h),h.newObserving=new Array(h.observing.length+100),h.unboundDepsCount=0,h.runId=++Ie.runId;var D,F=Ie.trackingDerivation;if(Ie.trackingDerivation=h,Ie.disableErrorBoundaries===!0)D=g.call(x);else try{D=g.call(x)}catch(re){D=new it(re)}return Ie.trackingDerivation=F,function(re){for(var me=re.observing,Te=re.observing=re.newObserving,nt=q.UP_TO_DATE,tt=0,mt=re.unboundDepsCount,vt=0;vt<mt;vt++)(pt=Te[vt]).diffValue===0&&(pt.diffValue=1,tt!==vt&&(Te[tt]=pt),tt++),pt.dependenciesState>nt&&(nt=pt.dependenciesState);for(Te.length=tt,re.newObserving=null,mt=me.length;mt--;)(pt=me[mt]).diffValue===0&&ei(pt,re),pt.diffValue=0;for(;tt--;){var pt;(pt=Te[tt]).diffValue===1&&(pt.diffValue=0,sa(pt,re))}nt!==q.UP_TO_DATE&&(re.dependenciesState=nt,re.onBecomeStale())}(h),yt(T),D}function ce(h){var g=h.observing;h.observing=[];for(var x=g.length;x--;)ei(g[x],h);h.dependenciesState=q.NOT_TRACKING}function Ee(h){var g=$e();try{return h()}finally{Ge(g)}}function $e(){var h=Ie.trackingDerivation;return Ie.trackingDerivation=null,h}function Ge(h){Ie.trackingDerivation=h}function et(h){var g=Ie.allowStateReads;return Ie.allowStateReads=h,g}function yt(h){Ie.allowStateReads=h}function At(h){if(h.dependenciesState!==q.UP_TO_DATE){h.dependenciesState=q.UP_TO_DATE;for(var g=h.observing,x=g.length;x--;)g[x].lowestObserverState=q.UP_TO_DATE}}var zt=0,Gn=1,kn=Object.getOwnPropertyDescriptor(function(){},"name");kn&&kn.configurable;function bt(h,g,x){var T=function(){return Ne(h,g,x||this,arguments)};return T.isMobxAction=!0,T}function Ne(h,g,x,T){var D=Ue();try{return g.apply(x,T)}catch(F){throw D.error=F,F}finally{Qe(D)}}function Ue(h,g,x){var T=0,D=$e();ln();var F={prevDerivation:D,prevAllowStateChanges:xt(!0),prevAllowStateReads:et(!0),notifySpy:!1,startTime:T,actionId:Gn++,parentActionId:zt};return zt=F.actionId,F}function Qe(h){zt!==h.actionId&&O("invalid action stack. did you forget to finish an action?"),zt=h.parentActionId,h.error!==void 0&&(Ie.suppressReactionErrors=!0),Ct(h.prevAllowStateChanges),yt(h.prevAllowStateReads),fn(),Ge(h.prevDerivation),h.notifySpy,Ie.suppressReactionErrors=!1}function ft(h,g){var x,T=xt(h);try{x=g()}finally{Ct(T)}return x}function xt(h){var g=Ie.allowStateChanges;return Ie.allowStateChanges=h,g}function Ct(h){Ie.allowStateChanges=h}var $t=function(h){function g(x,T,D,F,re){D===void 0&&(D="ObservableValue@"+w()),re===void 0&&(re=$.default);var me=h.call(this,D)||this;return me.enhancer=T,me.name=D,me.equals=re,me.hasUnreportedChange=!1,me.value=T(x,void 0,D),me}return function(x,T){function D(){this.constructor=x}ae(x,T),x.prototype=T===null?Object.create(T):(D.prototype=T.prototype,new D)}(g,h),g.prototype.dehanceValue=function(x){return this.dehancer!==void 0?this.dehancer(x):x},g.prototype.set=function(x){this.value,(x=this.prepareNewValue(x))!==Ie.UNCHANGED&&this.setNewValue(x)},g.prototype.prepareNewValue=function(x){if(G(this),gn(this)){var T=on(this,{object:this,type:"update",newValue:x});if(!T)return Ie.UNCHANGED;x=T.newValue}return x=this.enhancer(x,this.value,this.name),this.equals(this.value,x)?Ie.UNCHANGED:x},g.prototype.setNewValue=function(x){var T=this.value;this.value=x,this.reportChanged(),st(this)&&Qt(this,{type:"update",object:this,newValue:x,oldValue:T})},g.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},g.prototype.intercept=function(x){return Rn(this,x)},g.prototype.observe=function(x,T){return T&&x({object:this,type:"update",newValue:this.value,oldValue:void 0}),gr(this,x)},g.prototype.toJSON=function(){return this.get()},g.prototype.toString=function(){return this.name+"["+this.value+"]"},g.prototype.valueOf=function(){return M(this.get())},g.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},g}(L),Jo=H("ObservableValue",$t),Tn=function(){function h(g){this.dependenciesState=q.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=q.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+w(),this.value=new it(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=Be.NONE,j(g.get,"missing option for computed: get"),this.derivation=g.get,this.name=g.name||"ComputedValue@"+w(),g.set&&(this.setter=bt(this.name+"-setter",g.set)),this.equals=g.equals||(g.compareStructural||g.struct?$.structural:$.default),this.scope=g.context,this.requiresReaction=!!g.requiresReaction,this.keepAlive=!!g.keepAlive}return h.prototype.onBecomeStale=function(){(function(g){g.lowestObserverState===q.UP_TO_DATE&&(g.lowestObserverState=q.POSSIBLY_STALE,g.observers.forEach(function(x){x.dependenciesState===q.UP_TO_DATE&&(x.dependenciesState=q.POSSIBLY_STALE,x.isTracing!==Be.NONE&&Jn(x,g),x.onBecomeStale())}))})(this)},h.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(g){return g()})},h.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(g){return g()})},h.prototype.get=function(){this.isComputing&&O("Cycle detected in computation "+this.name+": "+this.derivation),Ie.inBatch!==0||this.observers.size!==0||this.keepAlive?(Dn(this),ht(this)&&this.trackAndCompute()&&function(x){x.lowestObserverState!==q.STALE&&(x.lowestObserverState=q.STALE,x.observers.forEach(function(T){T.dependenciesState===q.POSSIBLY_STALE?T.dependenciesState=q.STALE:T.dependenciesState===q.UP_TO_DATE&&(x.lowestObserverState=q.UP_TO_DATE)}))}(this)):ht(this)&&(this.warnAboutUntrackedRead(),ln(),this.value=this.computeValue(!1),fn());var g=this.value;if(lt(g))throw g.cause;return g},h.prototype.peek=function(){var g=this.computeValue(!1);if(lt(g))throw g.cause;return g},h.prototype.set=function(g){if(this.setter){j(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,g)}finally{this.isRunningSetter=!1}}else j(!1,!1)},h.prototype.trackAndCompute=function(){var g=this.value,x=this.dependenciesState===q.NOT_TRACKING,T=this.computeValue(!0),D=x||lt(g)||lt(T)||!this.equals(g,T);return D&&(this.value=T),D},h.prototype.computeValue=function(g){var x;if(this.isComputing=!0,Ie.computationDepth++,g)x=Q(this,this.derivation,this.scope);else if(Ie.disableErrorBoundaries===!0)x=this.derivation.call(this.scope);else try{x=this.derivation.call(this.scope)}catch(T){x=new it(T)}return Ie.computationDepth--,this.isComputing=!1,x},h.prototype.suspend=function(){this.keepAlive||(ce(this),this.value=void 0)},h.prototype.observe=function(g,x){var T=this,D=!0,F=void 0;return oo(function(){var re=T.get();if(!D||x){var me=$e();g({type:"update",object:T,newValue:re,oldValue:F}),Ge(me)}D=!1,F=re})},h.prototype.warnAboutUntrackedRead=function(){},h.prototype.toJSON=function(){return this.get()},h.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},h.prototype.valueOf=function(){return M(this.get())},h.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},h}(),Hn=H("ComputedValue",Tn),Tr=function(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1},ca={};function On(){return typeof window!="undefined"?window:s!==void 0?s:typeof self!="undefined"?self:ca}var Dr=!0,Qo=!1,Ie=function(){var h=On();return h.__mobxInstanceCount>0&&!h.__mobxGlobals&&(Dr=!1),h.__mobxGlobals&&h.__mobxGlobals.version!==new Tr().version&&(Dr=!1),Dr?h.__mobxGlobals?(h.__mobxInstanceCount+=1,h.__mobxGlobals.UNCHANGED||(h.__mobxGlobals.UNCHANGED={}),h.__mobxGlobals):(h.__mobxInstanceCount=1,h.__mobxGlobals=new Tr):(setTimeout(function(){Qo||O("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")},1),new Tr)}();function sa(h,g){h.observers.add(g),h.lowestObserverState>g.dependenciesState&&(h.lowestObserverState=g.dependenciesState)}function ei(h,g){h.observers.delete(g),h.observers.size===0&&ti(h)}function ti(h){h.isPendingUnobservation===!1&&(h.isPendingUnobservation=!0,Ie.pendingUnobservations.push(h))}function ln(){Ie.inBatch++}function fn(){if(--Ie.inBatch==0){ni();for(var h=Ie.pendingUnobservations,g=0;g<h.length;g++){var x=h[g];x.isPendingUnobservation=!1,x.observers.size===0&&(x.isBeingObserved&&(x.isBeingObserved=!1,x.onBecomeUnobserved()),x instanceof Tn&&x.suspend())}Ie.pendingUnobservations=[]}}function Dn(h){var g=Ie.trackingDerivation;return g!==null?(g.runId!==h.lastAccessedBy&&(h.lastAccessedBy=g.runId,g.newObserving[g.unboundDepsCount++]=h,h.isBeingObserved||(h.isBeingObserved=!0,h.onBecomeObserved())),!0):(h.observers.size===0&&Ie.inBatch>0&&ti(h),!1)}function Jn(h,g){if(console.log("[mobx.trace] '"+h.name+"' is invalidated due to a change in: '"+g.name+"'"),h.isTracing===Be.BREAK){var x=[];(function T(D,F,re){if(F.length>=1e3)return void F.push("(and many more)");F.push(""+new Array(re).join("	")+D.name),D.dependencies&&D.dependencies.forEach(function(me){return T(me,F,re+1)})})(hr(h),x,1),new Function(`debugger;
/*
Tracing '`+h.name+`'

You are entering this break point because derivation '`+h.name+"' is being traced and '"+g.name+`' is now forcing it to update.
Just follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update
The stackframe you are looking for is at least ~6-8 stack-frames up.

`+(h instanceof Tn?h.derivation.toString().replace(/[*]\//g,"/"):"")+`

The dependencies for this derivation are:

`+x.join(`
`)+`
*/
    `)()}}var wn=function(){function h(g,x,T,D){g===void 0&&(g="Reaction@"+w()),D===void 0&&(D=!1),this.name=g,this.onInvalidate=x,this.errorHandler=T,this.requiresObservable=D,this.observing=[],this.newObserving=[],this.dependenciesState=q.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+w(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=Be.NONE}return h.prototype.onBecomeStale=function(){this.schedule()},h.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,Ie.pendingReactions.push(this),ni())},h.prototype.isScheduled=function(){return this._isScheduled},h.prototype.runReaction=function(){if(!this.isDisposed){if(ln(),this._isScheduled=!1,ht(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending}catch(g){this.reportExceptionInDerivation(g)}}fn()}},h.prototype.track=function(g){if(!this.isDisposed){ln(),this._isRunning=!0;var x=Q(this,g,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&ce(this),lt(x)&&this.reportExceptionInDerivation(x.cause),fn()}},h.prototype.reportExceptionInDerivation=function(g){var x=this;if(this.errorHandler)this.errorHandler(g,this);else{if(Ie.disableErrorBoundaries)throw g;var T="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'";Ie.suppressReactionErrors?console.warn("[mobx] (error in reaction '"+this.name+"' suppressed, fix error of causing action below)"):console.error(T,g),Ie.globalReactionErrorHandlers.forEach(function(D){return D(g,x)})}},h.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(ln(),ce(this),fn()))},h.prototype.getDisposer=function(){var g=this.dispose.bind(this);return g[k]=this,g},h.prototype.toString=function(){return"Reaction["+this.name+"]"},h.prototype.trace=function(g){g===void 0&&(g=!1),function(){for(var x=[],T=0;T<arguments.length;T++)x[T]=arguments[T];var D=!1;typeof x[x.length-1]=="boolean"&&(D=x.pop());var F=ao(x);if(!F)return O(!1);F.isTracing===Be.NONE&&console.log("[mobx.trace] '"+F.name+"' tracing enabled"),F.isTracing=D?Be.BREAK:Be.LOG}(this,g)},h}(),no=function(h){return h()};function ni(){Ie.inBatch>0||Ie.isRunningReactions||no(la)}function la(){Ie.isRunningReactions=!0;for(var h=Ie.pendingReactions,g=0;h.length>0;){++g==100&&(console.error("Reaction doesn't converge to a stable state after 100 iterations. Probably there is a cycle in the reactive function: "+h[0]),h.splice(0));for(var x=h.splice(0),T=0,D=x.length;T<D;T++)x[T].runReaction()}Ie.isRunningReactions=!1}var Mr=H("Reaction",wn);function fa(h){var g=no;no=function(x){return h(function(){return g(x)})}}function ri(h){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}function pa(){O(!1)}function Yn(h){return function(g,x,T){if(T){if(T.value)return{value:bt(h,T.value),enumerable:!1,configurable:!0,writable:!0};var D=T.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return bt(h,D.call(this))}}}return oi(h).apply(this,arguments)}}function oi(h){return function(g,x,T){Object.defineProperty(g,x,{configurable:!0,enumerable:!1,get:function(){},set:function(D){X(this,x,Mn(h,D))}})}}var Mn=function(h,g,x,T){return arguments.length===1&&typeof h=="function"?bt(h.name||"<unnamed action>",h):arguments.length===2&&typeof g=="function"?bt(h,g):arguments.length===1&&typeof h=="string"?Yn(h):T!==!0?Yn(g).apply(null,arguments):void X(h,g,bt(h.name||g,x.value,this))};function da(h,g){return Ne(typeof h=="string"?h:h.name||"<unnamed action>",typeof h=="function"?h:g,this,void 0)}function Nr(h){return typeof h=="function"&&h.isMobxAction===!0}function ro(h,g,x){X(h,g,bt(g,x.bind(h)))}function oo(h,g){g===void 0&&(g=_);var x,T=g&&g.name||h.name||"Autorun@"+w();if(!g.scheduler&&!g.delay)x=new wn(T,function(){this.track(re)},g.onError,g.requiresObservable);else{var D=ii(g),F=!1;x=new wn(T,function(){F||(F=!0,D(function(){F=!1,x.isDisposed||x.track(re)}))},g.onError,g.requiresObservable)}function re(){h(x)}return x.schedule(),x.getDisposer()}Mn.bound=function(h,g,x,T){return T===!0?(ro(h,g,x.value),null):x?{configurable:!0,enumerable:!1,get:function(){return ro(this,g,x.value||x.initializer.call(this)),this[g]},set:pa}:{enumerable:!1,configurable:!0,set:function(D){ro(this,g,D)},get:function(){}}};var ha=function(h){return h()};function ii(h){return h.scheduler?h.scheduler:h.delay?function(g){return setTimeout(g,h.delay)}:ha}function Qn(h,g,x){x===void 0&&(x=_);var T,D,F,re=x.name||"Reaction@"+w(),me=Mn(re,x.onError?(T=x.onError,D=g,function(){try{return D.apply(this,arguments)}catch(_t){T.call(this,_t)}}):g),Te=!x.scheduler&&!x.delay,nt=ii(x),tt=!0,mt=!1,vt=x.compareStructural?$.structural:x.equals||$.default,pt=new wn(re,function(){tt||Te?wt():mt||(mt=!0,nt(wt))},x.onError,x.requiresObservable);function wt(){if(mt=!1,!pt.isDisposed){var _t=!1;pt.track(function(){var gt=h(pt);_t=tt||!vt(F,gt),F=gt}),tt&&x.fireImmediately&&me(F,pt),tt||_t!==!0||me(F,pt),tt&&(tt=!1)}}return pt.schedule(),pt.getDisposer()}function er(h,g,x){return ai("onBecomeUnobserved",h,g,x)}function ai(h,g,x,T){var D=typeof T=="function"?bn(g,x):bn(g),F=typeof T=="function"?T:x,re=h+"Listeners";return D[re]?D[re].add(F):D[re]=new Set([F]),typeof D[h]!="function"?O(!1):function(){var me=D[re];me&&(me.delete(F),me.size===0&&delete D[re])}}function tr(h){var g=h.enforceActions,x=h.computedRequiresReaction,T=h.computedConfigurable,D=h.disableErrorBoundaries,F=h.reactionScheduler,re=h.reactionRequiresObservable,me=h.observableRequiresReaction;if(h.isolateGlobalState===!0&&((Ie.pendingReactions.length||Ie.inBatch||Ie.isRunningReactions)&&O("isolateGlobalState should be called before MobX is running any reactions"),Qo=!0,Dr&&(--On().__mobxInstanceCount==0&&(On().__mobxGlobals=void 0),Ie=new Tr)),g!==void 0){var Te=void 0;switch(g){case!0:case"observed":Te=!0;break;case!1:case"never":Te=!1;break;case"strict":case"always":Te="strict";break;default:O("Invalid value for 'enforceActions': '"+g+"', expected 'never', 'always' or 'observed'")}Ie.enforceActions=Te,Ie.allowStateChanges=Te!==!0&&Te!=="strict"}x!==void 0&&(Ie.computedRequiresReaction=!!x),re!==void 0&&(Ie.reactionRequiresObservable=!!re),me!==void 0&&(Ie.observableRequiresReaction=!!me,Ie.allowStateReads=!Ie.observableRequiresReaction),T!==void 0&&(Ie.computedConfigurable=!!T),D!==void 0&&(D===!0&&console.warn("WARNING: Debug feature only. MobX will NOT recover from errors when `disableErrorBoundaries` is enabled."),Ie.disableErrorBoundaries=!!D),F&&fa(F)}function Vn(h,g,x,T){var D=ui(T=ie(T));return Ce(h),ho(h,T.name,D.enhancer),g&&ci(h,g,x,D),h}function ui(h){return h.defaultDecorator||(h.deep===!1?xe:ve)}function ci(h,g,x,T){var D,F;ln();try{var re=z(g);try{for(var me=be(re),Te=me.next();!Te.done;Te=me.next()){var nt=Te.value,tt=Object.getOwnPropertyDescriptor(g,nt),mt=(x&&nt in x?x[nt]:tt.get?Le:T)(h,nt,tt,!0);mt&&Object.defineProperty(h,nt,mt)}}catch(vt){D={error:vt}}finally{try{Te&&!Te.done&&(F=me.return)&&F.call(me)}finally{if(D)throw D.error}}}finally{fn()}}function hr(h,g){return si(bn(h,g))}function si(h){var g,x,T={name:h.name};return h.observing&&h.observing.length>0&&(T.dependencies=(g=h.observing,x=[],g.forEach(function(D){x.indexOf(D)===-1&&x.push(D)}),x).map(si)),T}var ya=0;function li(){this.message="FLOW_CANCELLED"}function fi(h){arguments.length!==1&&O("Flow expects 1 argument and cannot be used as decorator");var g=h.name||"<unnamed flow>";return function(){var x,T=this,D=arguments,F=++ya,re=Mn(g+" - runid: "+F+" - init",h).apply(T,D),me=void 0,Te=new Promise(function(nt,tt){var mt=0;function vt(_t){var gt;me=void 0;try{gt=Mn(g+" - runid: "+F+" - yield "+mt++,re.next).call(re,_t)}catch(En){return tt(En)}wt(gt)}function pt(_t){var gt;me=void 0;try{gt=Mn(g+" - runid: "+F+" - yield "+mt++,re.throw).call(re,_t)}catch(En){return tt(En)}wt(gt)}function wt(_t){if(!_t||typeof _t.then!="function")return _t.done?nt(_t.value):(me=Promise.resolve(_t.value)).then(vt,pt);_t.then(wt,tt)}x=tt,vt(void 0)});return Te.cancel=Mn(g+" - runid: "+F+" - cancel",function(){try{me&&yr(me);var nt=re.return(void 0),tt=Promise.resolve(nt.value);tt.then(P,P),yr(tt),x(new li)}catch(mt){x(mt)}}),Te}}function yr(h){typeof h.cancel=="function"&&h.cancel()}function pi(h,g){if(h==null)return!1;if(g!==void 0){if(pn(h)===!1||!h[k].values.has(g))return!1;var x=bn(h,g);return Hn(x)}return Hn(h)}function va(h){return arguments.length>1?O(!1):pi(h)}function di(h,g){return typeof g!="string"?O(!1):pi(h,g)}function io(h,g){return h!=null&&(g!==void 0?!!pn(h)&&h[k].values.has(g):pn(h)||!!h[k]||U(h)||Mr(h)||Hn(h))}function vr(h){return arguments.length!==1&&O(!1),io(h)}function Nn(h){return pn(h)?h[k].getKeys():en(h)||Kt(h)?Array.from(h.keys()):an(h)?h.map(function(g,x){return x}):O(!1)}function Jt(h){return pn(h)?Nn(h).map(function(g){return h[g]}):en(h)?Nn(h).map(function(g){return h.get(g)}):Kt(h)?Array.from(h.values()):an(h)?h.slice():O(!1)}function hi(h){return pn(h)?Nn(h).map(function(g){return[g,h[g]]}):en(h)?Nn(h).map(function(g){return[g,h.get(g)]}):Kt(h)?Array.from(h.entries()):an(h)?h.map(function(g,x){return[x,g]}):O(!1)}function ga(h,g,x,T){return typeof x=="function"?function(D,F,re,me){return br(D,F).observe(re,me)}(h,g,x,T):function(D,F,re){return br(D).observe(F,re)}(h,g,x)}li.prototype=Object.create(Error.prototype);var yi={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function nr(h,g,x,T){return T.detectCycles&&h.set(g,x),x}function vi(h,g){var x;return typeof g=="boolean"&&(g={detectCycles:g}),g||(g=yi),g.detectCycles=g.detectCycles===void 0?g.recurseEverything===!0:g.detectCycles===!0,g.detectCycles&&(x=new Map),function T(D,F,re){if(!F.recurseEverything&&!vr(D)||typeof D!="object")return D;if(D===null)return null;if(D instanceof Date)return D;if(Jo(D))return T(D.get(),F,re);if(vr(D)&&Nn(D),F.detectCycles===!0&&D!==null&&re.has(D))return re.get(D);if(an(D)||Array.isArray(D)){var me=nr(re,D,[],F),Te=D.map(function(gt){return T(gt,F,re)});me.length=Te.length;for(var nt=0,tt=Te.length;nt<tt;nt++)me[nt]=Te[nt];return me}if(Kt(D)||Object.getPrototypeOf(D)===Set.prototype){if(F.exportMapsAsObjects===!1){var mt=nr(re,D,new Set,F);return D.forEach(function(gt){mt.add(T(gt,F,re))}),mt}var vt=nr(re,D,[],F);return D.forEach(function(gt){vt.push(T(gt,F,re))}),vt}if(en(D)||Object.getPrototypeOf(D)===Map.prototype){if(F.exportMapsAsObjects===!1){var pt=nr(re,D,new Map,F);return D.forEach(function(gt,En){pt.set(En,T(gt,F,re))}),pt}var wt=nr(re,D,{},F);return D.forEach(function(gt,En){wt[En]=T(gt,F,re)}),wt}var _t=nr(re,D,{},F);return Z(D).forEach(function(gt){_t[gt]=T(D[gt],F,re)}),_t}(h,g,x)}function ao(h){switch(h.length){case 0:return Ie.trackingDerivation;case 1:return bn(h[0]);case 2:return bn(h[0],h[1])}}function vn(h,g){g===void 0&&(g=void 0),ln();try{return h.apply(g)}finally{fn()}}function Cn(h,g,x){return arguments.length===1||g&&typeof g=="object"?gi(h,g):uo(h,g,x||{})}function uo(h,g,x){var T;typeof x.timeout=="number"&&(T=setTimeout(function(){if(!F[k].isDisposed){F();var re=new Error("WHEN_TIMEOUT");if(!x.onError)throw re;x.onError(re)}},x.timeout)),x.name=x.name||"When@"+w();var D=bt(x.name+"-effect",g),F=oo(function(re){h()&&(re.dispose(),T&&clearTimeout(T),D())},x);return F}function gi(h,g){var x,T=new Promise(function(D,F){var re=uo(h,D,ge(ge({},g),{onError:F}));x=function(){re(),F("WHEN_CANCELLED")}});return T.cancel=x,T}function Cr(h){return h[k]}function Rr(h){return typeof h=="string"||typeof h=="number"||typeof h=="symbol"}var co={has:function(h,g){if(g===k||g==="constructor"||g===fe)return!0;var x=Cr(h);return Rr(g)?x.has(g):g in h},get:function(h,g){if(g===k||g==="constructor"||g===fe)return h[g];var x=Cr(h),T=x.values.get(g);if(T instanceof L){var D=T.get();return D===void 0&&x.has(g),D}return Rr(g)&&x.has(g),h[g]},set:function(h,g,x){return!!Rr(g)&&(function T(D,F,re){if(arguments.length!==2||Kt(D))if(pn(D)){var me=D[k],Te=me.values.get(F);Te?me.write(F,re):me.addObservableProp(F,re,me.defaultEnhancer)}else if(en(D))D.set(F,re);else if(Kt(D))D.add(F);else{if(!an(D))return O(!1);typeof F!="number"&&(F=parseInt(F,10)),j(F>=0,"Not a valid index: '"+F+"'"),ln(),F>=D.length&&(D.length=F+1),D[F]=re,fn()}else{ln();var nt=F;try{for(var tt in nt)T(D,tt,nt[tt])}finally{fn()}}}(h,g,x),!0)},deleteProperty:function(h,g){return!!Rr(g)&&(Cr(h).remove(g),!0)},ownKeys:function(h){return Cr(h).keysAtom.reportObserved(),Reflect.ownKeys(h)},preventExtensions:function(h){return O("Dynamic observable objects cannot be frozen"),!1}};function Ir(h){var g=new Proxy(h,co);return h[k].proxy=g,g}function gn(h){return h.interceptors!==void 0&&h.interceptors.length>0}function Rn(h,g){var x=h.interceptors||(h.interceptors=[]);return x.push(g),S(function(){var T=x.indexOf(g);T!==-1&&x.splice(T,1)})}function on(h,g){var x=$e();try{for(var T=je(h.interceptors||[]),D=0,F=T.length;D<F&&(j(!(g=T[D](g))||g.type,"Intercept handlers should return nothing or a change object"),g);D++);return g}finally{Ge(x)}}function st(h){return h.changeListeners!==void 0&&h.changeListeners.length>0}function gr(h,g){var x=h.changeListeners||(h.changeListeners=[]);return x.push(g),S(function(){var T=x.indexOf(g);T!==-1&&x.splice(T,1)})}function Qt(h,g){var x=$e(),T=h.changeListeners;if(T){for(var D=0,F=(T=T.slice()).length;D<F;D++)T[D](g);Ge(x)}}var rr={get:function(h,g){return g===k?h[k]:g==="length"?h[k].getArrayLength():typeof g=="number"?xn.get.call(h,g):typeof g!="string"||isNaN(g)?xn.hasOwnProperty(g)?xn[g]:h[g]:xn.get.call(h,parseInt(g))},set:function(h,g,x){return g==="length"&&h[k].setArrayLength(x),typeof g=="number"&&xn.set.call(h,g,x),typeof g=="symbol"||isNaN(g)?h[g]=x:xn.set.call(h,parseInt(g),x),!0},preventExtensions:function(h){return O("Observable arrays cannot be frozen"),!1}};function bi(h,g,x,T){x===void 0&&(x="ObservableArray@"+w()),T===void 0&&(T=!1);var D,F,re,me=new so(x,g,T);D=me.values,F=k,re=me,Object.defineProperty(D,F,{enumerable:!1,writable:!1,configurable:!0,value:re});var Te=new Proxy(me.values,rr);if(me.proxy=Te,h&&h.length){var nt=xt(!0);me.spliceWithArray(0,0,h),Ct(nt)}return Te}var so=function(){function h(g,x,T){this.owned=T,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new L(g||"ObservableArray@"+w()),this.enhancer=function(D,F){return x(D,F,g+"[..]")}}return h.prototype.dehanceValue=function(g){return this.dehancer!==void 0?this.dehancer(g):g},h.prototype.dehanceValues=function(g){return this.dehancer!==void 0&&g.length>0?g.map(this.dehancer):g},h.prototype.intercept=function(g){return Rn(this,g)},h.prototype.observe=function(g,x){return x===void 0&&(x=!1),x&&g({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),gr(this,g)},h.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},h.prototype.setArrayLength=function(g){if(typeof g!="number"||g<0)throw new Error("[mobx.array] Out of range: "+g);var x=this.values.length;if(g!==x)if(g>x){for(var T=new Array(g-x),D=0;D<g-x;D++)T[D]=void 0;this.spliceWithArray(x,0,T)}else this.spliceWithArray(g,x-g)},h.prototype.updateArrayLength=function(g,x){if(g!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=x},h.prototype.spliceWithArray=function(g,x,T){var D=this;G(this.atom);var F=this.values.length;if(g===void 0?g=0:g>F?g=F:g<0&&(g=Math.max(0,F+g)),x=arguments.length===1?F-g:x==null?0:Math.max(0,Math.min(x,F-g)),T===void 0&&(T=m),gn(this)){var re=on(this,{object:this.proxy,type:"splice",index:g,removedCount:x,added:T});if(!re)return m;x=re.removedCount,T=re.added}T=T.length===0?T:T.map(function(Te){return D.enhancer(Te,void 0)});var me=this.spliceItemsIntoValues(g,x,T);return x===0&&T.length===0||this.notifyArraySplice(g,T,me),this.dehanceValues(me)},h.prototype.spliceItemsIntoValues=function(g,x,T){var D;if(T.length<1e4)return(D=this.values).splice.apply(D,je([g,x],T));var F=this.values.slice(g,g+x);return this.values=this.values.slice(0,g).concat(T,this.values.slice(g+x)),F},h.prototype.notifyArrayChildUpdate=function(g,x,T){var D=!this.owned&&!1,F=st(this),re=F||D?{object:this.proxy,type:"update",index:g,newValue:x,oldValue:T}:null;this.atom.reportChanged(),F&&Qt(this,re)},h.prototype.notifyArraySplice=function(g,x,T){var D=!this.owned&&!1,F=st(this),re=F||D?{object:this.proxy,type:"splice",index:g,removed:T,added:x,removedCount:T.length,addedCount:x.length}:null;this.atom.reportChanged(),F&&Qt(this,re)},h}(),xn={intercept:function(h){return this[k].intercept(h)},observe:function(h,g){return g===void 0&&(g=!1),this[k].observe(h,g)},clear:function(){return this.splice(0)},replace:function(h){var g=this[k];return g.spliceWithArray(0,g.values.length,h)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(h,g){for(var x=[],T=2;T<arguments.length;T++)x[T-2]=arguments[T];var D=this[k];switch(arguments.length){case 0:return[];case 1:return D.spliceWithArray(h);case 2:return D.spliceWithArray(h,g)}return D.spliceWithArray(h,g,x)},spliceWithArray:function(h,g,x){return this[k].spliceWithArray(h,g,x)},push:function(){for(var h=[],g=0;g<arguments.length;g++)h[g]=arguments[g];var x=this[k];return x.spliceWithArray(x.values.length,0,h),x.values.length},pop:function(){return this.splice(Math.max(this[k].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var h=[],g=0;g<arguments.length;g++)h[g]=arguments[g];var x=this[k];return x.spliceWithArray(0,0,h),x.values.length},reverse:function(){var h=this.slice();return h.reverse.apply(h,arguments)},sort:function(h){var g=this.slice();return g.sort.apply(g,arguments)},remove:function(h){var g=this[k],x=g.dehanceValues(g.values).indexOf(h);return x>-1&&(this.splice(x,1),!0)},get:function(h){var g=this[k];if(g){if(h<g.values.length)return g.atom.reportObserved(),g.dehanceValue(g.values[h]);console.warn("[mobx.array] Attempt to read an array index ("+h+") that is out of bounds ("+g.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},set:function(h,g){var x=this[k],T=x.values;if(h<T.length){G(x.atom);var D=T[h];if(gn(x)){var F=on(x,{type:"update",object:x.proxy,index:h,newValue:g});if(!F)return;g=F.newValue}(g=x.enhancer(g,D))!==D&&(T[h]=g,x.notifyArrayChildUpdate(h,g,D))}else{if(h!==T.length)throw new Error("[mobx.array] Index out of bounds, "+h+" is larger than "+T.length);x.spliceWithArray(h,0,[g])}}};["concat","flat","includes","indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach(function(h){typeof Array.prototype[h]=="function"&&(xn[h]=function(){var g=this[k];g.atom.reportObserved();var x=g.dehanceValues(g.values);return x[h].apply(x,arguments)})}),["every","filter","find","findIndex","flatMap","forEach","map","some"].forEach(function(h){typeof Array.prototype[h]=="function"&&(xn[h]=function(g,x){var T=this,D=this[k];return D.atom.reportObserved(),D.dehanceValues(D.values)[h](function(F,re){return g.call(x,F,re,T)},x)})}),["reduce","reduceRight"].forEach(function(h){xn[h]=function(){var g=this,x=this[k];x.atom.reportObserved();var T=arguments[0];return arguments[0]=function(D,F,re){return F=x.dehanceValue(F),T(D,F,re,g)},x.values[h].apply(x.values,arguments)}});var lo,ba=H("ObservableArrayAdministration",so);function an(h){return N(h)&&ba(h[k])}var fo,ma={},po=function(){function h(g,x,T){if(x===void 0&&(x=Fe),T===void 0&&(T="ObservableMap@"+w()),this.enhancer=x,this.name=T,this[lo]=ma,this._keysAtom=te(this.name+".keys()"),this[Symbol.toStringTag]="Map",typeof Map!="function")throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(g)}return h.prototype._has=function(g){return this._data.has(g)},h.prototype.has=function(g){var x=this;if(!Ie.trackingDerivation)return this._has(g);var T=this._hasMap.get(g);if(!T){var D=T=new $t(this._has(g),ct,this.name+"."+Y(g)+"?",!1);this._hasMap.set(g,D),er(D,function(){return x._hasMap.delete(g)})}return T.get()},h.prototype.set=function(g,x){var T=this._has(g);if(gn(this)){var D=on(this,{type:T?"update":"add",object:this,newValue:x,name:g});if(!D)return this;x=D.newValue}return T?this._updateValue(g,x):this._addValue(g,x),this},h.prototype.delete=function(g){var x=this;if(G(this._keysAtom),gn(this)&&!(D=on(this,{type:"delete",object:this,name:g})))return!1;if(this._has(g)){var T=st(this),D=T?{type:"delete",object:this,oldValue:this._data.get(g).value,name:g}:null;return vn(function(){x._keysAtom.reportChanged(),x._updateHasMapEntry(g,!1),x._data.get(g).setNewValue(void 0),x._data.delete(g)}),T&&Qt(this,D),!0}return!1},h.prototype._updateHasMapEntry=function(g,x){var T=this._hasMap.get(g);T&&T.setNewValue(x)},h.prototype._updateValue=function(g,x){var T=this._data.get(g);if((x=T.prepareNewValue(x))!==Ie.UNCHANGED){var D=st(this),F=D?{type:"update",object:this,oldValue:T.value,name:g,newValue:x}:null;T.setNewValue(x),D&&Qt(this,F)}},h.prototype._addValue=function(g,x){var T=this;G(this._keysAtom),vn(function(){var re=new $t(x,T.enhancer,T.name+"."+Y(g),!1);T._data.set(g,re),x=re.value,T._updateHasMapEntry(g,!0),T._keysAtom.reportChanged()});var D=st(this),F=D?{type:"add",object:this,name:g,newValue:x}:null;D&&Qt(this,F)},h.prototype.get=function(g){return this.has(g)?this.dehanceValue(this._data.get(g).get()):this.dehanceValue(void 0)},h.prototype.dehanceValue=function(g){return this.dehancer!==void 0?this.dehancer(g):g},h.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},h.prototype.values=function(){var g=this,x=this.keys();return _r({next:function(){var T=x.next(),D=T.done,F=T.value;return{done:D,value:D?void 0:g.get(F)}}})},h.prototype.entries=function(){var g=this,x=this.keys();return _r({next:function(){var T=x.next(),D=T.done,F=T.value;return{done:D,value:D?void 0:[F,g.get(F)]}}})},h.prototype[lo=k,Symbol.iterator]=function(){return this.entries()},h.prototype.forEach=function(g,x){var T,D;try{for(var F=be(this),re=F.next();!re.done;re=F.next()){var me=ye(re.value,2),Te=me[0],nt=me[1];g.call(x,nt,Te,this)}}catch(tt){T={error:tt}}finally{try{re&&!re.done&&(D=F.return)&&D.call(F)}finally{if(T)throw T.error}}},h.prototype.merge=function(g){var x=this;return en(g)&&(g=g.toJS()),vn(function(){var T=xt(!0);try{R(g)?Z(g).forEach(function(D){return x.set(D,g[D])}):Array.isArray(g)?g.forEach(function(D){var F=ye(D,2),re=F[0],me=F[1];return x.set(re,me)}):I(g)?(g.constructor!==Map&&O("Cannot initialize from classes that inherit from Map: "+g.constructor.name),g.forEach(function(D,F){return x.set(F,D)})):g!=null&&O("Cannot initialize map from "+g)}finally{Ct(T)}}),this},h.prototype.clear=function(){var g=this;vn(function(){Ee(function(){var x,T;try{for(var D=be(g.keys()),F=D.next();!F.done;F=D.next()){var re=F.value;g.delete(re)}}catch(me){x={error:me}}finally{try{F&&!F.done&&(T=D.return)&&T.call(D)}finally{if(x)throw x.error}}})})},h.prototype.replace=function(g){var x=this;return vn(function(){var T,D,F,re,me=function(tn){if(I(tn)||en(tn))return tn;if(Array.isArray(tn))return new Map(tn);if(R(tn)){var Oi=new Map;for(var bo in tn)Oi.set(bo,tn[bo]);return Oi}return O("Cannot convert to map from '"+tn+"'")}(g),Te=new Map,nt=!1;try{for(var tt=be(x._data.keys()),mt=tt.next();!mt.done;mt=tt.next()){var vt=mt.value;if(!me.has(vt))if(x.delete(vt))nt=!0;else{var pt=x._data.get(vt);Te.set(vt,pt)}}}catch(tn){T={error:tn}}finally{try{mt&&!mt.done&&(D=tt.return)&&D.call(tt)}finally{if(T)throw T.error}}try{for(var wt=be(me.entries()),_t=wt.next();!_t.done;_t=wt.next()){var gt=ye(_t.value,2),En=(vt=gt[0],pt=gt[1],x._data.has(vt));if(x.set(vt,pt),x._data.has(vt)){var Oa=x._data.get(vt);Te.set(vt,Oa),En||(nt=!0)}}}catch(tn){F={error:tn}}finally{try{_t&&!_t.done&&(re=wt.return)&&re.call(wt)}finally{if(F)throw F.error}}if(!nt)if(x._data.size!==Te.size)x._keysAtom.reportChanged();else for(var Or=x._data.keys(),ir=Te.keys(),wr=Or.next(),go=ir.next();!wr.done;){if(wr.value!==go.value){x._keysAtom.reportChanged();break}wr=Or.next(),go=ir.next()}x._data=Te}),this},Object.defineProperty(h.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),h.prototype.toPOJO=function(){var g,x,T={};try{for(var D=be(this),F=D.next();!F.done;F=D.next()){var re=ye(F.value,2),me=re[0],Te=re[1];T[typeof me=="symbol"?me:Y(me)]=Te}}catch(nt){g={error:nt}}finally{try{F&&!F.done&&(x=D.return)&&x.call(D)}finally{if(g)throw g.error}}return T},h.prototype.toJS=function(){return new Map(this)},h.prototype.toJSON=function(){return this.toPOJO()},h.prototype.toString=function(){var g=this;return this.name+"[{ "+Array.from(this.keys()).map(function(x){return Y(x)+": "+g.get(x)}).join(", ")+" }]"},h.prototype.observe=function(g,x){return gr(this,g)},h.prototype.intercept=function(g){return Rn(this,g)},h}(),en=H("ObservableMap",po),or={},Wn=function(){function h(g,x,T){if(x===void 0&&(x=Fe),T===void 0&&(T="ObservableSet@"+w()),this.name=T,this[fo]=or,this._data=new Set,this._atom=te(this.name),this[Symbol.toStringTag]="Set",typeof Set!="function")throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(D,F){return x(D,F,T)},g&&this.replace(g)}return h.prototype.dehanceValue=function(g){return this.dehancer!==void 0?this.dehancer(g):g},h.prototype.clear=function(){var g=this;vn(function(){Ee(function(){var x,T;try{for(var D=be(g._data.values()),F=D.next();!F.done;F=D.next()){var re=F.value;g.delete(re)}}catch(me){x={error:me}}finally{try{F&&!F.done&&(T=D.return)&&T.call(D)}finally{if(x)throw x.error}}})})},h.prototype.forEach=function(g,x){var T,D;try{for(var F=be(this),re=F.next();!re.done;re=F.next()){var me=re.value;g.call(x,me,me,this)}}catch(Te){T={error:Te}}finally{try{re&&!re.done&&(D=F.return)&&D.call(F)}finally{if(T)throw T.error}}},Object.defineProperty(h.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),h.prototype.add=function(g){var x=this;if(G(this._atom),gn(this)&&!(D=on(this,{type:"add",object:this,newValue:g})))return this;if(!this.has(g)){vn(function(){x._data.add(x.enhancer(g,void 0)),x._atom.reportChanged()});var T=st(this),D=T?{type:"add",object:this,newValue:g}:null;T&&Qt(this,D)}return this},h.prototype.delete=function(g){var x=this;if(gn(this)&&!(D=on(this,{type:"delete",object:this,oldValue:g})))return!1;if(this.has(g)){var T=st(this),D=T?{type:"delete",object:this,oldValue:g}:null;return vn(function(){x._atom.reportChanged(),x._data.delete(g)}),T&&Qt(this,D),!0}return!1},h.prototype.has=function(g){return this._atom.reportObserved(),this._data.has(this.dehanceValue(g))},h.prototype.entries=function(){var g=0,x=Array.from(this.keys()),T=Array.from(this.values());return _r({next:function(){var D=g;return g+=1,D<T.length?{value:[x[D],T[D]],done:!1}:{done:!0}}})},h.prototype.keys=function(){return this.values()},h.prototype.values=function(){this._atom.reportObserved();var g=this,x=0,T=Array.from(this._data.values());return _r({next:function(){return x<T.length?{value:g.dehanceValue(T[x++]),done:!1}:{done:!0}}})},h.prototype.replace=function(g){var x=this;return Kt(g)&&(g=g.toJS()),vn(function(){var T=xt(!0);try{Array.isArray(g)||V(g)?(x.clear(),g.forEach(function(D){return x.add(D)})):g!=null&&O("Cannot initialize set from "+g)}finally{Ct(T)}}),this},h.prototype.observe=function(g,x){return gr(this,g)},h.prototype.intercept=function(g){return Rn(this,g)},h.prototype.toJS=function(){return new Set(this)},h.prototype.toString=function(){return this.name+"[ "+Array.from(this).join(", ")+" ]"},h.prototype[fo=k,Symbol.iterator]=function(){return this.values()},h}(),Kt=H("ObservableSet",Wn),mi=function(){function h(g,x,T,D){x===void 0&&(x=new Map),this.target=g,this.values=x,this.name=T,this.defaultEnhancer=D,this.keysAtom=new L(T+".keys")}return h.prototype.read=function(g){return this.values.get(g).get()},h.prototype.write=function(g,x){var T=this.target,D=this.values.get(g);if(D instanceof Tn)D.set(x);else{if(gn(this)){if(!(re=on(this,{type:"update",object:this.proxy||T,name:g,newValue:x})))return;x=re.newValue}if((x=D.prepareNewValue(x))!==Ie.UNCHANGED){var F=st(this),re=F?{type:"update",object:this.proxy||T,oldValue:D.value,name:g,newValue:x}:null;D.setNewValue(x),F&&Qt(this,re)}}},h.prototype.has=function(g){var x=this.pendingKeys||(this.pendingKeys=new Map),T=x.get(g);if(T)return T.get();var D=!!this.values.get(g);return T=new $t(D,ct,this.name+"."+Y(g)+"?",!1),x.set(g,T),T.get()},h.prototype.addObservableProp=function(g,x,T){T===void 0&&(T=this.defaultEnhancer);var D=this.target;if(gn(this)){var F=on(this,{object:this.proxy||D,name:g,type:"add",newValue:x});if(!F)return;x=F.newValue}var re=new $t(x,T,this.name+"."+Y(g),!1);this.values.set(g,re),x=re.value,Object.defineProperty(D,g,function(me){return Lr[me]||(Lr[me]={configurable:!0,enumerable:!0,get:function(){return this[k].read(me)},set:function(Te){this[k].write(me,Te)}})}(g)),this.notifyPropertyAddition(g,x)},h.prototype.addComputedProp=function(g,x,T){var D,F,re,me=this.target;T.name=T.name||this.name+"."+Y(x),this.values.set(x,new Tn(T)),(g===me||(D=g,F=x,!(re=Object.getOwnPropertyDescriptor(D,F))||re.configurable!==!1&&re.writable!==!1))&&Object.defineProperty(g,x,function(Te){return zr[Te]||(zr[Te]={configurable:Ie.computedConfigurable,enumerable:!1,get:function(){return Br(this).read(Te)},set:function(nt){Br(this).write(Te,nt)}})}(x))},h.prototype.remove=function(g){if(this.values.has(g)){var x=this.target;if(gn(this)&&!(me=on(this,{object:this.proxy||x,name:g,type:"remove"})))return;try{ln();var T=st(this),D=this.values.get(g),F=D&&D.get();if(D&&D.set(void 0),this.keysAtom.reportChanged(),this.values.delete(g),this.pendingKeys){var re=this.pendingKeys.get(g);re&&re.set(!1)}delete this.target[g];var me=T?{type:"remove",object:this.proxy||x,oldValue:F,name:g}:null;T&&Qt(this,me)}finally{fn()}}},h.prototype.illegalAccess=function(g,x){console.warn("Property '"+x+"' of '"+g+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner")},h.prototype.observe=function(g,x){return gr(this,g)},h.prototype.intercept=function(g){return Rn(this,g)},h.prototype.notifyPropertyAddition=function(g,x){var T=st(this),D=T?{type:"add",object:this.proxy||this.target,name:g,newValue:x}:null;if(T&&Qt(this,D),this.pendingKeys){var F=this.pendingKeys.get(g);F&&F.set(!0)}this.keysAtom.reportChanged()},h.prototype.getKeys=function(){var g,x;this.keysAtom.reportObserved();var T=[];try{for(var D=be(this.values),F=D.next();!F.done;F=D.next()){var re=ye(F.value,2),me=re[0];re[1]instanceof $t&&T.push(me)}}catch(Te){g={error:Te}}finally{try{F&&!F.done&&(x=D.return)&&x.call(D)}finally{if(g)throw g.error}}return T},h}();function ho(h,g,x){if(g===void 0&&(g=""),x===void 0&&(x=Fe),Object.prototype.hasOwnProperty.call(h,k))return h[k];R(h)||(g=(h.constructor.name||"ObservableObject")+"@"+w()),g||(g="ObservableObject@"+w());var T=new mi(h,new Map,Y(g),x);return X(h,k,T),T}var Lr=Object.create(null),zr=Object.create(null);function Br(h){var g=h[k];return g||(Ce(h),h[k])}var yo=H("ObservableObjectAdministration",mi);function pn(h){return!!N(h)&&(Ce(h),yo(h[k]))}function bn(h,g){if(typeof h=="object"&&h!==null){if(an(h))return g!==void 0&&O(!1),h[k].atom;if(Kt(h))return h[k];if(en(h)){var x=h;return g===void 0?x._keysAtom:((T=x._data.get(g)||x._hasMap.get(g))||O(!1),T)}var T;if(Ce(h),g&&!h[k]&&h[g],pn(h))return g?((T=h[k].values.get(g))||O(!1),T):O(!1);if(U(h)||Hn(h)||Mr(h))return h}else if(typeof h=="function"&&Mr(h[k]))return h[k];return O(!1)}function br(h,g){return h||O("Expecting some object"),g!==void 0?br(bn(h,g)):U(h)||Hn(h)||Mr(h)||en(h)||Kt(h)?h:(Ce(h),h[k]?h[k]:void O(!1))}var _i=Object.prototype.toString;function vo(h,g,x){return x===void 0&&(x=-1),function T(D,F,re,me,Te){if(D===F)return D!==0||1/D==1/F;if(D==null||F==null)return!1;if(D!=D)return F!=F;var nt=typeof D;if(nt!=="function"&&nt!=="object"&&typeof F!="object")return!1;var tt=_i.call(D);if(tt!==_i.call(F))return!1;switch(tt){case"[object RegExp]":case"[object String]":return""+D==""+F;case"[object Number]":return+D!=+D?+F!=+F:+D==0?1/+D==1/F:+D==+F;case"[object Date]":case"[object Boolean]":return+D==+F;case"[object Symbol]":return typeof Symbol!="undefined"&&Symbol.valueOf.call(D)===Symbol.valueOf.call(F);case"[object Map]":case"[object Set]":re>=0&&re++}D=In(D),F=In(F);var mt=tt==="[object Array]";if(!mt){if(typeof D!="object"||typeof F!="object")return!1;var vt=D.constructor,pt=F.constructor;if(vt!==pt&&!(typeof vt=="function"&&vt instanceof vt&&typeof pt=="function"&&pt instanceof pt)&&"constructor"in D&&"constructor"in F)return!1}if(re===0)return!1;re<0&&(re=-1),Te=Te||[];for(var wt=(me=me||[]).length;wt--;)if(me[wt]===D)return Te[wt]===F;if(me.push(D),Te.push(F),mt){if((wt=D.length)!==F.length)return!1;for(;wt--;)if(!T(D[wt],F[wt],re-1,me,Te))return!1}else{var _t=Object.keys(D),gt=void 0;if(wt=_t.length,Object.keys(F).length!==wt)return!1;for(;wt--;)if(gt=_t[wt],!mr(F,gt)||!T(D[gt],F[gt],re-1,me,Te))return!1}return me.pop(),Te.pop(),!0}(h,g,x)}function In(h){return an(h)?h.slice():I(h)||en(h)||V(h)||Kt(h)?Array.from(h.entries()):h}function mr(h,g){return Object.prototype.hasOwnProperty.call(h,g)}function _r(h){return h[Symbol.iterator]=_a,h}function _a(){return this}if(typeof Proxy=="undefined"||typeof Symbol=="undefined")throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Symbol or Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:ri,extras:{getDebugName:function(h,g){return(g!==void 0?bn(h,g):pn(h)||en(h)||Kt(h)?br(h):bn(h)).name}},$mobx:k})}).call(this,a(149),a(74))},function(c,f,a){a.d(f,"a",function(){return Y}),a.d(f,"b",function(){return Z}),a.d(f,"c",function(){return Fe}),a.d(f,"d",function(){return ct}),a.d(f,"e",function(){return H}),a.d(f,"f",function(){return V}),a.d(f,"g",function(){return H}),a.d(f,"h",function(){return Me}),a.d(f,"i",function(){return s}),a.d(f,"j",function(){return ze}),a.d(f,"k",function(){return $});var p,s,m,_,w,O,j,S={},P=[],N=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function R(K,J){for(var ie in J)K[ie]=J[ie];return K}function X(K){var J=K.parentNode;J&&J.removeChild(K)}function H(K,J,ie){var ve,Pe,xe,We={};for(xe in J)xe=="key"?ve=J[xe]:xe=="ref"?Pe=J[xe]:We[xe]=J[xe];if(arguments.length>2&&(We.children=arguments.length>3?p.call(arguments,2):ie),typeof K=="function"&&K.defaultProps!=null)for(xe in K.defaultProps)We[xe]===void 0&&(We[xe]=K.defaultProps[xe]);return I(K,We,ve,Pe,null)}function I(K,J,ie,ve,Pe){var xe={type:K,props:J,key:ie,ref:ve,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:Pe==null?++m:Pe};return Pe==null&&s.vnode!=null&&s.vnode(xe),xe}function V(){return{current:null}}function Z(K){return K.children}function Y(K,J){this.props=K,this.context=J}function M(K,J){if(J==null)return K.__?M(K.__,K.__.__k.indexOf(K)+1):null;for(var ie;J<K.__k.length;J++)if((ie=K.__k[J])!=null&&ie.__e!=null)return ie.__e;return typeof K.type=="function"?M(K):null}function z(K){var J,ie;if((K=K.__)!=null&&K.__c!=null){for(K.__e=K.__c.base=null,J=0;J<K.__k.length;J++)if((ie=K.__k[J])!=null&&ie.__e!=null){K.__e=K.__c.base=ie.__e;break}return z(K)}}function k(K){(!K.__d&&(K.__d=!0)&&_.push(K)&&!L.__r++||O!==s.debounceRendering)&&((O=s.debounceRendering)||w)(L)}function L(){for(var K;L.__r=_.length;)K=_.sort(function(J,ie){return J.__v.__b-ie.__v.__b}),_=[],K.some(function(J){var ie,ve,Pe,xe,We,He;J.__d&&(We=(xe=(ie=J).__v).__e,(He=ie.__P)&&(ve=[],(Pe=R({},xe)).__v=xe.__v+1,fe(He,xe,Pe,ie.__n,He.ownerSVGElement!==void 0,xe.__h!=null?[We]:null,ve,We==null?M(xe):We,xe.__h),ue(ve,xe),xe.__e!=We&&z(xe)))})}function U(K,J,ie,ve,Pe,xe,We,He,Je,Ye){var de,q,Be,Le,Ke,Dt,it,lt=ve&&ve.__k||P,ht=lt.length;for(ie.__k=[],de=0;de<J.length;de++)if((Le=ie.__k[de]=(Le=J[de])==null||typeof Le=="boolean"?null:typeof Le=="string"||typeof Le=="number"||typeof Le=="bigint"?I(null,Le,null,null,Le):Array.isArray(Le)?I(Z,{children:Le},null,null,null):Le.__b>0?I(Le.type,Le.props,Le.key,null,Le.__v):Le)!=null){if(Le.__=ie,Le.__b=ie.__b+1,(Be=lt[de])===null||Be&&Le.key==Be.key&&Le.type===Be.type)lt[de]=void 0;else for(q=0;q<ht;q++){if((Be=lt[q])&&Le.key==Be.key&&Le.type===Be.type){lt[q]=void 0;break}Be=null}fe(K,Le,Be=Be||S,Pe,xe,We,He,Je,Ye),Ke=Le.__e,(q=Le.ref)&&Be.ref!=q&&(it||(it=[]),Be.ref&&it.push(Be.ref,null,Le),it.push(q,Le.__c||Ke,Le)),Ke!=null?(Dt==null&&(Dt=Ke),typeof Le.type=="function"&&Le.__k===Be.__k?Le.__d=Je=te(Le,Je,K):Je=ae(K,Le,Be,lt,Ke,Je),typeof ie.type=="function"&&(ie.__d=Je)):Je&&Be.__e==Je&&Je.parentNode!=K&&(Je=M(Be))}for(ie.__e=Dt,de=ht;de--;)lt[de]!=null&&(typeof ie.type=="function"&&lt[de].__e!=null&&lt[de].__e==ie.__d&&(ie.__d=M(ve,de+1)),ke(lt[de],lt[de]));if(it)for(de=0;de<it.length;de++)we(it[de],it[++de],it[++de])}function te(K,J,ie){for(var ve,Pe=K.__k,xe=0;Pe&&xe<Pe.length;xe++)(ve=Pe[xe])&&(ve.__=K,J=typeof ve.type=="function"?te(ve,J,ie):ae(ie,ve,ve,Pe,ve.__e,J));return J}function $(K,J){return J=J||[],K==null||typeof K=="boolean"||(Array.isArray(K)?K.some(function(ie){$(ie,J)}):J.push(K)),J}function ae(K,J,ie,ve,Pe,xe){var We,He,Je;if(J.__d!==void 0)We=J.__d,J.__d=void 0;else if(ie==null||Pe!=xe||Pe.parentNode==null)e:if(xe==null||xe.parentNode!==K)K.appendChild(Pe),We=null;else{for(He=xe,Je=0;(He=He.nextSibling)&&Je<ve.length;Je+=2)if(He==Pe)break e;K.insertBefore(Pe,xe),We=xe}return We!==void 0?We:Pe.nextSibling}function ge(K,J,ie){J[0]==="-"?K.setProperty(J,ie):K[J]=ie==null?"":typeof ie!="number"||N.test(J)?ie:ie+"px"}function be(K,J,ie,ve,Pe){var xe;e:if(J==="style")if(typeof ie=="string")K.style.cssText=ie;else{if(typeof ve=="string"&&(K.style.cssText=ve=""),ve)for(J in ve)ie&&J in ie||ge(K.style,J,"");if(ie)for(J in ie)ve&&ie[J]===ve[J]||ge(K.style,J,ie[J])}else if(J[0]==="o"&&J[1]==="n")xe=J!==(J=J.replace(/Capture$/,"")),J=J.toLowerCase()in K?J.toLowerCase().slice(2):J.slice(2),K.l||(K.l={}),K.l[J+xe]=ie,ie?ve||K.addEventListener(J,xe?je:ye,xe):K.removeEventListener(J,xe?je:ye,xe);else if(J!=="dangerouslySetInnerHTML"){if(Pe)J=J.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(J!=="href"&&J!=="list"&&J!=="form"&&J!=="tabIndex"&&J!=="download"&&J in K)try{K[J]=ie==null?"":ie;break e}catch(We){}typeof ie=="function"||(ie!=null&&(ie!==!1||J[0]==="a"&&J[1]==="r")?K.setAttribute(J,ie):K.removeAttribute(J))}}function ye(K){this.l[K.type+!1](s.event?s.event(K):K)}function je(K){this.l[K.type+!0](s.event?s.event(K):K)}function fe(K,J,ie,ve,Pe,xe,We,He,Je){var Ye,de,q,Be,Le,Ke,Dt,it,lt,ht,Ft,G=J.type;if(J.constructor!==void 0)return null;ie.__h!=null&&(Je=ie.__h,He=J.__e=ie.__e,J.__h=null,xe=[He]),(Ye=s.__b)&&Ye(J);try{e:if(typeof G=="function"){if(it=J.props,lt=(Ye=G.contextType)&&ve[Ye.__c],ht=Ye?lt?lt.props.value:Ye.__:ve,ie.__c?Dt=(de=J.__c=ie.__c).__=de.__E:("prototype"in G&&G.prototype.render?J.__c=de=new G(it,ht):(J.__c=de=new Y(it,ht),de.constructor=G,de.render=Ce),lt&&lt.sub(de),de.props=it,de.state||(de.state={}),de.context=ht,de.__n=ve,q=de.__d=!0,de.__h=[]),de.__s==null&&(de.__s=de.state),G.getDerivedStateFromProps!=null&&(de.__s==de.state&&(de.__s=R({},de.__s)),R(de.__s,G.getDerivedStateFromProps(it,de.__s))),Be=de.props,Le=de.state,q)G.getDerivedStateFromProps==null&&de.componentWillMount!=null&&de.componentWillMount(),de.componentDidMount!=null&&de.__h.push(de.componentDidMount);else{if(G.getDerivedStateFromProps==null&&it!==Be&&de.componentWillReceiveProps!=null&&de.componentWillReceiveProps(it,ht),!de.__e&&de.shouldComponentUpdate!=null&&de.shouldComponentUpdate(it,de.__s,ht)===!1||J.__v===ie.__v){de.props=it,de.state=de.__s,J.__v!==ie.__v&&(de.__d=!1),de.__v=J,J.__e=ie.__e,J.__k=ie.__k,J.__k.forEach(function(Q){Q&&(Q.__=J)}),de.__h.length&&We.push(de);break e}de.componentWillUpdate!=null&&de.componentWillUpdate(it,de.__s,ht),de.componentDidUpdate!=null&&de.__h.push(function(){de.componentDidUpdate(Be,Le,Ke)})}de.context=ht,de.props=it,de.state=de.__s,(Ye=s.__r)&&Ye(J),de.__d=!1,de.__v=J,de.__P=K,Ye=de.render(de.props,de.state,de.context),de.state=de.__s,de.getChildContext!=null&&(ve=R(R({},ve),de.getChildContext())),q||de.getSnapshotBeforeUpdate==null||(Ke=de.getSnapshotBeforeUpdate(Be,Le)),Ft=Ye!=null&&Ye.type===Z&&Ye.key==null?Ye.props.children:Ye,U(K,Array.isArray(Ft)?Ft:[Ft],J,ie,ve,Pe,xe,We,He,Je),de.base=J.__e,J.__h=null,de.__h.length&&We.push(de),Dt&&(de.__E=de.__=null),de.__e=!1}else xe==null&&J.__v===ie.__v?(J.__k=ie.__k,J.__e=ie.__e):J.__e=_e(ie.__e,J,ie,ve,Pe,xe,We,Je);(Ye=s.diffed)&&Ye(J)}catch(Q){J.__v=null,(Je||xe!=null)&&(J.__e=He,J.__h=!!Je,xe[xe.indexOf(He)]=null),s.__e(Q,J,ie)}}function ue(K,J){s.__c&&s.__c(J,K),K.some(function(ie){try{K=ie.__h,ie.__h=[],K.some(function(ve){ve.call(ie)})}catch(ve){s.__e(ve,ie.__v)}})}function _e(K,J,ie,ve,Pe,xe,We,He){var Je,Ye,de,q=ie.props,Be=J.props,Le=J.type,Ke=0;if(Le==="svg"&&(Pe=!0),xe!=null){for(;Ke<xe.length;Ke++)if((Je=xe[Ke])&&"setAttribute"in Je==!!Le&&(Le?Je.localName===Le:Je.nodeType===3)){K=Je,xe[Ke]=null;break}}if(K==null){if(Le===null)return document.createTextNode(Be);K=Pe?document.createElementNS("http://www.w3.org/2000/svg",Le):document.createElement(Le,Be.is&&Be),xe=null,He=!1}if(Le===null)q===Be||He&&K.data===Be||(K.data=Be);else{if(xe=xe&&p.call(K.childNodes),Ye=(q=ie.props||S).dangerouslySetInnerHTML,de=Be.dangerouslySetInnerHTML,!He){if(xe!=null)for(q={},Ke=0;Ke<K.attributes.length;Ke++)q[K.attributes[Ke].name]=K.attributes[Ke].value;(de||Ye)&&(de&&(Ye&&de.__html==Ye.__html||de.__html===K.innerHTML)||(K.innerHTML=de&&de.__html||""))}if(function(Dt,it,lt,ht,Ft){var G;for(G in lt)G==="children"||G==="key"||G in it||be(Dt,G,null,lt[G],ht);for(G in it)Ft&&typeof it[G]!="function"||G==="children"||G==="key"||G==="value"||G==="checked"||lt[G]===it[G]||be(Dt,G,it[G],lt[G],ht)}(K,Be,q,Pe,He),de)J.__k=[];else if(Ke=J.props.children,U(K,Array.isArray(Ke)?Ke:[Ke],J,ie,ve,Pe&&Le!=="foreignObject",xe,We,xe?xe[0]:ie.__k&&M(ie,0),He),xe!=null)for(Ke=xe.length;Ke--;)xe[Ke]!=null&&X(xe[Ke]);He||("value"in Be&&(Ke=Be.value)!==void 0&&(Ke!==q.value||Ke!==K.value||Le==="progress"&&!Ke)&&be(K,"value",Ke,q.value,!1),"checked"in Be&&(Ke=Be.checked)!==void 0&&Ke!==K.checked&&be(K,"checked",Ke,q.checked,!1))}return K}function we(K,J,ie){try{typeof K=="function"?K(J):K.current=J}catch(ve){s.__e(ve,ie)}}function ke(K,J,ie){var ve,Pe;if(s.unmount&&s.unmount(K),(ve=K.ref)&&(ve.current&&ve.current!==K.__e||we(ve,null,J)),(ve=K.__c)!=null){if(ve.componentWillUnmount)try{ve.componentWillUnmount()}catch(xe){s.__e(xe,J)}ve.base=ve.__P=null}if(ve=K.__k)for(Pe=0;Pe<ve.length;Pe++)ve[Pe]&&ke(ve[Pe],J,typeof K.type!="function");ie||K.__e==null||X(K.__e),K.__e=K.__d=void 0}function Ce(K,J,ie){return this.constructor(K,ie)}function ze(K,J,ie){var ve,Pe,xe;s.__&&s.__(K,J),Pe=(ve=typeof ie=="function")?null:ie&&ie.__k||J.__k,xe=[],fe(J,K=(!ve&&ie||J).__k=H(Z,null,[K]),Pe||S,S,J.ownerSVGElement!==void 0,!ve&&ie?[ie]:Pe?null:J.firstChild?p.call(J.childNodes):null,xe,!ve&&ie?ie:Pe?Pe.__e:J.firstChild,ve),ue(xe,K)}function Me(K,J){ze(K,J,Me)}function Fe(K,J,ie){var ve,Pe,xe,We=R({},K.props);for(xe in J)xe=="key"?ve=J[xe]:xe=="ref"?Pe=J[xe]:We[xe]=J[xe];return arguments.length>2&&(We.children=arguments.length>3?p.call(arguments,2):ie),I(K.type,We,ve||K.key,Pe||K.ref,null)}function ct(K,J){var ie={__c:J="__cC"+j++,__:K,Consumer:function(ve,Pe){return ve.children(Pe)},Provider:function(ve){var Pe,xe;return this.getChildContext||(Pe=[],(xe={})[J]=this,this.getChildContext=function(){return xe},this.shouldComponentUpdate=function(We){this.props.value!==We.value&&Pe.some(k)},this.sub=function(We){Pe.push(We);var He=We.componentWillUnmount;We.componentWillUnmount=function(){Pe.splice(Pe.indexOf(We),1),He&&He.call(We)}}),ve.children}};return ie.Provider.__=ie.Consumer.contextType=ie}p=P.slice,s={__e:function(K,J){for(var ie,ve,Pe;J=J.__;)if((ie=J.__c)&&!ie.__)try{if((ve=ie.constructor)&&ve.getDerivedStateFromError!=null&&(ie.setState(ve.getDerivedStateFromError(K)),Pe=ie.__d),ie.componentDidCatch!=null&&(ie.componentDidCatch(K),Pe=ie.__d),Pe)return ie.__E=ie}catch(xe){K=xe}throw K}},m=0,Y.prototype.setState=function(K,J){var ie;ie=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=R({},this.state),typeof K=="function"&&(K=K(R({},ie),this.props)),K&&R(ie,K),K!=null&&this.__v&&(J&&this.__h.push(J),k(this))},Y.prototype.forceUpdate=function(K){this.__v&&(this.__e=!0,K&&this.__h.push(K),k(this))},Y.prototype.render=Z,_=[],w=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,L.__r=0,j=0},function(c,f,a){var p=a(113),s=a(46),m=a(172);p||s(Object.prototype,"toString",m,{unsafe:!0})},function(c,f,a){var p=a(39),s=a(75),m=a(66),_=a(59),w=a(107),O=_.set,j=_.getterFor("Array Iterator");c.exports=w(Array,"Array",function(S,P){O(this,{type:"Array Iterator",target:p(S),index:0,kind:P})},function(){var S=j(this),P=S.target,N=S.kind,R=S.index++;return!P||R>=P.length?(S.target=void 0,{value:void 0,done:!0}):N=="keys"?{value:R,done:!1}:N=="values"?{value:P[R],done:!1}:{value:[R,P[R]],done:!1}},"values"),m.Arguments=m.Array,s("keys"),s("values"),s("entries")},function(c,f,a){var p=a(19),s=a(10),m=a(49),_=a(95),w=a(34),O=a(17),j=a(77),S=a(33),P=a(103),N=a(21),R=a(32),X=a(93),H=a(28),I=a(30),V=a(56),Z=a(82),Y=a(29),M=a(37),z=a(39),k=a(81),L=a(38),U=a(67),te=a(52),$=a(63),ae=a(68),ge=a(132),be=a(108),ye=a(54),je=a(35),fe=a(86),ue=a(116),_e=a(46),we=a(76),ke=a(85),Ce=a(65),ze=a(78),Me=a(26),Fe=a(143),ct=a(144),K=a(89),J=a(59),ie=a(69).forEach,ve=ke("hidden"),Pe=Me("toPrimitive"),xe=J.set,We=J.getterFor("Symbol"),He=Object.prototype,Je=s.Symbol,Ye=Je&&Je.prototype,de=s.TypeError,q=s.QObject,Be=m("JSON","stringify"),Le=ye.f,Ke=je.f,Dt=ge.f,it=fe.f,lt=O([].push),ht=we("symbols"),Ft=we("op-symbols"),G=we("string-to-symbol-registry"),Q=we("symbol-to-string-registry"),ce=we("wks"),Ee=!q||!q.prototype||!q.prototype.findChild,$e=S&&N(function(){return te(Ke({},"a",{get:function(){return Ke(this,"a",{value:7}).a}})).a!=7})?function(Ne,Ue,Qe){var ft=Le(He,Ue);ft&&delete He[Ue],Ke(Ne,Ue,Qe),ft&&Ne!==He&&Ke(He,Ue,ft)}:Ke,Ge=function(Ne,Ue){var Qe=ht[Ne]=te(Ye);return xe(Qe,{type:"Symbol",tag:Ne,description:Ue}),S||(Qe.description=Ue),Qe},et=function(Ne,Ue,Qe){Ne===He&&et(Ft,Ue,Qe),Y(Ne);var ft=k(Ue);return Y(Qe),R(ht,ft)?(Qe.enumerable?(R(Ne,ve)&&Ne[ve][ft]&&(Ne[ve][ft]=!1),Qe=te(Qe,{enumerable:U(0,!1)})):(R(Ne,ve)||Ke(Ne,ve,U(1,{})),Ne[ve][ft]=!0),$e(Ne,ft,Qe)):Ke(Ne,ft,Qe)},yt=function(Ne,Ue){Y(Ne);var Qe=z(Ue),ft=$(Qe).concat(kn(Qe));return ie(ft,function(xt){S&&!w(At,Qe,xt)||et(Ne,xt,Qe[xt])}),Ne},At=function(Ne){var Ue=k(Ne),Qe=w(it,this,Ue);return!(this===He&&R(ht,Ue)&&!R(Ft,Ue))&&(!(Qe||!R(this,Ue)||!R(ht,Ue)||R(this,ve)&&this[ve][Ue])||Qe)},zt=function(Ne,Ue){var Qe=z(Ne),ft=k(Ue);if(Qe!==He||!R(ht,ft)||R(Ft,ft)){var xt=Le(Qe,ft);return!xt||!R(ht,ft)||R(Qe,ve)&&Qe[ve][ft]||(xt.enumerable=!0),xt}},Gn=function(Ne){var Ue=Dt(z(Ne)),Qe=[];return ie(Ue,function(ft){R(ht,ft)||R(Ce,ft)||lt(Qe,ft)}),Qe},kn=function(Ne){var Ue=Ne===He,Qe=Dt(Ue?Ft:z(Ne)),ft=[];return ie(Qe,function(xt){!R(ht,xt)||Ue&&!R(He,xt)||lt(ft,ht[xt])}),ft};if(P||(_e(Ye=(Je=function(){if(V(Ye,this))throw de("Symbol is not a constructor");var Ne=arguments.length&&arguments[0]!==void 0?L(arguments[0]):void 0,Ue=ze(Ne),Qe=function(ft){this===He&&w(Qe,Ft,ft),R(this,ve)&&R(this[ve],Ue)&&(this[ve][Ue]=!1),$e(this,Ue,U(1,ft))};return S&&Ee&&$e(He,Ue,{configurable:!0,set:Qe}),Ge(Ue,Ne)}).prototype,"toString",function(){return We(this).tag}),_e(Je,"withoutSetter",function(Ne){return Ge(ze(Ne),Ne)}),fe.f=At,je.f=et,ye.f=zt,ae.f=ge.f=Gn,be.f=kn,Fe.f=function(Ne){return Ge(Me(Ne),Ne)},S&&(Ke(Ye,"description",{configurable:!0,get:function(){return We(this).description}}),j||_e(He,"propertyIsEnumerable",At,{unsafe:!0}))),p({global:!0,wrap:!0,forced:!P,sham:!P},{Symbol:Je}),ie($(ce),function(Ne){ct(Ne)}),p({target:"Symbol",stat:!0,forced:!P},{for:function(Ne){var Ue=L(Ne);if(R(G,Ue))return G[Ue];var Qe=Je(Ue);return G[Ue]=Qe,Q[Qe]=Ue,Qe},keyFor:function(Ne){if(!Z(Ne))throw de(Ne+" is not a symbol");if(R(Q,Ne))return Q[Ne]},useSetter:function(){Ee=!0},useSimple:function(){Ee=!1}}),p({target:"Object",stat:!0,forced:!P,sham:!S},{create:function(Ne,Ue){return Ue===void 0?te(Ne):yt(te(Ne),Ue)},defineProperty:et,defineProperties:yt,getOwnPropertyDescriptor:zt}),p({target:"Object",stat:!0,forced:!P},{getOwnPropertyNames:Gn,getOwnPropertySymbols:kn}),p({target:"Object",stat:!0,forced:N(function(){be.f(1)})},{getOwnPropertySymbols:function(Ne){return be.f(M(Ne))}}),Be&&p({target:"JSON",stat:!0,forced:!P||N(function(){var Ne=Je();return Be([Ne])!="[null]"||Be({a:Ne})!="{}"||Be(Object(Ne))!="{}"})},{stringify:function(Ne,Ue,Qe){var ft=ue(arguments),xt=Ue;if((I(Ue)||Ne!==void 0)&&!Z(Ne))return X(Ue)||(Ue=function(Ct,$t){if(H(xt)&&($t=w(xt,this,Ct,$t)),!Z($t))return $t}),ft[1]=Ue,_(Be,null,ft)}}),!Ye[Pe]){var bt=Ye.valueOf;_e(Ye,Pe,function(Ne){return w(bt,this)})}K(Je,"Symbol"),Ce[ve]=!0},function(c,f,a){var p=a(10),s=a(141),m=a(142),_=a(3),w=a(53),O=a(26),j=O("iterator"),S=O("toStringTag"),P=_.values,N=function(X,H){if(X){if(X[j]!==P)try{w(X,j,P)}catch(V){X[j]=P}if(X[S]||w(X,S,H),s[H]){for(var I in _)if(X[I]!==_[I])try{w(X,I,_[I])}catch(V){X[I]=_[I]}}}};for(var R in s)N(p[R]&&p[R].prototype,R);N(m,"DOMTokenList")},function(c,f,a){var p=a(140).charAt,s=a(38),m=a(59),_=a(107),w=m.set,O=m.getterFor("String Iterator");_(String,"String",function(j){w(this,{type:"String Iterator",string:s(j),index:0})},function(){var j,S=O(this),P=S.string,N=S.index;return N>=P.length?{value:void 0,done:!0}:(j=p(P,N),S.index+=j.length,{value:j,done:!1})})},function(c,f,a){var p=a(19),s=a(33),m=a(10),_=a(17),w=a(32),O=a(28),j=a(56),S=a(38),P=a(35).f,N=a(127),R=m.Symbol,X=R&&R.prototype;if(s&&O(R)&&(!("description"in X)||R().description!==void 0)){var H={},I=function(){var L=arguments.length<1||arguments[0]===void 0?void 0:S(arguments[0]),U=j(X,this)?new R(L):L===void 0?R():R(L);return L===""&&(H[U]=!0),U};N(I,R),I.prototype=X,X.constructor=I;var V=String(R("test"))=="Symbol(test)",Z=_(X.toString),Y=_(X.valueOf),M=/^Symbol\((.*)\)[^)]+$/,z=_("".replace),k=_("".slice);P(X,"description",{configurable:!0,get:function(){var L=Y(this),U=Z(L);if(w(H,L))return"";var te=V?k(U,7,-1):z(U,M,"$1");return te===""?void 0:te}}),p({global:!0,forced:!0},{Symbol:I})}},function(c,f,a){a(144)("iterator")},function(c,f,a){var p=a(10),s=a(141),m=a(142),_=a(173),w=a(53),O=function(S){if(S&&S.forEach!==_)try{w(S,"forEach",_)}catch(P){S.forEach=_}};for(var j in s)s[j]&&O(p[j]&&p[j].prototype);O(m)},function(c,f,a){(function(p){var s=function(m){return m&&m.Math==Math&&m};c.exports=s(typeof globalThis=="object"&&globalThis)||s(typeof window=="object"&&window)||s(typeof self=="object"&&self)||s(typeof p=="object"&&p)||function(){return this}()||Function("return this")()}).call(this,a(74))},function(c,f,a){a.d(f,"a",function(){return _.a}),a.d(f,"c",function(){return _.e}),a.d(f,"h",function(){return M}),a.d(f,"i",function(){return V}),a.d(f,"j",function(){return H}),a.d(f,"b",function(){return ye}),a.d(f,"e",function(){return _e}),a.d(f,"f",function(){return je}),a.d(f,"g",function(){return lt});var p,s,m,_=a(1),w=0,O=[],j=_.i.__b,S=_.i.__r,P=_.i.diffed,N=_.i.__c,R=_.i.unmount;function X(G,Q){_.i.__h&&_.i.__h(s,G,w||Q),w=0;var ce=s.__H||(s.__H={__:[],__h:[]});return G>=ce.__.length&&ce.__.push({}),ce.__[G]}function H(G){return w=1,I(ae,G)}function I(G,Q,ce){var Ee=X(p++,2);return Ee.t=G,Ee.__c||(Ee.__=[ce?ce(Q):ae(void 0,Q),function($e){var Ge=Ee.t(Ee.__[0],$e);Ee.__[0]!==Ge&&(Ee.__=[Ge,Ee.__[1]],Ee.__c.setState({}))}],Ee.__c=s),Ee.__}function V(G,Q){var ce=X(p++,3);!_.i.__s&&$(ce.__H,Q)&&(ce.__=G,ce.__H=Q,s.__H.__h.push(ce))}function Z(G,Q){var ce=X(p++,4);!_.i.__s&&$(ce.__H,Q)&&(ce.__=G,ce.__H=Q,s.__h.push(ce))}function Y(G,Q){var ce=X(p++,7);return $(ce.__H,Q)&&(ce.__=G(),ce.__H=Q,ce.__h=G),ce.__}function M(G,Q){return w=8,Y(function(){return G},Q)}function z(){var G;for(O.sort(function(Q,ce){return Q.__v.__b-ce.__v.__b});G=O.pop();)if(G.__P)try{G.__H.__h.forEach(U),G.__H.__h.forEach(te),G.__H.__h=[]}catch(Q){G.__H.__h=[],_.i.__e(Q,G.__v)}}_.i.__b=function(G){s=null,j&&j(G)},_.i.__r=function(G){S&&S(G),p=0;var Q=(s=G.__c).__H;Q&&(Q.__h.forEach(U),Q.__h.forEach(te),Q.__h=[])},_.i.diffed=function(G){P&&P(G);var Q=G.__c;Q&&Q.__H&&Q.__H.__h.length&&(O.push(Q)!==1&&m===_.i.requestAnimationFrame||((m=_.i.requestAnimationFrame)||L)(z)),s=null},_.i.__c=function(G,Q){Q.some(function(ce){try{ce.__h.forEach(U),ce.__h=ce.__h.filter(function(Ee){return!Ee.__||te(Ee)})}catch(Ee){Q.some(function($e){$e.__h&&($e.__h=[])}),Q=[],_.i.__e(Ee,ce.__v)}}),N&&N(G,Q)},_.i.unmount=function(G){R&&R(G);var Q,ce=G.__c;ce&&ce.__H&&(ce.__H.__.forEach(function(Ee){try{U(Ee)}catch($e){Q=$e}}),Q&&_.i.__e(Q,ce.__v))};var k=typeof requestAnimationFrame=="function";function L(G){var Q,ce=function(){clearTimeout(Ee),k&&cancelAnimationFrame(Q),setTimeout(G)},Ee=setTimeout(ce,100);k&&(Q=requestAnimationFrame(ce))}function U(G){var Q=s,ce=G.__c;typeof ce=="function"&&(G.__c=void 0,ce()),s=Q}function te(G){var Q=s;G.__c=G.__(),s=Q}function $(G,Q){return!G||G.length!==Q.length||Q.some(function(ce,Ee){return ce!==G[Ee]})}function ae(G,Q){return typeof Q=="function"?Q(G):Q}function ge(G,Q){for(var ce in Q)G[ce]=Q[ce];return G}function be(G,Q){for(var ce in G)if(ce!=="__source"&&!(ce in Q))return!0;for(var Ee in Q)if(Ee!=="__source"&&G[Ee]!==Q[Ee])return!0;return!1}function ye(G){this.props=G}function je(G,Q){function ce($e){var Ge=this.props.ref,et=Ge==$e.ref;return!et&&Ge&&(Ge.call?Ge(null):Ge.current=null),Q?!Q(this.props,$e)||!et:be(this.props,$e)}function Ee($e){return this.shouldComponentUpdate=ce,Object(_.e)(G,$e)}return Ee.displayName="Memo("+(G.displayName||G.name)+")",Ee.prototype.isReactComponent=!0,Ee.__f=!0,Ee}(ye.prototype=new _.a).isPureReactComponent=!0,ye.prototype.shouldComponentUpdate=function(G,Q){return be(this.props,G)||be(this.state,Q)};var fe=_.i.__b;_.i.__b=function(G){G.type&&G.type.__f&&G.ref&&(G.props.ref=G.ref,G.ref=null),fe&&fe(G)};var ue=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function _e(G){function Q(ce,Ee){var $e=ge({},ce);return delete $e.ref,G($e,!(Ee=ce.ref||Ee)||typeof Ee=="object"&&!("current"in Ee)?null:Ee)}return Q.$$typeof=ue,Q.render=Q,Q.prototype.isReactComponent=Q.__f=!0,Q.displayName="ForwardRef("+(G.displayName||G.name)+")",Q}var we=function(G,Q){return G==null?null:Object(_.k)(Object(_.k)(G).map(Q))},ke={map:we,forEach:we,count:function(G){return G?Object(_.k)(G).length:0},only:function(G){var Q=Object(_.k)(G);if(Q.length!==1)throw"Children.only";return Q[0]},toArray:_.k},Ce=_.i.__e;_.i.__e=function(G,Q,ce){if(G.then){for(var Ee,$e=Q;$e=$e.__;)if((Ee=$e.__c)&&Ee.__c)return Q.__e==null&&(Q.__e=ce.__e,Q.__k=ce.__k),Ee.__c(G,Q)}Ce(G,Q,ce)};var ze=_.i.unmount;function Me(){this.__u=0,this.t=null,this.__b=null}function Fe(G){var Q=G.__.__c;return Q&&Q.__e&&Q.__e(G)}function ct(){this.u=null,this.o=null}_.i.unmount=function(G){var Q=G.__c;Q&&Q.__R&&Q.__R(),Q&&G.__h===!0&&(G.type=null),ze&&ze(G)},(Me.prototype=new _.a).__c=function(G,Q){var ce=Q.__c,Ee=this;Ee.t==null&&(Ee.t=[]),Ee.t.push(ce);var $e=Fe(Ee.__v),Ge=!1,et=function(){Ge||(Ge=!0,ce.__R=null,$e?$e(yt):yt())};ce.__R=et;var yt=function(){if(!--Ee.__u){if(Ee.state.__e){var zt=Ee.state.__e;Ee.__v.__k[0]=function kn(bt,Ne,Ue){return bt&&(bt.__v=null,bt.__k=bt.__k&&bt.__k.map(function(Qe){return kn(Qe,Ne,Ue)}),bt.__c&&bt.__c.__P===Ne&&(bt.__e&&Ue.insertBefore(bt.__e,bt.__d),bt.__c.__e=!0,bt.__c.__P=Ue)),bt}(zt,zt.__c.__P,zt.__c.__O)}var Gn;for(Ee.setState({__e:Ee.__b=null});Gn=Ee.t.pop();)Gn.forceUpdate()}},At=Q.__h===!0;Ee.__u++||At||Ee.setState({__e:Ee.__b=Ee.__v.__k[0]}),G.then(et,et)},Me.prototype.componentWillUnmount=function(){this.t=[]},Me.prototype.render=function(G,Q){if(this.__b){if(this.__v.__k){var ce=document.createElement("div"),Ee=this.__v.__k[0].__c;this.__v.__k[0]=function Ge(et,yt,At){return et&&(et.__c&&et.__c.__H&&(et.__c.__H.__.forEach(function(zt){typeof zt.__c=="function"&&zt.__c()}),et.__c.__H=null),(et=ge({},et)).__c!=null&&(et.__c.__P===At&&(et.__c.__P=yt),et.__c=null),et.__k=et.__k&&et.__k.map(function(zt){return Ge(zt,yt,At)})),et}(this.__b,ce,Ee.__O=Ee.__P)}this.__b=null}var $e=Q.__e&&Object(_.e)(_.b,null,G.fallback);return $e&&($e.__h=null),[Object(_.e)(_.b,null,Q.__e?null:G.children),$e]};var K=function(G,Q,ce){if(++ce[1]===ce[0]&&G.o.delete(Q),G.props.revealOrder&&(G.props.revealOrder[0]!=="t"||!G.o.size))for(ce=G.u;ce;){for(;ce.length>3;)ce.pop()();if(ce[1]<ce[0])break;G.u=ce=ce[2]}};function J(G){return this.getChildContext=function(){return G.context},G.children}function ie(G){var Q=this,ce=G.i;Q.componentWillUnmount=function(){Object(_.j)(null,Q.l),Q.l=null,Q.i=null},Q.i&&Q.i!==ce&&Q.componentWillUnmount(),G.__v?(Q.l||(Q.i=ce,Q.l={nodeType:1,parentNode:ce,childNodes:[],appendChild:function(Ee){this.childNodes.push(Ee),Q.i.appendChild(Ee)},insertBefore:function(Ee,$e){this.childNodes.push(Ee),Q.i.appendChild(Ee)},removeChild:function(Ee){this.childNodes.splice(this.childNodes.indexOf(Ee)>>>1,1),Q.i.removeChild(Ee)}}),Object(_.j)(Object(_.e)(J,{context:Q.context},G.__v),Q.l)):Q.l&&Q.componentWillUnmount()}(ct.prototype=new _.a).__e=function(G){var Q=this,ce=Fe(Q.__v),Ee=Q.o.get(G);return Ee[0]++,function($e){var Ge=function(){Q.props.revealOrder?(Ee.push($e),K(Q,G,Ee)):$e()};ce?ce(Ge):Ge()}},ct.prototype.render=function(G){this.u=null,this.o=new Map;var Q=Object(_.k)(G.children);G.revealOrder&&G.revealOrder[0]==="b"&&Q.reverse();for(var ce=Q.length;ce--;)this.o.set(Q[ce],this.u=[1,0,this.u]);return G.children},ct.prototype.componentDidUpdate=ct.prototype.componentDidMount=function(){var G=this;this.o.forEach(function(Q,ce){K(G,ce,Q)})};var ve=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.element")||60103,Pe=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,xe=typeof document!="undefined",We=function(G){return(typeof Symbol!="undefined"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(G)};_.a.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(G){Object.defineProperty(_.a.prototype,G,{configurable:!0,get:function(){return this["UNSAFE_"+G]},set:function(Q){Object.defineProperty(this,G,{configurable:!0,writable:!0,value:Q})}})});var He=_.i.event;function Je(){}function Ye(){return this.cancelBubble}function de(){return this.defaultPrevented}_.i.event=function(G){return He&&(G=He(G)),G.persist=Je,G.isPropagationStopped=Ye,G.isDefaultPrevented=de,G.nativeEvent=G};var q,Be={configurable:!0,get:function(){return this.class}},Le=_.i.vnode;_.i.vnode=function(G){var Q=G.type,ce=G.props,Ee=ce;if(typeof Q=="string"){var $e=Q.indexOf("-")===-1;for(var Ge in Ee={},ce){var et=ce[Ge];xe&&Ge==="children"&&Q==="noscript"||Ge==="value"&&"defaultValue"in ce&&et==null||(Ge==="defaultValue"&&"value"in ce&&ce.value==null?Ge="value":Ge==="download"&&et===!0?et="":/ondoubleclick/i.test(Ge)?Ge="ondblclick":/^onchange(textarea|input)/i.test(Ge+Q)&&!We(ce.type)?Ge="oninput":/^onfocus$/i.test(Ge)?Ge="onfocusin":/^onblur$/i.test(Ge)?Ge="onfocusout":/^on(Ani|Tra|Tou|BeforeInp)/.test(Ge)?Ge=Ge.toLowerCase():$e&&Pe.test(Ge)?Ge=Ge.replace(/[A-Z0-9]/,"-$&").toLowerCase():et===null&&(et=void 0),Ee[Ge]=et)}Q=="select"&&Ee.multiple&&Array.isArray(Ee.value)&&(Ee.value=Object(_.k)(ce.children).forEach(function(yt){yt.props.selected=Ee.value.indexOf(yt.props.value)!=-1})),Q=="select"&&Ee.defaultValue!=null&&(Ee.value=Object(_.k)(ce.children).forEach(function(yt){yt.props.selected=Ee.multiple?Ee.defaultValue.indexOf(yt.props.value)!=-1:Ee.defaultValue==yt.props.value})),G.props=Ee,ce.class!=ce.className&&(Be.enumerable="className"in ce,ce.className!=null&&(Ee.class=ce.className),Object.defineProperty(Ee,"className",Be))}G.$$typeof=ve,Le&&Le(G)};var Ke=_.i.__r;_.i.__r=function(G){Ke&&Ke(G),q=G.__c};var Dt={ReactCurrentDispatcher:{current:{readContext:function(G){return q.__n[G.__c].props.value}}}};function it(G){return!!G&&G.$$typeof===ve}var lt=function(G,Q){return G(Q)},ht=_.b,Ft={useState:H,useReducer:I,useEffect:V,useLayoutEffect:Z,useRef:function(G){return w=5,Y(function(){return{current:G}},[])},useImperativeHandle:function(G,Q,ce){w=6,Z(function(){typeof G=="function"?G(Q()):G&&(G.current=Q())},ce==null?ce:ce.concat(G))},useMemo:Y,useCallback:M,useContext:function(G){var Q=s.context[G.__c],ce=X(p++,9);return ce.c=G,Q?(ce.__==null&&(ce.__=!0,Q.sub(s)),Q.props.value):G.__},useDebugValue:function(G,Q){_.i.useDebugValue&&_.i.useDebugValue(Q?Q(G):G)},version:"17.0.2",Children:ke,render:function(G,Q,ce){return Q.__k==null&&(Q.textContent=""),Object(_.j)(G,Q),typeof ce=="function"&&ce(),G?G.__c:null},hydrate:function(G,Q,ce){return Object(_.h)(G,Q),typeof ce=="function"&&ce(),G?G.__c:null},unmountComponentAtNode:function(G){return!!G.__k&&(Object(_.j)(null,G),!0)},createPortal:function(G,Q){return Object(_.e)(ie,{__v:G,i:Q})},createElement:_.e,createContext:_.d,createFactory:function(G){return _.e.bind(null,G)},cloneElement:function(G){return it(G)?_.c.apply(null,arguments):G},createRef:_.f,Fragment:_.b,isValidElement:it,findDOMNode:function(G){return G&&(G.base||G.nodeType===1&&G)||null},Component:_.a,PureComponent:ye,memo:je,forwardRef:_e,flushSync:function(G,Q){return G(Q)},unstable_batchedUpdates:lt,StrictMode:ht,Suspense:Me,SuspenseList:ct,lazy:function(G){var Q,ce,Ee;function $e(Ge){if(Q||(Q=G()).then(function(et){ce=et.default||et},function(et){Ee=et}),Ee)throw Ee;if(!ce)throw Q;return Object(_.e)(ce,Ge)}return $e.displayName="Lazy",$e.__f=!0,$e},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:Dt};f.d=Ft},function(c,f,a){a(19)({target:"Object",stat:!0},{setPrototypeOf:a(110)})},function(c,f,a){var p=a(19),s=a(21),m=a(37),_=a(88),w=a(130);p({target:"Object",stat:!0,forced:s(function(){_(1)}),sham:!w},{getPrototypeOf:function(O){return _(m(O))}})},function(c,f,a){var p=a(19),s=a(49),m=a(95),_=a(192),w=a(150),O=a(29),j=a(30),S=a(52),P=a(21),N=s("Reflect","construct"),R=Object.prototype,X=[].push,H=P(function(){function Z(){}return!(N(function(){},[],Z)instanceof Z)}),I=!P(function(){N(function(){})}),V=H||I;p({target:"Reflect",stat:!0,forced:V,sham:V},{construct:function(Z,Y){w(Z),O(Y);var M=arguments.length<3?Z:w(arguments[2]);if(I&&!H)return N(Z,Y,M);if(Z==M){switch(Y.length){case 0:return new Z;case 1:return new Z(Y[0]);case 2:return new Z(Y[0],Y[1]);case 3:return new Z(Y[0],Y[1],Y[2]);case 4:return new Z(Y[0],Y[1],Y[2],Y[3])}var z=[null];return m(X,z,Y),new(m(_,Z,z))}var k=M.prototype,L=S(j(k)?k:R),U=m(Z,L,Y);return j(U)?U:L}})},function(c,f,a){var p=a(19),s=a(37),m=a(63);p({target:"Object",stat:!0,forced:a(21)(function(){m(1)})},{keys:function(_){return m(s(_))}})},function(c,f,a){var p=a(19),s=a(21),m=a(39),_=a(54).f,w=a(33),O=s(function(){_(1)});p({target:"Object",stat:!0,forced:!w||O,sham:!w},{getOwnPropertyDescriptor:function(j,S){return _(m(j),S)}})},function(c,f){var a=Function.prototype,p=a.bind,s=a.call,m=p&&p.bind(s);c.exports=p?function(_){return _&&m(s,_)}:function(_){return _&&function(){return s.apply(_,arguments)}}},function(c,f,a){var p=a(19),s=a(10),m=a(93),_=a(94),w=a(30),O=a(64),j=a(45),S=a(39),P=a(60),N=a(26),R=a(70),X=a(116),H=R("slice"),I=N("species"),V=s.Array,Z=Math.max;p({target:"Array",proto:!0,forced:!H},{slice:function(Y,M){var z,k,L,U=S(this),te=j(U),$=O(Y,te),ae=O(M===void 0?te:M,te);if(m(U)&&(z=U.constructor,(_(z)&&(z===V||m(z.prototype))||w(z)&&(z=z[I])===null)&&(z=void 0),z===V||z===void 0))return X(U,$,ae);for(k=new(z===void 0?V:z)(Z(ae-$,0)),L=0;$<ae;$++,L++)$ in U&&P(k,L,U[$]);return k.length=L,k}})},function(c,f,a){var p=a(10),s=a(54).f,m=a(53),_=a(46),w=a(102),O=a(127),j=a(109);c.exports=function(S,P){var N,R,X,H,I,V=S.target,Z=S.global,Y=S.stat;if(N=Z?p:Y?p[V]||w(V,{}):(p[V]||{}).prototype)for(R in P){if(H=P[R],X=S.noTargetGet?(I=s(N,R))&&I.value:N[R],!j(Z?R:V+(Y?".":"#")+R,S.forced)&&X!==void 0){if(typeof H==typeof X)continue;O(H,X)}(S.sham||X&&X.sham)&&m(H,"sham",!0),_(N,R,H,S)}}},function(c,f,a){var p=a(19),s=a(96);p({target:"RegExp",proto:!0,forced:/./.exec!==s},{exec:s})},function(c,f){c.exports=function(a){try{return!!a()}catch(p){return!0}}},function(c,f,a){var p=a(33),s=a(87).EXISTS,m=a(17),_=a(35).f,w=Function.prototype,O=m(w.toString),j=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,S=m(j.exec);p&&!s&&_(w,"name",{configurable:!0,get:function(){try{return S(j,O(this))[1]}catch(P){return""}}})},function(c,f,a){var p=a(19),s=a(176);p({target:"Array",stat:!0,forced:!a(138)(function(m){Array.from(m)})},{from:s})},function(c,f,a){var p=a(19),s=a(69).filter;p({target:"Array",proto:!0,forced:!a(70)("filter")},{filter:function(m){return s(this,m,arguments.length>1?arguments[1]:void 0)}})},function(c,f,a){var p=a(19),s=a(33),m=a(128),_=a(39),w=a(54),O=a(60);p({target:"Object",stat:!0,sham:!s},{getOwnPropertyDescriptors:function(j){for(var S,P,N=_(j),R=w.f,X=m(N),H={},I=0;X.length>I;)(P=R(N,S=X[I++]))!==void 0&&O(H,S,P);return H}})},function(c,f,a){var p=a(10),s=a(76),m=a(32),_=a(78),w=a(103),O=a(122),j=s("wks"),S=p.Symbol,P=S&&S.for,N=O?S:S&&S.withoutSetter||_;c.exports=function(R){if(!m(j,R)||!w&&typeof j[R]!="string"){var X="Symbol."+R;w&&m(S,R)?j[R]=S[R]:j[R]=O&&P?P(X):N(X)}return j[R]}},function(c,f,a){var p=a(100),s=typeof self=="object"&&self&&self.Object===Object&&self,m=p.a||s||Function("return this")();f.a=m},function(c,f){c.exports=function(a){return typeof a=="function"}},function(c,f,a){var p=a(10),s=a(30),m=p.String,_=p.TypeError;c.exports=function(w){if(s(w))return w;throw _(m(w)+" is not an object")}},function(c,f,a){var p=a(28);c.exports=function(s){return typeof s=="object"?s!==null:p(s)}},,function(c,f,a){var p=a(17),s=a(37),m=p({}.hasOwnProperty);c.exports=Object.hasOwn||function(_,w){return m(s(_),w)}},function(c,f,a){var p=a(21);c.exports=!p(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},function(c,f){var a=Function.prototype.call;c.exports=a.bind?a.bind(a):function(){return a.apply(a,arguments)}},function(c,f,a){var p=a(10),s=a(33),m=a(123),_=a(29),w=a(81),O=p.TypeError,j=Object.defineProperty;f.f=s?j:function(S,P,N){if(_(S),P=w(P),_(N),m)try{return j(S,P,N)}catch(R){}if("get"in N||"set"in N)throw O("Accessors not supported");return"value"in N&&(S[P]=N.value),S}},function(c,f,a){var p=a(19),s=a(10),m=a(21),_=a(93),w=a(30),O=a(37),j=a(45),S=a(60),P=a(114),N=a(70),R=a(26),X=a(79),H=R("isConcatSpreadable"),I=s.TypeError,V=X>=51||!m(function(){var M=[];return M[H]=!1,M.concat()[0]!==M}),Z=N("concat"),Y=function(M){if(!w(M))return!1;var z=M[H];return z!==void 0?!!z:_(M)};p({target:"Array",proto:!0,forced:!V||!Z},{concat:function(M){var z,k,L,U,te,$=O(this),ae=P($,0),ge=0;for(z=-1,L=arguments.length;z<L;z++)if(Y(te=z===-1?$:arguments[z])){if(ge+(U=j(te))>9007199254740991)throw I("Maximum allowed index exceeded");for(k=0;k<U;k++,ge++)k in te&&S(ae,ge,te[k])}else{if(ge>=9007199254740991)throw I("Maximum allowed index exceeded");S(ae,ge++,te)}return ae.length=ge,ae}})},function(c,f,a){var p=a(10),s=a(44),m=p.Object;c.exports=function(_){return m(s(_))}},function(c,f,a){var p=a(10),s=a(92),m=p.String;c.exports=function(_){if(s(_)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return m(_)}},function(c,f,a){var p=a(73),s=a(44);c.exports=function(m){return p(s(m))}},function(c,f,a){var p=a(19),s=a(69).map;p({target:"Array",proto:!0,forced:!a(70)("map")},{map:function(m){return s(this,m,arguments.length>1?arguments[1]:void 0)}})},function(c,f,a){var p=a(19),s=a(193);p({target:"Object",stat:!0,forced:Object.assign!==s},{assign:s})},function(c,f,a){var p=a(19),s=a(34),m=a(30),_=a(29),w=a(197),O=a(54),j=a(88);p({target:"Reflect",stat:!0},{get:function S(P,N){var R,X,H=arguments.length<3?P:arguments[2];return _(P)===H?P[N]:(R=O.f(P,N))?w(R)?R.value:R.get===void 0?void 0:s(R.get,H):m(X=j(P))?S(X,N,H):void 0}})},function(c,f,a){(function(p){a.d(f,"d",function(){return _}),a.d(f,"c",function(){return w}),a.d(f,"b",function(){return O}),a.d(f,"a",function(){return S});var s=a(11),m=function(P,N){var R=typeof Symbol=="function"&&P[Symbol.iterator];if(!R)return P;var X,H,I=R.call(P),V=[];try{for(;(N===void 0||N-- >0)&&!(X=I.next()).done;)V.push(X.value)}catch(Z){H={error:Z}}finally{try{X&&!X.done&&(R=I.return)&&R.call(I)}finally{if(H)throw H.error}}return V};function _(){var P=m(Object(s.j)(0),2)[1];return Object(s.h)(function(){P(function(N){return N+1})},[])}function w(P){if(!P||typeof P!="object")return!1;var N=Object.getPrototypeOf(P);return!N||N===Object.prototype}function O(P){return typeof Symbol=="function"?Symbol.for(P):"__$mobx-react "+P+"__"}var j={};function S(){return typeof window!="undefined"?window:p!==void 0?p:typeof self!="undefined"?self:j}}).call(this,a(74))},function(c,f,a){var p=a(10).TypeError;c.exports=function(s){if(s==null)throw p("Can't call method on "+s);return s}},function(c,f,a){var p=a(84);c.exports=function(s){return p(s.length)}},function(c,f,a){var p=a(10),s=a(28),m=a(32),_=a(53),w=a(102),O=a(106),j=a(59),S=a(87).CONFIGURABLE,P=j.get,N=j.enforce,R=String(String).split("String");(c.exports=function(X,H,I,V){var Z,Y=!!V&&!!V.unsafe,M=!!V&&!!V.enumerable,z=!!V&&!!V.noTargetGet,k=V&&V.name!==void 0?V.name:H;s(I)&&(String(k).slice(0,7)==="Symbol("&&(k="["+String(k).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!m(I,"name")||S&&I.name!==k)&&_(I,"name",k),(Z=N(I)).source||(Z.source=R.join(typeof k=="string"?k:""))),X!==p?(Y?!z&&X[H]&&(M=!0):delete X[H],M?X[H]=I:_(X,H,I)):M?X[H]=I:w(H,I)})(Function.prototype,"toString",function(){return s(this)&&P(this).source||O(this)})},function(c,f,a){var p=a(19),s=a(201),m=a(75);p({target:"Array",proto:!0},{fill:s}),m("fill")},function(c,f,a){(function(p){var s=a(100),m=y&&!y.nodeType&&y,_=m&&typeof p=="object"&&p&&!p.nodeType&&p,w=_&&_.exports===m&&s.a.process,O=function(){try{var j=_&&_.require&&_.require("util").types;return j||w&&w.binding&&w.binding("util")}catch(S){}}();f.a=O}).call(this,a(117)(c))},function(c,f,a){var p=a(10),s=a(28),m=function(_){return s(_)?_:void 0};c.exports=function(_,w){return arguments.length<2?m(p[_]):p[_]&&p[_][w]}},function(c,f,a){var p=a(19),s=a(200).entries;p({target:"Object",stat:!0},{entries:function(m){return s(m)}})},function(c,f,a){var p=a(17),s=p({}.toString),m=p("".slice);c.exports=function(_){return m(s(_),8,-1)}},function(c,f,a){var p,s=a(29),m=a(159),_=a(105),w=a(65),O=a(161),j=a(104),S=a(85),P=S("IE_PROTO"),N=function(){},R=function(I){return"<script>"+I+"<\/script>"},X=function(I){I.write(R("")),I.close();var V=I.parentWindow.Object;return I=null,V},H=function(){try{p=new ActiveXObject("htmlfile")}catch(Y){}var I,V;H=typeof document!="undefined"?document.domain&&p?X(p):((V=j("iframe")).style.display="none",O.appendChild(V),V.src=String("javascript:"),(I=V.contentWindow.document).open(),I.write(R("document.F=Object")),I.close(),I.F):X(p);for(var Z=_.length;Z--;)delete H.prototype[_[Z]];return H()};w[P]=!0,c.exports=Object.create||function(I,V){var Z;return I!==null?(N.prototype=s(I),Z=new N,N.prototype=null,Z[P]=I):Z=H(),V===void 0?Z:m(Z,V)}},function(c,f,a){var p=a(33),s=a(35),m=a(67);c.exports=p?function(_,w,O){return s.f(_,w,m(1,O))}:function(_,w,O){return _[w]=O,_}},function(c,f,a){var p=a(33),s=a(34),m=a(86),_=a(67),w=a(39),O=a(81),j=a(32),S=a(123),P=Object.getOwnPropertyDescriptor;f.f=p?P:function(N,R){if(N=w(N),R=O(R),S)try{return P(N,R)}catch(X){}if(j(N,R))return _(!s(m.f,N,R),N[R])}},function(c,f,a){(function(p){var s=a(27),m=a(155),_=y&&!y.nodeType&&y,w=_&&typeof p=="object"&&p&&!p.nodeType&&p,O=w&&w.exports===_?s.a.Buffer:void 0,j=(O?O.isBuffer:void 0)||m.a;f.a=j}).call(this,a(117)(c))},function(c,f,a){var p=a(17);c.exports=p({}.isPrototypeOf)},function(c,f,a){var p=a(62);c.exports=function(s,m){var _=s[m];return _==null?void 0:p(_)}},function(c,f){var a=Math.ceil,p=Math.floor;c.exports=function(s){var m=+s;return m!=m||m===0?0:(m>0?p:a)(m)}},function(c,f,a){var p,s,m,_=a(162),w=a(10),O=a(17),j=a(30),S=a(53),P=a(32),N=a(101),R=a(85),X=a(65),H=w.TypeError,I=w.WeakMap;if(_||N.state){var V=N.state||(N.state=new I),Z=O(V.get),Y=O(V.has),M=O(V.set);p=function(k,L){if(Y(V,k))throw new H("Object already initialized");return L.facade=k,M(V,k,L),L},s=function(k){return Z(V,k)||{}},m=function(k){return Y(V,k)}}else{var z=R("state");X[z]=!0,p=function(k,L){if(P(k,z))throw new H("Object already initialized");return L.facade=k,S(k,z,L),L},s=function(k){return P(k,z)?k[z]:{}},m=function(k){return P(k,z)}}c.exports={set:p,get:s,has:m,enforce:function(k){return m(k)?s(k):p(k,{})},getterFor:function(k){return function(L){var U;if(!j(L)||(U=s(L)).type!==k)throw H("Incompatible receiver, "+k+" required");return U}}}},function(c,f,a){var p=a(81),s=a(35),m=a(67);c.exports=function(_,w,O){var j=p(w);j in _?s.f(_,j,m(0,O)):_[j]=O}},function(c,f,a){var p=a(95),s=a(34),m=a(17),_=a(118),w=a(148),O=a(29),j=a(44),S=a(189),P=a(119),N=a(84),R=a(38),X=a(57),H=a(111),I=a(120),V=a(96),Z=a(145),Y=a(21),M=Z.UNSUPPORTED_Y,z=Math.min,k=[].push,L=m(/./.exec),U=m(k),te=m("".slice);_("split",function($,ae,ge){var be;return be="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?function(ye,je){var fe=R(j(this)),ue=je===void 0?4294967295:je>>>0;if(ue===0)return[];if(ye===void 0)return[fe];if(!w(ye))return s(ae,fe,ye,ue);for(var _e,we,ke,Ce=[],ze=(ye.ignoreCase?"i":"")+(ye.multiline?"m":"")+(ye.unicode?"u":"")+(ye.sticky?"y":""),Me=0,Fe=new RegExp(ye.source,ze+"g");(_e=s(V,Fe,fe))&&!((we=Fe.lastIndex)>Me&&(U(Ce,te(fe,Me,_e.index)),_e.length>1&&_e.index<fe.length&&p(k,Ce,H(_e,1)),ke=_e[0].length,Me=we,Ce.length>=ue));)Fe.lastIndex===_e.index&&Fe.lastIndex++;return Me===fe.length?!ke&&L(Fe,"")||U(Ce,""):U(Ce,te(fe,Me)),Ce.length>ue?H(Ce,0,ue):Ce}:"0".split(void 0,0).length?function(ye,je){return ye===void 0&&je===0?[]:s(ae,this,ye,je)}:ae,[function(ye,je){var fe=j(this),ue=ye==null?void 0:X(ye,$);return ue?s(ue,ye,fe,je):s(be,R(fe),ye,je)},function(ye,je){var fe=O(this),ue=R(ye),_e=ge(be,fe,ue,je,be!==ae);if(_e.done)return _e.value;var we=S(fe,RegExp),ke=fe.unicode,Ce=(fe.ignoreCase?"i":"")+(fe.multiline?"m":"")+(fe.unicode?"u":"")+(M?"g":"y"),ze=new we(M?"^(?:"+fe.source+")":fe,Ce),Me=je===void 0?4294967295:je>>>0;if(Me===0)return[];if(ue.length===0)return I(ze,ue)===null?[ue]:[];for(var Fe=0,ct=0,K=[];ct<ue.length;){ze.lastIndex=M?0:ct;var J,ie=I(ze,M?te(ue,ct):ue);if(ie===null||(J=z(N(ze.lastIndex+(M?ct:0)),ue.length))===Fe)ct=P(ue,ct,ke);else{if(U(K,te(ue,Fe,ct)),K.length===Me)return K;for(var ve=1;ve<=ie.length-1;ve++)if(U(K,ie[ve]),K.length===Me)return K;ct=Fe=J}}return U(K,te(ue,Fe)),K}]},!!Y(function(){var $=/(?:)/,ae=$.exec;$.exec=function(){return ae.apply(this,arguments)};var ge="ab".split($);return ge.length!==2||ge[0]!=="a"||ge[1]!=="b"}),M)},function(c,f,a){var p=a(10),s=a(28),m=a(83),_=p.TypeError;c.exports=function(w){if(s(w))return w;throw _(m(w)+" is not a function")}},function(c,f,a){var p=a(125),s=a(105);c.exports=Object.keys||function(m){return p(m,s)}},function(c,f,a){var p=a(58),s=Math.max,m=Math.min;c.exports=function(_,w){var O=p(_);return O<0?s(O+w,0):m(O,w)}},function(c,f){c.exports={}},function(c,f){c.exports={}},function(c,f){c.exports=function(a,p){return{enumerable:!(1&a),configurable:!(2&a),writable:!(4&a),value:p}}},function(c,f,a){var p=a(125),s=a(105).concat("length","prototype");f.f=Object.getOwnPropertyNames||function(m){return p(m,s)}},function(c,f,a){var p=a(91),s=a(17),m=a(73),_=a(37),w=a(45),O=a(114),j=s([].push),S=function(P){var N=P==1,R=P==2,X=P==3,H=P==4,I=P==6,V=P==7,Z=P==5||I;return function(Y,M,z,k){for(var L,U,te=_(Y),$=m(te),ae=p(M,z),ge=w($),be=0,ye=k||O,je=N?ye(Y,ge):R||V?ye(Y,0):void 0;ge>be;be++)if((Z||be in $)&&(U=ae(L=$[be],be,te),P))if(N)je[be]=U;else if(U)switch(P){case 3:return!0;case 5:return L;case 6:return be;case 2:j(je,L)}else switch(P){case 4:return!1;case 7:j(je,L)}return I?-1:X||H?H:je}};c.exports={forEach:S(0),map:S(1),filter:S(2),some:S(3),every:S(4),find:S(5),findIndex:S(6),filterReject:S(7)}},function(c,f,a){var p=a(21),s=a(26),m=a(79),_=s("species");c.exports=function(w){return m>=51||!p(function(){var O=[];return(O.constructor={})[_]=function(){return{foo:1}},O[w](Boolean).foo!==1})}},function(c,f,a){var p=a(33),s=a(10),m=a(17),_=a(109),w=a(46),O=a(32),j=a(139),S=a(56),P=a(82),N=a(124),R=a(21),X=a(68).f,H=a(54).f,I=a(35).f,V=a(190),Z=a(151).trim,Y=s.Number,M=Y.prototype,z=s.TypeError,k=m("".slice),L=m("".charCodeAt),U=function(ye){var je=N(ye,"number");return typeof je=="bigint"?je:te(je)},te=function(ye){var je,fe,ue,_e,we,ke,Ce,ze,Me=N(ye,"number");if(P(Me))throw z("Cannot convert a Symbol value to a number");if(typeof Me=="string"&&Me.length>2){if(Me=Z(Me),(je=L(Me,0))===43||je===45){if((fe=L(Me,2))===88||fe===120)return NaN}else if(je===48){switch(L(Me,1)){case 66:case 98:ue=2,_e=49;break;case 79:case 111:ue=8,_e=55;break;default:return+Me}for(ke=(we=k(Me,2)).length,Ce=0;Ce<ke;Ce++)if((ze=L(we,Ce))<48||ze>_e)return NaN;return parseInt(we,ue)}}return+Me};if(_("Number",!Y(" 0o1")||!Y("0b1")||Y("+0x1"))){for(var $,ae=function(ye){var je=arguments.length<1?0:Y(U(ye)),fe=this;return S(M,fe)&&R(function(){V(fe)})?j(Object(je),fe,ae):je},ge=p?X(Y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),be=0;ge.length>be;be++)O(Y,$=ge[be])&&!O(ae,$)&&I(ae,$,H(Y,$));ae.prototype=M,M.constructor=ae,w(s,"Number",ae)}},function(c,f,a){a(19)({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(c,f,a){var p=a(10),s=a(17),m=a(21),_=a(51),w=p.Object,O=s("".split);c.exports=m(function(){return!w("z").propertyIsEnumerable(0)})?function(j){return _(j)=="String"?O(j,""):w(j)}:w},function(c,f){var a;a=function(){return this}();try{a=a||new Function("return this")()}catch(p){typeof window=="object"&&(a=window)}c.exports=a},function(c,f,a){var p=a(26),s=a(52),m=a(35),_=p("unscopables"),w=Array.prototype;w[_]==null&&m.f(w,_,{configurable:!0,value:s(null)}),c.exports=function(O){w[_][O]=!0}},function(c,f,a){var p=a(77),s=a(101);(c.exports=function(m,_){return s[m]||(s[m]=_!==void 0?_:{})})("versions",[]).push({version:"3.19.3",mode:p?"pure":"global",copyright:"\xA9 2021 Denis Pushkarev (zloirock.ru)"})},function(c,f){c.exports=!1},function(c,f,a){var p=a(17),s=0,m=Math.random(),_=p(1 .toString);c.exports=function(w){return"Symbol("+(w===void 0?"":w)+")_"+_(++s+m,36)}},function(c,f,a){var p,s,m=a(10),_=a(80),w=m.process,O=m.Deno,j=w&&w.versions||O&&O.version,S=j&&j.v8;S&&(s=(p=S.split("."))[0]>0&&p[0]<4?1:+(p[0]+p[1])),!s&&_&&(!(p=_.match(/Edge\/(\d+)/))||p[1]>=74)&&(p=_.match(/Chrome\/(\d+)/))&&(s=+p[1]),c.exports=s},function(c,f,a){var p=a(49);c.exports=p("navigator","userAgent")||""},function(c,f,a){var p=a(124),s=a(82);c.exports=function(m){var _=p(m,"string");return s(_)?_:_+""}},function(c,f,a){var p=a(10),s=a(49),m=a(28),_=a(56),w=a(122),O=p.Object;c.exports=w?function(j){return typeof j=="symbol"}:function(j){var S=s("Symbol");return m(S)&&_(S.prototype,O(j))}},function(c,f,a){var p=a(10).String;c.exports=function(s){try{return p(s)}catch(m){return"Object"}}},function(c,f,a){var p=a(58),s=Math.min;c.exports=function(m){return m>0?s(p(m),9007199254740991):0}},function(c,f,a){var p=a(76),s=a(78),m=p("keys");c.exports=function(_){return m[_]||(m[_]=s(_))}},function(c,f,a){var p={}.propertyIsEnumerable,s=Object.getOwnPropertyDescriptor,m=s&&!p.call({1:2},1);f.f=m?function(_){var w=s(this,_);return!!w&&w.enumerable}:p},function(c,f,a){var p=a(33),s=a(32),m=Function.prototype,_=p&&Object.getOwnPropertyDescriptor,w=s(m,"name"),O=w&&function(){}.name==="something",j=w&&(!p||p&&_(m,"name").configurable);c.exports={EXISTS:w,PROPER:O,CONFIGURABLE:j}},function(c,f,a){var p=a(10),s=a(32),m=a(28),_=a(37),w=a(85),O=a(130),j=w("IE_PROTO"),S=p.Object,P=S.prototype;c.exports=O?S.getPrototypeOf:function(N){var R=_(N);if(s(R,j))return R[j];var X=R.constructor;return m(X)&&R instanceof X?X.prototype:R instanceof S?P:null}},function(c,f,a){var p=a(35).f,s=a(32),m=a(26)("toStringTag");c.exports=function(_,w,O){_&&!s(_=O?_:_.prototype,m)&&p(_,m,{configurable:!0,value:w})}},function(c,f,a){a(165)("Map",function(p){return function(){return p(this,arguments.length?arguments[0]:void 0)}},a(169))},function(c,f,a){var p=a(17),s=a(62),m=p(p.bind);c.exports=function(_,w){return s(_),w===void 0?_:m?m(_,w):function(){return _.apply(w,arguments)}}},function(c,f,a){var p=a(10),s=a(113),m=a(28),_=a(51),w=a(26)("toStringTag"),O=p.Object,j=_(function(){return arguments}())=="Arguments";c.exports=s?_:function(S){var P,N,R;return S===void 0?"Undefined":S===null?"Null":typeof(N=function(X,H){try{return X[H]}catch(I){}}(P=O(S),w))=="string"?N:j?_(P):(R=_(P))=="Object"&&m(P.callee)?"Arguments":R}},function(c,f,a){var p=a(51);c.exports=Array.isArray||function(s){return p(s)=="Array"}},function(c,f,a){var p=a(17),s=a(21),m=a(28),_=a(92),w=a(49),O=a(106),j=function(){},S=[],P=w("Reflect","construct"),N=/^\s*(?:class|function)\b/,R=p(N.exec),X=!N.exec(j),H=function(I){if(!m(I))return!1;try{return P(j,S,I),!0}catch(V){return!1}};c.exports=!P||s(function(){var I;return H(H.call)||!H(Object)||!H(function(){I=!0})||I})?function(I){if(!m(I))return!1;switch(_(I)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return X||!!R(N,O(I))}:H},function(c,f){var a=Function.prototype,p=a.apply,s=a.bind,m=a.call;c.exports=typeof Reflect=="object"&&Reflect.apply||(s?m.bind(p):function(){return m.apply(p,arguments)})},function(c,f,a){var p,s,m=a(34),_=a(17),w=a(38),O=a(178),j=a(145),S=a(76),P=a(52),N=a(59).get,R=a(179),X=a(180),H=S("native-string-replace",String.prototype.replace),I=RegExp.prototype.exec,V=I,Z=_("".charAt),Y=_("".indexOf),M=_("".replace),z=_("".slice),k=(s=/b*/g,m(I,p=/a/,"a"),m(I,s,"a"),p.lastIndex!==0||s.lastIndex!==0),L=j.BROKEN_CARET,U=/()??/.exec("")[1]!==void 0;(k||U||L||R||X)&&(V=function(te){var $,ae,ge,be,ye,je,fe,ue=this,_e=N(ue),we=w(te),ke=_e.raw;if(ke)return ke.lastIndex=ue.lastIndex,$=m(V,ke,we),ue.lastIndex=ke.lastIndex,$;var Ce=_e.groups,ze=L&&ue.sticky,Me=m(O,ue),Fe=ue.source,ct=0,K=we;if(ze&&(Me=M(Me,"y",""),Y(Me,"g")===-1&&(Me+="g"),K=z(we,ue.lastIndex),ue.lastIndex>0&&(!ue.multiline||ue.multiline&&Z(we,ue.lastIndex-1)!==`
`)&&(Fe="(?: "+Fe+")",K=" "+K,ct++),ae=new RegExp("^(?:"+Fe+")",Me)),U&&(ae=new RegExp("^"+Fe+"$(?!\\s)",Me)),k&&(ge=ue.lastIndex),be=m(I,ze?ae:ue,K),ze?be?(be.input=z(be.input,ct),be[0]=z(be[0],ct),be.index=ue.lastIndex,ue.lastIndex+=be[0].length):ue.lastIndex=0:k&&be&&(ue.lastIndex=ue.global?be.index+be[0].length:ge),U&&be&&be.length>1&&m(H,be[0],ae,function(){for(ye=1;ye<arguments.length-2;ye++)arguments[ye]===void 0&&(be[ye]=void 0)}),be&&Ce)for(be.groups=je=P(null),ye=0;ye<Ce.length;ye++)je[(fe=Ce[ye])[0]]=be[fe[1]];return be}),c.exports=V},function(c,f,a){var p=a(19),s=a(10),m=a(64),_=a(58),w=a(45),O=a(37),j=a(114),S=a(60),P=a(70)("splice"),N=s.TypeError,R=Math.max,X=Math.min;p({target:"Array",proto:!0,forced:!P},{splice:function(H,I){var V,Z,Y,M,z,k,L=O(this),U=w(L),te=m(H,U),$=arguments.length;if($===0?V=Z=0:$===1?(V=0,Z=U-te):(V=$-2,Z=X(R(_(I),0),U-te)),U+V-Z>9007199254740991)throw N("Maximum allowed length exceeded");for(Y=j(L,Z),M=0;M<Z;M++)(z=te+M)in L&&S(Y,M,L[z]);if(Y.length=Z,V<Z){for(M=te;M<U-Z;M++)k=M+V,(z=M+Z)in L?L[k]=L[z]:delete L[k];for(M=U;M>U-Z+V;M--)delete L[M-1]}else if(V>Z)for(M=U-Z;M>te;M--)k=M+V-1,(z=M+Z-1)in L?L[k]=L[z]:delete L[k];for(M=0;M<V;M++)L[M+te]=arguments[M+2];return L.length=U-Z+V,Y}})},function(c,f,a){var p=a(19),s=a(17),m=a(73),_=a(39),w=a(115),O=s([].join),j=m!=Object,S=w("join",",");p({target:"Array",proto:!0,forced:j||!S},{join:function(P){return O(_(this),P===void 0?",":P)}})},function(c,f,a){var p=a(19),s=a(194);p({target:"String",proto:!0,forced:a(195)("anchor")},{anchor:function(m){return s(this,"a","name",m)}})},function(c,f,a){(function(p){var s=typeof p=="object"&&p&&p.Object===Object&&p;f.a=s}).call(this,a(74))},function(c,f,a){var p=a(10),s=a(102),m=p["__core-js_shared__"]||s("__core-js_shared__",{});c.exports=m},function(c,f,a){var p=a(10),s=Object.defineProperty;c.exports=function(m,_){try{s(p,m,{value:_,configurable:!0,writable:!0})}catch(w){p[m]=_}return _}},function(c,f,a){var p=a(79),s=a(21);c.exports=!!Object.getOwnPropertySymbols&&!s(function(){var m=Symbol();return!String(m)||!(Object(m)instanceof Symbol)||!Symbol.sham&&p&&p<41})},function(c,f,a){var p=a(10),s=a(30),m=p.document,_=s(m)&&s(m.createElement);c.exports=function(w){return _?m.createElement(w):{}}},function(c,f){c.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(c,f,a){var p=a(17),s=a(28),m=a(101),_=p(Function.toString);s(m.inspectSource)||(m.inspectSource=function(w){return _(w)}),c.exports=m.inspectSource},function(c,f,a){var p=a(19),s=a(34),m=a(77),_=a(87),w=a(28),O=a(163),j=a(88),S=a(110),P=a(89),N=a(53),R=a(46),X=a(26),H=a(66),I=a(129),V=_.PROPER,Z=_.CONFIGURABLE,Y=I.IteratorPrototype,M=I.BUGGY_SAFARI_ITERATORS,z=X("iterator"),k=function(){return this};c.exports=function(L,U,te,$,ae,ge,be){O(te,U,$);var ye,je,fe,ue=function(Fe){if(Fe===ae&&ze)return ze;if(!M&&Fe in ke)return ke[Fe];switch(Fe){case"keys":case"values":case"entries":return function(){return new te(this,Fe)}}return function(){return new te(this)}},_e=U+" Iterator",we=!1,ke=L.prototype,Ce=ke[z]||ke["@@iterator"]||ae&&ke[ae],ze=!M&&Ce||ue(ae),Me=U=="Array"&&ke.entries||Ce;if(Me&&(ye=j(Me.call(new L)))!==Object.prototype&&ye.next&&(m||j(ye)===Y||(S?S(ye,Y):w(ye[z])||R(ye,z,k)),P(ye,_e,!0,!0),m&&(H[_e]=k)),V&&ae=="values"&&Ce&&Ce.name!=="values"&&(!m&&Z?N(ke,"name","values"):(we=!0,ze=function(){return s(Ce,this)})),ae)if(je={values:ue("values"),keys:ge?ze:ue("keys"),entries:ue("entries")},be)for(fe in je)(M||we||!(fe in ke))&&R(ke,fe,je[fe]);else p({target:U,proto:!0,forced:M||we},je);return m&&!be||ke[z]===ze||R(ke,z,ze,{name:ae}),H[U]=ze,je}},function(c,f){f.f=Object.getOwnPropertySymbols},function(c,f,a){var p=a(21),s=a(28),m=/#|\.prototype\./,_=function(P,N){var R=O[w(P)];return R==S||R!=j&&(s(N)?p(N):!!N)},w=_.normalize=function(P){return String(P).replace(m,".").toLowerCase()},O=_.data={},j=_.NATIVE="N",S=_.POLYFILL="P";c.exports=_},function(c,f,a){var p=a(17),s=a(29),m=a(164);c.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var _,w=!1,O={};try{(_=p(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(O,[]),w=O instanceof Array}catch(j){}return function(j,S){return s(j),m(S),w?_(j,S):j.__proto__=S,j}}():void 0)},function(c,f,a){var p=a(10),s=a(64),m=a(45),_=a(60),w=p.Array,O=Math.max;c.exports=function(j,S,P){for(var N=m(j),R=s(S,N),X=s(P===void 0?N:P,N),H=w(O(X-R,0)),I=0;R<X;R++,I++)_(H,I,j[R]);return H.length=I,H}},function(c,f,a){var p=a(92),s=a(57),m=a(66),_=a(26)("iterator");c.exports=function(w){if(w!=null)return s(w,_)||s(w,"@@iterator")||m[p(w)]}},function(c,f,a){var p={};p[a(26)("toStringTag")]="z",c.exports=String(p)==="[object z]"},function(c,f,a){var p=a(174);c.exports=function(s,m){return new(p(s))(m===0?0:m)}},function(c,f,a){var p=a(21);c.exports=function(s,m){var _=[][s];return!!_&&p(function(){_.call(null,m||function(){throw 1},1)})}},function(c,f,a){var p=a(17);c.exports=p([].slice)},function(c,f){c.exports=function(a){if(!a.webpackPolyfill){var p=Object.create(a);p.children||(p.children=[]),Object.defineProperty(p,"loaded",{enumerable:!0,get:function(){return p.l}}),Object.defineProperty(p,"id",{enumerable:!0,get:function(){return p.i}}),Object.defineProperty(p,"exports",{enumerable:!0}),p.webpackPolyfill=1}return p}},function(c,f,a){a(20);var p=a(17),s=a(46),m=a(96),_=a(21),w=a(26),O=a(53),j=w("species"),S=RegExp.prototype;c.exports=function(P,N,R,X){var H=w(P),I=!_(function(){var M={};return M[H]=function(){return 7},""[P](M)!=7}),V=I&&!_(function(){var M=!1,z=/a/;return P==="split"&&((z={}).constructor={},z.constructor[j]=function(){return z},z.flags="",z[H]=/./[H]),z.exec=function(){return M=!0,null},z[H](""),!M});if(!I||!V||R){var Z=p(/./[H]),Y=N(H,""[P],function(M,z,k,L,U){var te=p(M),$=z.exec;return $===m||$===S.exec?I&&!U?{done:!0,value:Z(z,k,L)}:{done:!0,value:te(k,z,L)}:{done:!1}});s(String.prototype,P,Y[0]),s(S,H,Y[1])}X&&O(S[H],"sham",!0)}},function(c,f,a){var p=a(140).charAt;c.exports=function(s,m,_){return m+(_?p(s,m).length:1)}},function(c,f,a){var p=a(10),s=a(34),m=a(29),_=a(28),w=a(51),O=a(96),j=p.TypeError;c.exports=function(S,P){var N=S.exec;if(_(N)){var R=s(N,S,P);return R!==null&&m(R),R}if(w(S)==="RegExp")return s(O,S,P);throw j("RegExp#exec called on incompatible receiver")}},function(c,f,a){a(19)({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(c,f,a){var p=a(103);c.exports=p&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},function(c,f,a){var p=a(33),s=a(21),m=a(104);c.exports=!p&&!s(function(){return Object.defineProperty(m("div"),"a",{get:function(){return 7}}).a!=7})},function(c,f,a){var p=a(10),s=a(34),m=a(30),_=a(82),w=a(57),O=a(160),j=a(26),S=p.TypeError,P=j("toPrimitive");c.exports=function(N,R){if(!m(N)||_(N))return N;var X,H=w(N,P);if(H){if(R===void 0&&(R="default"),X=s(H,N,R),!m(X)||_(X))return X;throw S("Can't convert object to primitive value")}return R===void 0&&(R="number"),O(N,R)}},function(c,f,a){var p=a(17),s=a(32),m=a(39),_=a(126).indexOf,w=a(65),O=p([].push);c.exports=function(j,S){var P,N=m(j),R=0,X=[];for(P in N)!s(w,P)&&s(N,P)&&O(X,P);for(;S.length>R;)s(N,P=S[R++])&&(~_(X,P)||O(X,P));return X}},function(c,f,a){var p=a(39),s=a(64),m=a(45),_=function(w){return function(O,j,S){var P,N=p(O),R=m(N),X=s(S,R);if(w&&j!=j){for(;R>X;)if((P=N[X++])!=P)return!0}else for(;R>X;X++)if((w||X in N)&&N[X]===j)return w||X||0;return!w&&-1}};c.exports={includes:_(!0),indexOf:_(!1)}},function(c,f,a){var p=a(32),s=a(128),m=a(54),_=a(35);c.exports=function(w,O){for(var j=s(O),S=_.f,P=m.f,N=0;N<j.length;N++){var R=j[N];p(w,R)||S(w,R,P(O,R))}}},function(c,f,a){var p=a(49),s=a(17),m=a(68),_=a(108),w=a(29),O=s([].concat);c.exports=p("Reflect","ownKeys")||function(j){var S=m.f(w(j)),P=_.f;return P?O(S,P(j)):S}},function(c,f,a){var p,s,m,_=a(21),w=a(28),O=a(52),j=a(88),S=a(46),P=a(26),N=a(77),R=P("iterator"),X=!1;[].keys&&("next"in(m=[].keys())?(s=j(j(m)))!==Object.prototype&&(p=s):X=!0),p==null||_(function(){var H={};return p[R].call(H)!==H})?p={}:N&&(p=O(p)),w(p[R])||S(p,R,function(){return this}),c.exports={IteratorPrototype:p,BUGGY_SAFARI_ITERATORS:X}},function(c,f,a){var p=a(21);c.exports=!p(function(){function s(){}return s.prototype.constructor=null,Object.getPrototypeOf(new s)!==s.prototype})},function(c,f,a){var p=a(19),s=a(17),m=a(65),_=a(30),w=a(32),O=a(35).f,j=a(68),S=a(132),P=a(166),N=a(78),R=a(168),X=!1,H=N("meta"),I=0,V=function(Y){O(Y,H,{value:{objectID:"O"+I++,weakData:{}}})},Z=c.exports={enable:function(){Z.enable=function(){},X=!0;var Y=j.f,M=s([].splice),z={};z[H]=1,Y(z).length&&(j.f=function(k){for(var L=Y(k),U=0,te=L.length;U<te;U++)if(L[U]===H){M(L,U,1);break}return L},p({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:S.f}))},fastKey:function(Y,M){if(!_(Y))return typeof Y=="symbol"?Y:(typeof Y=="string"?"S":"P")+Y;if(!w(Y,H)){if(!P(Y))return"F";if(!M)return"E";V(Y)}return Y[H].objectID},getWeakData:function(Y,M){if(!w(Y,H)){if(!P(Y))return!0;if(!M)return!1;V(Y)}return Y[H].weakData},onFreeze:function(Y){return R&&X&&P(Y)&&!w(Y,H)&&V(Y),Y}};m[H]=!0},function(c,f,a){var p=a(51),s=a(39),m=a(68).f,_=a(111),w=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];c.exports.f=function(O){return w&&p(O)=="Window"?function(j){try{return m(j)}catch(S){return _(w)}}(O):m(s(O))}},function(c,f,a){var p=a(10),s=a(91),m=a(34),_=a(29),w=a(83),O=a(134),j=a(45),S=a(56),P=a(135),N=a(112),R=a(136),X=p.TypeError,H=function(V,Z){this.stopped=V,this.result=Z},I=H.prototype;c.exports=function(V,Z,Y){var M,z,k,L,U,te,$,ae=Y&&Y.that,ge=!(!Y||!Y.AS_ENTRIES),be=!(!Y||!Y.IS_ITERATOR),ye=!(!Y||!Y.INTERRUPTED),je=s(Z,ae),fe=function(_e){return M&&R(M,"normal",_e),new H(!0,_e)},ue=function(_e){return ge?(_(_e),ye?je(_e[0],_e[1],fe):je(_e[0],_e[1])):ye?je(_e,fe):je(_e)};if(be)M=V;else{if(!(z=N(V)))throw X(w(V)+" is not iterable");if(O(z)){for(k=0,L=j(V);L>k;k++)if((U=ue(V[k]))&&S(I,U))return U;return new H(!1)}M=P(V,z)}for(te=M.next;!($=m(te,M)).done;){try{U=ue($.value)}catch(_e){R(M,"throw",_e)}if(typeof U=="object"&&U&&S(I,U))return U}return new H(!1)}},function(c,f,a){var p=a(26),s=a(66),m=p("iterator"),_=Array.prototype;c.exports=function(w){return w!==void 0&&(s.Array===w||_[m]===w)}},function(c,f,a){var p=a(10),s=a(34),m=a(62),_=a(29),w=a(83),O=a(112),j=p.TypeError;c.exports=function(S,P){var N=arguments.length<2?O(S):P;if(m(N))return _(s(N,S));throw j(w(S)+" is not iterable")}},function(c,f,a){var p=a(34),s=a(29),m=a(57);c.exports=function(_,w,O){var j,S;s(_);try{if(!(j=m(_,"return"))){if(w==="throw")throw O;return O}j=p(j,_)}catch(P){S=!0,j=P}if(w==="throw")throw O;if(S)throw j;return s(j),O}},function(c,f,a){var p=a(10),s=a(56),m=p.TypeError;c.exports=function(_,w){if(s(w,_))return _;throw m("Incorrect invocation")}},function(c,f,a){var p=a(26)("iterator"),s=!1;try{var m=0,_={next:function(){return{done:!!m++}},return:function(){s=!0}};_[p]=function(){return this},Array.from(_,function(){throw 2})}catch(w){}c.exports=function(w,O){if(!O&&!s)return!1;var j=!1;try{var S={};S[p]=function(){return{next:function(){return{done:j=!0}}}},w(S)}catch(P){}return j}},function(c,f,a){var p=a(28),s=a(30),m=a(110);c.exports=function(_,w,O){var j,S;return m&&p(j=w.constructor)&&j!==O&&s(S=j.prototype)&&S!==O.prototype&&m(_,S),_}},function(c,f,a){var p=a(17),s=a(58),m=a(38),_=a(44),w=p("".charAt),O=p("".charCodeAt),j=p("".slice),S=function(P){return function(N,R){var X,H,I=m(_(N)),V=s(R),Z=I.length;return V<0||V>=Z?P?"":void 0:(X=O(I,V))<55296||X>56319||V+1===Z||(H=O(I,V+1))<56320||H>57343?P?w(I,V):X:P?j(I,V,V+2):H-56320+(X-55296<<10)+65536}};c.exports={codeAt:S(!1),charAt:S(!0)}},function(c,f){c.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(c,f,a){var p=a(104)("span").classList,s=p&&p.constructor&&p.constructor.prototype;c.exports=s===Object.prototype?void 0:s},function(c,f,a){var p=a(26);f.f=p},function(c,f,a){var p=a(175),s=a(32),m=a(143),_=a(35).f;c.exports=function(w){var O=p.Symbol||(p.Symbol={});s(O,w)||_(O,w,{value:m.f(w)})}},function(c,f,a){var p=a(21),s=a(10).RegExp,m=p(function(){var O=s("a","y");return O.lastIndex=2,O.exec("abcd")!=null}),_=m||p(function(){return!s("a","y").sticky}),w=m||p(function(){var O=s("^r","gy");return O.lastIndex=2,O.exec("str")!=null});c.exports={BROKEN_CARET:w,MISSED_STICKY:_,UNSUPPORTED_Y:m}},function(c,f,a){var p=a(19),s=a(126).includes,m=a(75);p({target:"Array",proto:!0},{includes:function(_){return s(this,_,arguments.length>1?arguments[1]:void 0)}}),m("includes")},function(c,f,a){var p=a(19),s=a(17),m=a(187),_=a(44),w=a(38),O=a(188),j=s("".indexOf);p({target:"String",proto:!0,forced:!O("includes")},{includes:function(S){return!!~j(w(_(this)),w(m(S)),arguments.length>1?arguments[1]:void 0)}})},function(c,f,a){var p=a(30),s=a(51),m=a(26)("match");c.exports=function(_){var w;return p(_)&&((w=_[m])!==void 0?!!w:s(_)=="RegExp")}},function(c,f){var a,p,s=c.exports={};function m(){throw new Error("setTimeout has not been defined")}function _(){throw new Error("clearTimeout has not been defined")}function w(I){if(a===setTimeout)return setTimeout(I,0);if((a===m||!a)&&setTimeout)return a=setTimeout,setTimeout(I,0);try{return a(I,0)}catch(V){try{return a.call(null,I,0)}catch(Z){return a.call(this,I,0)}}}(function(){try{a=typeof setTimeout=="function"?setTimeout:m}catch(I){a=m}try{p=typeof clearTimeout=="function"?clearTimeout:_}catch(I){p=_}})();var O,j=[],S=!1,P=-1;function N(){S&&O&&(S=!1,O.length?j=O.concat(j):P=-1,j.length&&R())}function R(){if(!S){var I=w(N);S=!0;for(var V=j.length;V;){for(O=j,j=[];++P<V;)O&&O[P].run();P=-1,V=j.length}O=null,S=!1,function(Z){if(p===clearTimeout)return clearTimeout(Z);if((p===_||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(Z);try{p(Z)}catch(Y){try{return p.call(null,Z)}catch(M){return p.call(this,Z)}}}(I)}}function X(I,V){this.fun=I,this.array=V}function H(){}s.nextTick=function(I){var V=new Array(arguments.length-1);if(arguments.length>1)for(var Z=1;Z<arguments.length;Z++)V[Z-1]=arguments[Z];j.push(new X(I,V)),j.length!==1||S||w(R)},X.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=H,s.addListener=H,s.once=H,s.off=H,s.removeListener=H,s.removeAllListeners=H,s.emit=H,s.prependListener=H,s.prependOnceListener=H,s.listeners=function(I){return[]},s.binding=function(I){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(I){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},function(c,f,a){var p=a(10),s=a(94),m=a(83),_=p.TypeError;c.exports=function(w){if(s(w))return w;throw _(m(w)+" is not a constructor")}},function(c,f,a){var p=a(17),s=a(44),m=a(38),_=a(152),w=p("".replace),O="["+_+"]",j=RegExp("^"+O+O+"*"),S=RegExp(O+O+"*$"),P=function(N){return function(R){var X=m(s(R));return 1&N&&(X=w(X,j,"")),2&N&&(X=w(X,S,"")),X}};c.exports={start:P(1),end:P(2),trim:P(3)}},function(c,f){c.exports=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`},function(c,f,a){var p=a(34),s=a(118),m=a(29),_=a(84),w=a(38),O=a(44),j=a(57),S=a(119),P=a(120);s("match",function(N,R,X){return[function(H){var I=O(this),V=H==null?void 0:j(H,N);return V?p(V,H,I):new RegExp(H)[N](w(I))},function(H){var I=m(this),V=w(H),Z=X(R,I,V);if(Z.done)return Z.value;if(!I.global)return P(I,V);var Y=I.unicode;I.lastIndex=0;for(var M,z=[],k=0;(M=P(I,V))!==null;){var L=w(M[0]);z[k]=L,L===""&&(I.lastIndex=S(V,_(I.lastIndex),Y)),k++}return k===0?null:z}]})},function(c,f,a){var p=a(95),s=a(34),m=a(17),_=a(118),w=a(21),O=a(29),j=a(28),S=a(58),P=a(84),N=a(38),R=a(44),X=a(119),H=a(57),I=a(191),V=a(120),Z=a(26)("replace"),Y=Math.max,M=Math.min,z=m([].concat),k=m([].push),L=m("".indexOf),U=m("".slice),te="a".replace(/./,"$0")==="$0",$=!!/./[Z]&&/./[Z]("a","$0")==="";_("replace",function(ae,ge,be){var ye=$?"$":"$0";return[function(je,fe){var ue=R(this),_e=je==null?void 0:H(je,Z);return _e?s(_e,je,ue,fe):s(ge,N(ue),je,fe)},function(je,fe){var ue=O(this),_e=N(je);if(typeof fe=="string"&&L(fe,ye)===-1&&L(fe,"$<")===-1){var we=be(ge,ue,_e,fe);if(we.done)return we.value}var ke=j(fe);ke||(fe=N(fe));var Ce=ue.global;if(Ce){var ze=ue.unicode;ue.lastIndex=0}for(var Me=[];;){var Fe=V(ue,_e);if(Fe===null||(k(Me,Fe),!Ce))break;N(Fe[0])===""&&(ue.lastIndex=X(_e,P(ue.lastIndex),ze))}for(var ct,K="",J=0,ie=0;ie<Me.length;ie++){for(var ve=N((Fe=Me[ie])[0]),Pe=Y(M(S(Fe.index),_e.length),0),xe=[],We=1;We<Fe.length;We++)k(xe,(ct=Fe[We])===void 0?ct:String(ct));var He=Fe.groups;if(ke){var Je=z([ve],xe,Pe,_e);He!==void 0&&k(Je,He);var Ye=N(p(fe,void 0,Je))}else Ye=I(ve,_e,Pe,xe,He,fe);Pe>=J&&(K+=U(_e,J,Pe)+Ye,J=Pe+ve.length)}return K+U(_e,J)}]},!!w(function(){var ae=/./;return ae.exec=function(){var ge=[];return ge.groups={a:"7"},ge},"".replace(ae,"$<a>")!=="7"})||!te||$)},function(c,f,a){f.a=function(){return!1}},function(c,f,a){(function(p){var s=a(27),m=y&&!y.nodeType&&y,_=m&&typeof p=="object"&&p&&!p.nodeType&&p,w=_&&_.exports===m?s.a.Buffer:void 0,O=w?w.allocUnsafe:void 0;f.a=function(j,S){if(S)return j.slice();var P=j.length,N=O?O(P):new j.constructor(P);return j.copy(N),N}}).call(this,a(117)(c))},function(c,f,a){(function(p){a.d(f,"a",function(){return V});var s=a(0);function m(M){throw new Error("[mobx-utils] "+M)}function _(M,z){z===void 0&&(z="Illegal state"),M||m(z)}var w=function(M){return M&&M!==Object.prototype&&Object.getOwnPropertyNames(M).concat(w(Object.getPrototypeOf(M))||[])},O=function(M){return function(z){var k=w(z);return k.filter(function(L,U){return k.indexOf(L)===U})}(M).filter(function(z){return z!=="constructor"&&!~z.indexOf("__")})};function j(M){switch(this.state){case"pending":return M.pending&&M.pending(this.value);case"rejected":return M.rejected&&M.rejected(this.value);case"fulfilled":return M.fulfilled?M.fulfilled(this.value):this.value}}function S(M,z){if(_(arguments.length<=2,"fromPromise expects up to two arguments"),_(typeof M=="function"||typeof M=="object"&&M&&typeof M.then=="function","Please pass a promise or function to fromPromise"),M.isPromiseBasedObservable===!0)return M;typeof M=="function"&&(M=new Promise(M));var k=M;M.then(Object(s.k)("observableFromPromise-resolve",function(U){k.value=U,k.state="fulfilled"}),Object(s.k)("observableFromPromise-reject",function(U){k.value=U,k.state="rejected"})),k.isPromiseBasedObservable=!0,k.case=j;var L=z&&z.state==="fulfilled"?z.value:void 0;return Object(s.q)(k,{value:L,state:"pending"},{},{deep:!1}),k}(function(M){M.reject=Object(s.k)("fromPromise.reject",function(z){var k=M(Promise.reject(z));return k.state="rejected",k.value=z,k}),M.resolve=Object(s.k)("fromPromise.resolve",function(z){z===void 0&&(z=void 0);var k=M(Promise.resolve(z));return k.state="fulfilled",k.value=z,k})})(S||(S={}));var P=function(M,z,k,L){var U,te=arguments.length,$=te<3?z:L===null?L=Object.getOwnPropertyDescriptor(z,k):L;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$=Reflect.decorate(M,z,k,L);else for(var ae=M.length-1;ae>=0;ae--)(U=M[ae])&&($=(te<3?U($):te>3?U(z,k,$):U(z,k))||$);return te>3&&$&&Object.defineProperty(z,k,$),$};(function(){function M(z,k){var L=this;Object(s.G)(function(){L.current=k,L.subscription=z.subscribe(L)})}M.prototype.dispose=function(){this.subscription&&this.subscription.unsubscribe()},M.prototype.next=function(z){this.current=z},M.prototype.complete=function(){this.dispose()},M.prototype.error=function(z){this.current=z,this.dispose()},P([s.C.ref],M.prototype,"current",void 0),P([s.k.bound],M.prototype,"next",null),P([s.k.bound],M.prototype,"complete",null),P([s.k.bound],M.prototype,"error",null)})();var N=function(){return(N=Object.assign||function(M){for(var z,k=1,L=arguments.length;k<L;k++)for(var U in z=arguments[k])Object.prototype.hasOwnProperty.call(z,U)&&(M[U]=z[U]);return M}).apply(this,arguments)},R=function(M,z,k,L){var U,te=arguments.length,$=te<3?z:L===null?L=Object.getOwnPropertyDescriptor(z,k):L;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$=Reflect.decorate(M,z,k,L);else for(var ae=M.length-1;ae>=0;ae--)(U=M[ae])&&($=(te<3?U($):te>3?U(z,k,$):U(z,k))||$);return te>3&&$&&Object.defineProperty(z,k,$),$},X=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"];(function(){function M(z){var k=this;this.model=z,this.localValues=s.C.map({}),this.localComputedValues=s.C.map({}),this.isPropertyDirty=function(L){return k.localValues.has(L)},_(Object(s.A)(z),"createViewModel expects an observable object"),O(z).forEach(function(L){if(L!==s.a&&L!=="__mobxDidRunLazyInitializers"){if(_(X.indexOf(L)===-1,"The propertyname "+L+" is reserved and cannot be used with viewModels"),Object(s.w)(z,L)){var U=Object(s.h)(z,L).derivation;k.localComputedValues.set(L,Object(s.m)(U.bind(k)))}var te=Object.getOwnPropertyDescriptor(z,L),$=te?{enumerable:te.enumerable}:{};Object.defineProperty(k,L,N(N({},$),{configurable:!0,get:function(){return Object(s.w)(z,L)?k.localComputedValues.get(L).get():k.isPropertyDirty(L)?k.localValues.get(L):k.model[L]},set:Object(s.k)(function(ae){ae!==k.model[L]?k.localValues.set(L,ae):k.localValues.delete(L)})}))}})}Object.defineProperty(M.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"changedValues",{get:function(){return this.localValues.toJS()},enumerable:!1,configurable:!0}),M.prototype.submit=function(){var z=this;Object(s.B)(this.localValues).forEach(function(k){var L=z.localValues.get(k),U=z.model[k];Object(s.y)(U)?U.replace(L):Object(s.z)(U)?(U.clear(),U.merge(L)):Object(s.v)(L)||(z.model[k]=L)}),this.localValues.clear()},M.prototype.reset=function(){this.localValues.clear()},M.prototype.resetProperty=function(z){this.localValues.delete(z)},R([s.m],M.prototype,"isDirty",null),R([s.m],M.prototype,"changedValues",null),R([s.k.bound],M.prototype,"submit",null),R([s.k.bound],M.prototype,"reset",null),R([s.k.bound],M.prototype,"resetProperty",null)})();function H(M){if(!M)return"ROOT";for(var z=[];M.parent;)z.push(M.path),M=M.parent;return z.reverse().join("/")}function I(M){return Object(s.A)(M)||Object(s.y)(M)||Object(s.z)(M)}function V(M,z){var k=new WeakMap;function L($){var ae=k.get($.object);(function(ge,be){switch(ge.type){case"add":U(ge.newValue,be,ge.name);break;case"update":te(ge.oldValue),U(ge.newValue,be,ge.name||""+ge.index);break;case"remove":case"delete":te(ge.oldValue);break;case"splice":ge.removed.map(te),ge.added.forEach(function(fe,ue){return U(fe,be,""+(ge.index+ue))});for(var ye=ge.index+ge.addedCount;ye<ge.object.length;ye++)if(I(ge.object[ye])){var je=k.get(ge.object[ye]);je&&(je.path=""+ye)}}})($,ae),z($,H(ae),M)}function U($,ae,ge){if(I($)){var be=k.get($);if(be){if(be.parent!==ae||be.path!==ge)throw new Error("The same observable object cannot appear twice in the same tree, trying to assign it to '"+H(ae)+"/"+ge+"', but it already exists at '"+H(be.parent)+"/"+be.path+"'")}else{var ye={parent:ae,path:ge,dispose:Object(s.D)($,L)};k.set($,ye),Object(s.p)($).forEach(function(je){var fe=je[0];return U(je[1],ye,fe)})}}}function te($){if(I($)){var ae=k.get($);if(!ae)return;k.delete($),ae.dispose(),Object(s.L)($).forEach(te)}}return U(M,void 0,""),function(){te(M)}}var Z,Y=(Z=function(M,z){return(Z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,L){k.__proto__=L}||function(k,L){for(var U in L)L.hasOwnProperty(U)&&(k[U]=L[U])})(M,z)},function(M,z){function k(){this.constructor=M}Z(M,z),M.prototype=z===null?Object.create(z):(k.prototype=z.prototype,new k)});(function(M){function z(k,L,U){var te=U===void 0?{}:U,$=te.name,ae=$===void 0?"ogm"+(1e3*Math.random()|0):$,ge=te.keyToName,be=ge===void 0?function(fe){return""+fe}:ge,ye=M.call(this)||this;ye._keyToName=be,ye._groupBy=L,ye._ogmInfoKey=Symbol("ogmInfo"+ae),ye._base=k;for(var je=0;je<k.length;je++)ye._addItem(k[je]);return ye._disposeBaseObserver=Object(s.D)(ye._base,function(fe){if(fe.type==="splice")Object(s.J)(function(){for(var ue=0,_e=fe.removed;ue<_e.length;ue++){var we=_e[ue];ye._removeItem(we)}for(var ke=0,Ce=fe.added;ke<Ce.length;ke++){var ze=Ce[ke];ye._addItem(ze)}});else{if(fe.type!=="update")throw new Error("illegal state");Object(s.J)(function(){ye._removeItem(fe.oldValue),ye._addItem(fe.newValue)})}}),ye}Y(z,M),z.prototype.clear=function(){throw new Error("not supported")},z.prototype.delete=function(k){throw new Error("not supported")},z.prototype.set=function(k,L){throw new Error("not supported")},z.prototype.dispose=function(){this._disposeBaseObserver();for(var k=0;k<this._base.length;k++){var L=this._base[k];L[this._ogmInfoKey].reaction(),delete L[this._ogmInfoKey]}},z.prototype._getGroupArr=function(k){var L=M.prototype.get.call(this,k);return L===void 0&&(L=Object(s.C)([],{name:"GroupArray["+this._keyToName(k)+"]",deep:!1}),M.prototype.set.call(this,k,L)),L},z.prototype._removeFromGroupArr=function(k,L){var U=M.prototype.get.call(this,k);U.length===1?M.prototype.delete.call(this,k):(L===U.length-1||(U[L]=U[U.length-1],U[L][this._ogmInfoKey].groupArrIndex=L),U.length--)},z.prototype._addItem=function(k){var L=this,U=this._groupBy(k),te=this._getGroupArr(U),$={groupByValue:U,groupArrIndex:te.length,reaction:Object(s.F)(function(){return L._groupBy(k)},function(ae,ge){var be=k[L._ogmInfoKey];L._removeFromGroupArr(be.groupByValue,be.groupArrIndex);var ye=L._getGroupArr(ae),je=ye.length;ye.push(k),be.groupByValue=ae,be.groupArrIndex=je})};Object.defineProperty(k,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:$}),te.push(k)},z.prototype._removeItem=function(k){var L=k[this._ogmInfoKey];this._removeFromGroupArr(L.groupByValue,L.groupArrIndex),L.reaction(),delete k[this._ogmInfoKey]}})(s.b),function(){function M(z,k){this.base=z,this.args=k,this.closestIdx=0,this.isDisposed=!1;for(var L=this.closest=this.root=z,U=0;U<this.args.length-1&&(L=L.get(k[U]));U++)this.closest=L;this.closestIdx=U}return M.prototype.exists=function(){this.assertNotDisposed();var z=this.args.length;return this.closestIdx>=z-1&&this.closest.has(this.args[z-1])},M.prototype.get=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");return this.closest.get(this.args[this.args.length-1])},M.prototype.set=function(z){this.assertNotDisposed();for(var k=this.args.length,L=this.closest,U=this.closestIdx;U<k-1;U++){var te=new Map;L.set(this.args[U],te),L=te}this.closestIdx=k-1,this.closest=L,L.set(this.args[k-1],z)},M.prototype.delete=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");var z=this.args.length;this.closest.delete(this.args[z-1]);for(var k=this.root,L=[k],U=0;U<z-1;U++)k=k.get(this.args[U]),L.push(k);for(U=L.length-1;U>0;U--)L[U].size===0&&L[U-1].delete(this.args[U-1]);this.isDisposed=!0},M.prototype.assertNotDisposed=function(){if(this.isDisposed)throw new Error("Concurrent modification exception")},M}(),Promise.resolve(),typeof queueMicrotask!="undefined"||p!==void 0&&p.nextTick}).call(this,a(149))},function(c,f,a){var p;(function(s,m,_){if(s){for(var w,O={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},j={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},S={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},P={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},N=1;N<20;++N)O[111+N]="f"+N;for(N=0;N<=9;++N)O[N+96]=N.toString();Z.prototype.bind=function(Y,M,z){return Y=Y instanceof Array?Y:[Y],this._bindMultiple.call(this,Y,M,z),this},Z.prototype.unbind=function(Y,M){return this.bind.call(this,Y,function(){},M)},Z.prototype.trigger=function(Y,M){return this._directMap[Y+":"+M]&&this._directMap[Y+":"+M]({},Y),this},Z.prototype.reset=function(){return this._callbacks={},this._directMap={},this},Z.prototype.stopCallback=function(Y,M){if((" "+M.className+" ").indexOf(" mousetrap ")>-1||function k(L,U){return L!==null&&L!==m&&(L===U||k(L.parentNode,U))}(M,this.target))return!1;if("composedPath"in Y&&typeof Y.composedPath=="function"){var z=Y.composedPath()[0];z!==Y.target&&(M=z)}return M.tagName=="INPUT"||M.tagName=="SELECT"||M.tagName=="TEXTAREA"||M.isContentEditable},Z.prototype.handleKey=function(){var Y=this;return Y._handleKey.apply(Y,arguments)},Z.addKeycodes=function(Y){for(var M in Y)Y.hasOwnProperty(M)&&(O[M]=Y[M]);w=null},Z.init=function(){var Y=Z(m);for(var M in Y)M.charAt(0)!=="_"&&(Z[M]=function(z){return function(){return Y[z].apply(Y,arguments)}}(M))},Z.init(),s.Mousetrap=Z,c.exports&&(c.exports=Z),(p=function(){return Z}.call(f,a,f,c))===void 0||(c.exports=p)}function R(Y,M,z){Y.addEventListener?Y.addEventListener(M,z,!1):Y.attachEvent("on"+M,z)}function X(Y){if(Y.type=="keypress"){var M=String.fromCharCode(Y.which);return Y.shiftKey||(M=M.toLowerCase()),M}return O[Y.which]?O[Y.which]:j[Y.which]?j[Y.which]:String.fromCharCode(Y.which).toLowerCase()}function H(Y){return Y=="shift"||Y=="ctrl"||Y=="alt"||Y=="meta"}function I(Y,M,z){return z||(z=function(){if(!w)for(var k in w={},O)k>95&&k<112||O.hasOwnProperty(k)&&(w[O[k]]=k);return w}()[Y]?"keydown":"keypress"),z=="keypress"&&M.length&&(z="keydown"),z}function V(Y,M){var z,k,L,U=[];for(z=function(te){return te==="+"?["+"]:(te=te.replace(/\+{2}/g,"+plus")).split("+")}(Y),L=0;L<z.length;++L)k=z[L],P[k]&&(k=P[k]),M&&M!="keypress"&&S[k]&&(k=S[k],U.push("shift")),H(k)&&U.push(k);return{key:k,modifiers:U,action:M=I(k,U,M)}}function Z(Y){var M=this;if(Y=Y||m,!(M instanceof Z))return new Z(Y);M.target=Y,M._callbacks={},M._directMap={};var z,k={},L=!1,U=!1,te=!1;function $(fe){fe=fe||{};var ue,_e=!1;for(ue in k)fe[ue]?_e=!0:k[ue]=0;_e||(te=!1)}function ae(fe,ue,_e,we,ke,Ce){var ze,Me,Fe,ct,K=[],J=_e.type;if(!M._callbacks[fe])return[];for(J=="keyup"&&H(fe)&&(ue=[fe]),ze=0;ze<M._callbacks[fe].length;++ze)if(Me=M._callbacks[fe][ze],(we||!Me.seq||k[Me.seq]==Me.level)&&J==Me.action&&(J=="keypress"&&!_e.metaKey&&!_e.ctrlKey||(Fe=ue,ct=Me.modifiers,Fe.sort().join(",")===ct.sort().join(",")))){var ie=!we&&Me.combo==ke,ve=we&&Me.seq==we&&Me.level==Ce;(ie||ve)&&M._callbacks[fe].splice(ze,1),K.push(Me)}return K}function ge(fe,ue,_e,we){M.stopCallback(ue,ue.target||ue.srcElement,_e,we)||fe(ue,_e)===!1&&(function(ke){ke.preventDefault?ke.preventDefault():ke.returnValue=!1}(ue),function(ke){ke.stopPropagation?ke.stopPropagation():ke.cancelBubble=!0}(ue))}function be(fe){typeof fe.which!="number"&&(fe.which=fe.keyCode);var ue=X(fe);ue&&(fe.type!="keyup"||L!==ue?M.handleKey(ue,function(_e){var we=[];return _e.shiftKey&&we.push("shift"),_e.altKey&&we.push("alt"),_e.ctrlKey&&we.push("ctrl"),_e.metaKey&&we.push("meta"),we}(fe),fe):L=!1)}function ye(fe,ue,_e,we){function ke(Fe){return function(){te=Fe,++k[fe],clearTimeout(z),z=setTimeout($,1e3)}}function Ce(Fe){ge(_e,Fe,fe),we!=="keyup"&&(L=X(Fe)),setTimeout($,10)}k[fe]=0;for(var ze=0;ze<ue.length;++ze){var Me=ze+1===ue.length?Ce:ke(we||V(ue[ze+1]).action);je(ue[ze],Me,we,fe,ze)}}function je(fe,ue,_e,we,ke){M._directMap[fe+":"+_e]=ue;var Ce,ze=(fe=fe.replace(/\s+/g," ")).split(" ");ze.length>1?ye(fe,ze,ue,_e):(Ce=V(fe,_e),M._callbacks[Ce.key]=M._callbacks[Ce.key]||[],ae(Ce.key,Ce.modifiers,{type:Ce.action},we,fe,ke),M._callbacks[Ce.key][we?"unshift":"push"]({callback:ue,modifiers:Ce.modifiers,action:Ce.action,seq:we,level:ke,combo:fe}))}M._handleKey=function(fe,ue,_e){var we,ke=ae(fe,ue,_e),Ce={},ze=0,Me=!1;for(we=0;we<ke.length;++we)ke[we].seq&&(ze=Math.max(ze,ke[we].level));for(we=0;we<ke.length;++we)if(ke[we].seq){if(ke[we].level!=ze)continue;Me=!0,Ce[ke[we].seq]=1,ge(ke[we].callback,_e,ke[we].combo,ke[we].seq)}else Me||ge(ke[we].callback,_e,ke[we].combo);var Fe=_e.type=="keypress"&&U;_e.type!=te||H(fe)||Fe||$(Ce),U=Me&&_e.type=="keydown"},M._bindMultiple=function(fe,ue,_e){for(var we=0;we<fe.length;++we)je(fe[we],ue,_e)},R(Y,"keypress",be),R(Y,"keydown",be),R(Y,"keyup",be)}})(typeof window!="undefined"?window:null,typeof window!="undefined"?document:null)},function(c,f,a){var p=a(33),s=a(35),m=a(29),_=a(39),w=a(63);c.exports=p?Object.defineProperties:function(O,j){m(O);for(var S,P=_(j),N=w(j),R=N.length,X=0;R>X;)s.f(O,S=N[X++],P[S]);return O}},function(c,f,a){var p=a(10),s=a(34),m=a(28),_=a(30),w=p.TypeError;c.exports=function(O,j){var S,P;if(j==="string"&&m(S=O.toString)&&!_(P=s(S,O))||m(S=O.valueOf)&&!_(P=s(S,O))||j!=="string"&&m(S=O.toString)&&!_(P=s(S,O)))return P;throw w("Can't convert object to primitive value")}},function(c,f,a){var p=a(49);c.exports=p("document","documentElement")},function(c,f,a){var p=a(10),s=a(28),m=a(106),_=p.WeakMap;c.exports=s(_)&&/native code/.test(m(_))},function(c,f,a){var p=a(129).IteratorPrototype,s=a(52),m=a(67),_=a(89),w=a(66),O=function(){return this};c.exports=function(j,S,P,N){var R=S+" Iterator";return j.prototype=s(p,{next:m(+!N,P)}),_(j,R,!1,!0),w[R]=O,j}},function(c,f,a){var p=a(10),s=a(28),m=p.String,_=p.TypeError;c.exports=function(w){if(typeof w=="object"||s(w))return w;throw _("Can't set "+m(w)+" as a prototype")}},function(c,f,a){var p=a(19),s=a(10),m=a(17),_=a(109),w=a(46),O=a(131),j=a(133),S=a(137),P=a(28),N=a(30),R=a(21),X=a(138),H=a(89),I=a(139);c.exports=function(V,Z,Y){var M=V.indexOf("Map")!==-1,z=V.indexOf("Weak")!==-1,k=M?"set":"add",L=s[V],U=L&&L.prototype,te=L,$={},ae=function(ue){var _e=m(U[ue]);w(U,ue,ue=="add"?function(we){return _e(this,we===0?0:we),this}:ue=="delete"?function(we){return!(z&&!N(we))&&_e(this,we===0?0:we)}:ue=="get"?function(we){return z&&!N(we)?void 0:_e(this,we===0?0:we)}:ue=="has"?function(we){return!(z&&!N(we))&&_e(this,we===0?0:we)}:function(we,ke){return _e(this,we===0?0:we,ke),this})};if(_(V,!P(L)||!(z||U.forEach&&!R(function(){new L().entries().next()}))))te=Y.getConstructor(Z,V,M,k),O.enable();else if(_(V,!0)){var ge=new te,be=ge[k](z?{}:-0,1)!=ge,ye=R(function(){ge.has(1)}),je=X(function(ue){new L(ue)}),fe=!z&&R(function(){for(var ue=new L,_e=5;_e--;)ue[k](_e,_e);return!ue.has(-0)});je||((te=Z(function(ue,_e){S(ue,U);var we=I(new L,ue,te);return _e!=null&&j(_e,we[k],{that:we,AS_ENTRIES:M}),we})).prototype=U,U.constructor=te),(ye||fe)&&(ae("delete"),ae("has"),M&&ae("get")),(fe||be)&&ae(k),z&&U.clear&&delete U.clear}return $[V]=te,p({global:!0,forced:te!=L},$),H(te,V),z||Y.setStrong(te,V,M),te}},function(c,f,a){var p=a(21),s=a(30),m=a(51),_=a(167),w=Object.isExtensible,O=p(function(){});c.exports=O||_?function(j){return!!s(j)&&(!_||m(j)!="ArrayBuffer")&&(!w||w(j))}:w},function(c,f,a){var p=a(21);c.exports=p(function(){if(typeof ArrayBuffer=="function"){var s=new ArrayBuffer(8);Object.isExtensible(s)&&Object.defineProperty(s,"a",{value:8})}})},function(c,f,a){var p=a(21);c.exports=!p(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(c,f,a){var p=a(35).f,s=a(52),m=a(170),_=a(91),w=a(137),O=a(133),j=a(107),S=a(171),P=a(33),N=a(131).fastKey,R=a(59),X=R.set,H=R.getterFor;c.exports={getConstructor:function(I,V,Z,Y){var M=I(function(te,$){w(te,z),X(te,{type:V,index:s(null),first:void 0,last:void 0,size:0}),P||(te.size=0),$!=null&&O($,te[Y],{that:te,AS_ENTRIES:Z})}),z=M.prototype,k=H(V),L=function(te,$,ae){var ge,be,ye=k(te),je=U(te,$);return je?je.value=ae:(ye.last=je={index:be=N($,!0),key:$,value:ae,previous:ge=ye.last,next:void 0,removed:!1},ye.first||(ye.first=je),ge&&(ge.next=je),P?ye.size++:te.size++,be!=="F"&&(ye.index[be]=je)),te},U=function(te,$){var ae,ge=k(te),be=N($);if(be!=="F")return ge.index[be];for(ae=ge.first;ae;ae=ae.next)if(ae.key==$)return ae};return m(z,{clear:function(){for(var te=k(this),$=te.index,ae=te.first;ae;)ae.removed=!0,ae.previous&&(ae.previous=ae.previous.next=void 0),delete $[ae.index],ae=ae.next;te.first=te.last=void 0,P?te.size=0:this.size=0},delete:function(te){var $=k(this),ae=U(this,te);if(ae){var ge=ae.next,be=ae.previous;delete $.index[ae.index],ae.removed=!0,be&&(be.next=ge),ge&&(ge.previous=be),$.first==ae&&($.first=ge),$.last==ae&&($.last=be),P?$.size--:this.size--}return!!ae},forEach:function(te){for(var $,ae=k(this),ge=_(te,arguments.length>1?arguments[1]:void 0);$=$?$.next:ae.first;)for(ge($.value,$.key,this);$&&$.removed;)$=$.previous},has:function(te){return!!U(this,te)}}),m(z,Z?{get:function(te){var $=U(this,te);return $&&$.value},set:function(te,$){return L(this,te===0?0:te,$)}}:{add:function(te){return L(this,te=te===0?0:te,te)}}),P&&p(z,"size",{get:function(){return k(this).size}}),M},setStrong:function(I,V,Z){var Y=V+" Iterator",M=H(V),z=H(Y);j(I,V,function(k,L){X(this,{type:Y,target:k,state:M(k),kind:L,last:void 0})},function(){for(var k=z(this),L=k.kind,U=k.last;U&&U.removed;)U=U.previous;return k.target&&(k.last=U=U?U.next:k.state.first)?L=="keys"?{value:U.key,done:!1}:L=="values"?{value:U.value,done:!1}:{value:[U.key,U.value],done:!1}:(k.target=void 0,{value:void 0,done:!0})},Z?"entries":"values",!Z,!0),S(V)}}},function(c,f,a){var p=a(46);c.exports=function(s,m,_){for(var w in m)p(s,w,m[w],_);return s}},function(c,f,a){var p=a(49),s=a(35),m=a(26),_=a(33),w=m("species");c.exports=function(O){var j=p(O),S=s.f;_&&j&&!j[w]&&S(j,w,{configurable:!0,get:function(){return this}})}},function(c,f,a){var p=a(113),s=a(92);c.exports=p?{}.toString:function(){return"[object "+s(this)+"]"}},function(c,f,a){var p=a(69).forEach,s=a(115)("forEach");c.exports=s?[].forEach:function(m){return p(this,m,arguments.length>1?arguments[1]:void 0)}},function(c,f,a){var p=a(10),s=a(93),m=a(94),_=a(30),w=a(26)("species"),O=p.Array;c.exports=function(j){var S;return s(j)&&(S=j.constructor,(m(S)&&(S===O||s(S.prototype))||_(S)&&(S=S[w])===null)&&(S=void 0)),S===void 0?O:S}},function(c,f,a){var p=a(10);c.exports=p},function(c,f,a){var p=a(10),s=a(91),m=a(34),_=a(37),w=a(177),O=a(134),j=a(94),S=a(45),P=a(60),N=a(135),R=a(112),X=p.Array;c.exports=function(H){var I=_(H),V=j(this),Z=arguments.length,Y=Z>1?arguments[1]:void 0,M=Y!==void 0;M&&(Y=s(Y,Z>2?arguments[2]:void 0));var z,k,L,U,te,$,ae=R(I),ge=0;if(!ae||this==X&&O(ae))for(z=S(I),k=V?new this(z):X(z);z>ge;ge++)$=M?Y(I[ge],ge):I[ge],P(k,ge,$);else for(te=(U=N(I,ae)).next,k=V?new this:[];!(L=m(te,U)).done;ge++)$=M?w(U,Y,[L.value,ge],!0):L.value,P(k,ge,$);return k.length=ge,k}},function(c,f,a){var p=a(29),s=a(136);c.exports=function(m,_,w,O){try{return O?_(p(w)[0],w[1]):_(w)}catch(j){s(m,"throw",j)}}},function(c,f,a){var p=a(29);c.exports=function(){var s=p(this),m="";return s.global&&(m+="g"),s.ignoreCase&&(m+="i"),s.multiline&&(m+="m"),s.dotAll&&(m+="s"),s.unicode&&(m+="u"),s.sticky&&(m+="y"),m}},function(c,f,a){var p=a(21),s=a(10).RegExp;c.exports=p(function(){var m=s(".","s");return!(m.dotAll&&m.exec(`
`)&&m.flags==="s")})},function(c,f,a){var p=a(21),s=a(10).RegExp;c.exports=p(function(){var m=s("(?<a>b)","g");return m.exec("b").groups.a!=="b"||"b".replace(m,"$<a>c")!=="bc"})},function(c,f,a){var p=a(19),s=a(17),m=a(62),_=a(37),w=a(45),O=a(38),j=a(21),S=a(182),P=a(115),N=a(183),R=a(184),X=a(79),H=a(185),I=[],V=s(I.sort),Z=s(I.push),Y=j(function(){I.sort(void 0)}),M=j(function(){I.sort(null)}),z=P("sort"),k=!j(function(){if(X)return X<70;if(!(N&&N>3)){if(R)return!0;if(H)return H<603;var L,U,te,$,ae="";for(L=65;L<76;L++){switch(U=String.fromCharCode(L),L){case 66:case 69:case 70:case 72:te=3;break;case 68:case 71:te=4;break;default:te=2}for($=0;$<47;$++)I.push({k:U+$,v:te})}for(I.sort(function(ge,be){return be.v-ge.v}),$=0;$<I.length;$++)U=I[$].k.charAt(0),ae.charAt(ae.length-1)!==U&&(ae+=U);return ae!=="DGBEFHACIJK"}});p({target:"Array",proto:!0,forced:Y||!M||!z||!k},{sort:function(L){L!==void 0&&m(L);var U=_(this);if(k)return L===void 0?V(U):V(U,L);var te,$,ae=[],ge=w(U);for($=0;$<ge;$++)$ in U&&Z(ae,U[$]);for(S(ae,function(be){return function(ye,je){return je===void 0?-1:ye===void 0?1:be!==void 0?+be(ye,je)||0:O(ye)>O(je)?1:-1}}(L)),te=ae.length,$=0;$<te;)U[$]=ae[$++];for(;$<ge;)delete U[$++];return U}})},function(c,f,a){var p=a(111),s=Math.floor,m=function(O,j){var S=O.length,P=s(S/2);return S<8?_(O,j):w(O,m(p(O,0,P),j),m(p(O,P),j),j)},_=function(O,j){for(var S,P,N=O.length,R=1;R<N;){for(P=R,S=O[R];P&&j(O[P-1],S)>0;)O[P]=O[--P];P!==R++&&(O[P]=S)}return O},w=function(O,j,S,P){for(var N=j.length,R=S.length,X=0,H=0;X<N||H<R;)O[X+H]=X<N&&H<R?P(j[X],S[H])<=0?j[X++]:S[H++]:X<N?j[X++]:S[H++];return O};c.exports=m},function(c,f,a){var p=a(80).match(/firefox\/(\d+)/i);c.exports=!!p&&+p[1]},function(c,f,a){var p=a(80);c.exports=/MSIE|Trident/.test(p)},function(c,f,a){var p=a(80).match(/AppleWebKit\/(\d+)\./);c.exports=!!p&&+p[1]},function(c,f,a){var p=a(19),s=a(69).find,m=a(75),_=!0;"find"in[]&&Array(1).find(function(){_=!1}),p({target:"Array",proto:!0,forced:_},{find:function(w){return s(this,w,arguments.length>1?arguments[1]:void 0)}}),m("find")},function(c,f,a){var p=a(10),s=a(148),m=p.TypeError;c.exports=function(_){if(s(_))throw m("The method doesn't accept regular expressions");return _}},function(c,f,a){var p=a(26)("match");c.exports=function(s){var m=/./;try{"/./"[s](m)}catch(_){try{return m[p]=!1,"/./"[s](m)}catch(w){}}return!1}},function(c,f,a){var p=a(29),s=a(150),m=a(26)("species");c.exports=function(_,w){var O,j=p(_).constructor;return j===void 0||(O=p(j)[m])==null?w:s(O)}},function(c,f,a){var p=a(17);c.exports=p(1 .valueOf)},function(c,f,a){var p=a(17),s=a(37),m=Math.floor,_=p("".charAt),w=p("".replace),O=p("".slice),j=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,S=/\$([$&'`]|\d{1,2})/g;c.exports=function(P,N,R,X,H,I){var V=R+P.length,Z=X.length,Y=S;return H!==void 0&&(H=s(H),Y=j),w(I,Y,function(M,z){var k;switch(_(z,0)){case"$":return"$";case"&":return P;case"`":return O(N,0,R);case"'":return O(N,V);case"<":k=H[O(z,1,-1)];break;default:var L=+z;if(L===0)return M;if(L>Z){var U=m(L/10);return U===0?M:U<=Z?X[U-1]===void 0?_(z,1):X[U-1]+_(z,1):M}k=X[L-1]}return k===void 0?"":k})}},function(c,f,a){var p=a(10),s=a(17),m=a(62),_=a(30),w=a(32),O=a(116),j=p.Function,S=s([].concat),P=s([].join),N={},R=function(X,H,I){if(!w(N,H)){for(var V=[],Z=0;Z<H;Z++)V[Z]="a["+Z+"]";N[H]=j("C,a","return new C("+P(V,",")+")")}return N[H](X,I)};c.exports=j.bind||function(X){var H=m(this),I=H.prototype,V=O(arguments,1),Z=function(){var Y=S(V,O(arguments));return this instanceof Z?R(H,Y.length,Y):H.apply(X,Y)};return _(I)&&(Z.prototype=I),Z}},function(c,f,a){var p=a(33),s=a(17),m=a(34),_=a(21),w=a(63),O=a(108),j=a(86),S=a(37),P=a(73),N=Object.assign,R=Object.defineProperty,X=s([].concat);c.exports=!N||_(function(){if(p&&N({b:1},N(R({},"a",{enumerable:!0,get:function(){R(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var H={},I={},V=Symbol();return H[V]=7,"abcdefghijklmnopqrst".split("").forEach(function(Z){I[Z]=Z}),N({},H)[V]!=7||w(N({},I)).join("")!="abcdefghijklmnopqrst"})?function(H,I){for(var V=S(H),Z=arguments.length,Y=1,M=O.f,z=j.f;Z>Y;)for(var k,L=P(arguments[Y++]),U=M?X(w(L),M(L)):w(L),te=U.length,$=0;te>$;)k=U[$++],p&&!m(z,L,k)||(V[k]=L[k]);return V}:N},function(c,f,a){var p=a(17),s=a(44),m=a(38),_=/"/g,w=p("".replace);c.exports=function(O,j,S,P){var N=m(s(O)),R="<"+j;return S!==""&&(R+=" "+S+'="'+w(m(P),_,"&quot;")+'"'),R+">"+N+"</"+j+">"}},function(c,f,a){var p=a(21);c.exports=function(s){return p(function(){var m=""[s]('"');return m!==m.toLowerCase()||m.split('"').length>3})}},function(c,f,a){var p=a(19),s=Math.hypot,m=Math.abs,_=Math.sqrt;p({target:"Math",stat:!0,forced:!!s&&s(1/0,NaN)!==1/0},{hypot:function(w,O){for(var j,S,P=0,N=0,R=arguments.length,X=0;N<R;)X<(j=m(arguments[N++]))?(P=P*(S=X/j)*S+1,X=j):P+=j>0?(S=j/X)*S:j;return X===1/0?1/0:X*_(P)}})},function(c,f,a){var p=a(32);c.exports=function(s){return s!==void 0&&(p(s,"value")||p(s,"writable"))}},function(c,f,a){a(19)({target:"String",proto:!0},{repeat:a(199)})},function(c,f,a){var p=a(10),s=a(58),m=a(38),_=a(44),w=p.RangeError;c.exports=function(O){var j=m(_(this)),S="",P=s(O);if(P<0||P==1/0)throw w("Wrong number of repetitions");for(;P>0;(P>>>=1)&&(j+=j))1&P&&(S+=j);return S}},function(c,f,a){var p=a(33),s=a(17),m=a(63),_=a(39),w=s(a(86).f),O=s([].push),j=function(S){return function(P){for(var N,R=_(P),X=m(R),H=X.length,I=0,V=[];H>I;)N=X[I++],p&&!w(R,N)||O(V,S?[N,R[N]]:R[N]);return V}};c.exports={entries:j(!0),values:j(!1)}},function(c,f,a){var p=a(37),s=a(64),m=a(45);c.exports=function(_){for(var w=p(this),O=m(w),j=arguments.length,S=s(j>1?arguments[1]:void 0,O),P=j>2?arguments[2]:void 0,N=P===void 0?O:s(P,O);N>S;)w[S++]=_;return w}},function(c,f,a){var p=a(19),s=a(151).trim;p({target:"String",proto:!0,forced:a(203)("trim")},{trim:function(){return s(this)}})},function(c,f,a){var p=a(87).PROPER,s=a(21),m=a(152);c.exports=function(_){return s(function(){return!!m[_]()||"\u200B\x85\u180E"[_]()!=="\u200B\x85\u180E"||p&&m[_].name!==_})}},function(c,f,a){a.r(f),a.d(f,"observer",function(){return Pn}),a.d(f,"LogicFlow",function(){return Qu}),a.d(f,"h",function(){return q.g}),a.d(f,"LogicFlowUtil",function(){return p}),a.d(f,"BaseNode",function(){return Zn}),a.d(f,"RectNode",function(){return Pu}),a.d(f,"CircleNode",function(){return ku}),a.d(f,"PolygonNode",function(){return Du}),a.d(f,"DiamondNode",function(){return Nu}),a.d(f,"EllipseNode",function(){return Cu}),a.d(f,"TextNode",function(){return Iu}),a.d(f,"HtmlNode",function(){return zu}),a.d(f,"BaseEdge",function(){return Io}),a.d(f,"LineEdge",function(){return Hu}),a.d(f,"PolylineEdge",function(){return Yu}),a.d(f,"BezierEdge",function(){return Vu}),a.d(f,"Arrow",function(){return Jd}),a.d(f,"BaseEdgeModel",function(){return Ia}),a.d(f,"BezierEdgeModel",function(){return nu}),a.d(f,"LineEdgeModel",function(){return Ba}),a.d(f,"PolylineEdgeModel",function(){return Fa}),a.d(f,"BaseNodeModel",function(){return Kn}),a.d(f,"CircleNodeModel",function(){return ou}),a.d(f,"DiamondNodeModel",function(){return uu}),a.d(f,"EllipseNodeModel",function(){return lu}),a.d(f,"PolygonNodeModel",function(){return du}),a.d(f,"RectNodeModel",function(){return yu}),a.d(f,"TextNodeModel",function(){return bu}),a.d(f,"HtmlNodeModel",function(){return _u}),a.d(f,"EditConfigModel",function(){return Gc}),a.d(f,"GraphModel",function(){return zl}),a.d(f,"SnaplineModel",function(){return td}),a.d(f,"Keyboard",function(){return Wh}),a.d(f,"get",function(){return kf}),a.d(f,"defaults",function(){return Df});var p={};a.r(p),a.d(p,"createUuid",function(){return Ur}),a.d(p,"refreshGraphId",function(){return gg}),a.d(p,"createDrag",function(){return jo}),a.d(p,"StepDrag",function(){return So});var s=a(0),m=a(11);if(!m.j)throw new Error("mobx-react-lite requires React with Hooks support");if(!s.H)throw new Error("mobx-react-lite requires mobx at least version 4 to be available");var _=a(43),w=Object(_.b)("observerBatching");function O(t){t()}var j=!1;function S(){return j}function P(t){return Object(s.t)(t)}var N,R=1e4,X=new Set;function H(){N===void 0&&(N=setTimeout(I,1e4))}function I(){N=void 0;var t=Date.now();X.forEach(function(e){var n=e.current;n&&t>=n.cleanAt&&(n.reaction.dispose(),e.current=null,X.delete(e))}),X.size>0&&H()}var V=!1,Z=[],Y={};function M(t){return"observer"+t}function z(t,e,n){e===void 0&&(e="observed"),n===void 0&&(n=Y),S();var r,i=function(b){return function(){V?Z.push(b):b()}}((n.useForceUpdate||_.d)()),o=m.d.useRef(null);if(!o.current){var u=new s.c(M(e),function(){l.mounted?i():(u.dispose(),o.current=null)}),l=function(b){return{cleanAt:Date.now()+R,reaction:b}}(u);o.current=l,r=o,X.add(r),H()}var d=o.current.reaction;return m.d.useDebugValue(d,P),m.d.useEffect(function(){var b;return b=o,X.delete(b),o.current?o.current.mounted=!0:(o.current={reaction:new s.c(M(e),function(){i()}),cleanAt:1/0},i()),function(){o.current.reaction.dispose(),o.current=null}},[]),function(b){V=!0,Z=[];try{var E=b();V=!1;var A=Z.length>0?Z:void 0;return m.d.useLayoutEffect(function(){A&&A.forEach(function(C){return C()})},[A]),E}finally{V=!1}}(function(){var b,E;if(d.track(function(){try{b=t()}catch(A){E=A}}),E)throw E;return b})}var k=function(){return(k=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function L(t,e){var n,r,i,o=k({forwardRef:!1},e),u=t.displayName||t.name,l=function(d,b){return z(function(){return t(d,b)},u)};return l.displayName=u,n=o.forwardRef?Object(m.f)(Object(m.e)(l)):Object(m.f)(l),r=t,i=n,Object.keys(r).forEach(function(d){U[d]||Object.defineProperty(i,d,Object.getOwnPropertyDescriptor(r,d))}),n.displayName=u,n}var U={$$typeof:!0,render:!0,compare:!0,type:!0};function te(t){var e=t.children,n=t.render,r=e||n;return typeof r!="function"?null:z(r)}function $(t,e,n,r,i){var o=e==="children"?"render":"children",u=typeof t[e]=="function",l=typeof t[o]=="function";return u&&l?new Error("MobX Observer: Do not use children and render in the same time in`"+n):u||l?null:new Error("Invalid prop `"+i+"` of type `"+typeof t[e]+"` supplied to `"+n+"`, expected `function`.")}te.propTypes={children:$,render:$},te.displayName="Observer";var ae;(ae=m.g)||(ae=O),Object(s.n)({reactionScheduler:ae}),Object(_.a)()[w]=!0;var ge=0,be={};function ye(t){return be[t]||(be[t]=function(e){if(typeof Symbol=="function")return Symbol(e);var n="__$mobx-react "+e+" ("+ge+")";return ge++,n}(t)),be[t]}function je(t,e){if(fe(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.hasOwnProperty.call(e,n[i])||!fe(t[n[i]],e[n[i]]))return!1;return!0}function fe(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function ue(t,e,n){Object.hasOwnProperty.call(t,e)?t[e]=n:Object.defineProperty(t,e,{enumerable:!1,configurable:!0,writable:!0,value:n})}var _e=ye("patchMixins"),we=ye("patchedDefinition");function ke(t,e){for(var n=this,r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];e.locks++;try{var u;return t!=null&&(u=t.apply(this,i)),u}finally{e.locks--,e.locks===0&&e.methods.forEach(function(l){l.apply(n,i)})}}function Ce(t,e){return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];ke.call.apply(ke,[this,t,e].concat(r))}}function ze(t,e,n){var r=function(l,d){var b=l[_e]=l[_e]||{},E=b[d]=b[d]||{};return E.locks=E.locks||0,E.methods=E.methods||[],E}(t,e);r.methods.indexOf(n)<0&&r.methods.push(n);var i=Object.getOwnPropertyDescriptor(t,e);if(!i||!i[we]){var o=t[e],u=function l(d,b,E,A,C){var B,W=Ce(C,A);return(B={})[we]=!0,B.get=function(){return W},B.set=function(ee){if(this===d)W=Ce(ee,A);else{var ne=l(this,b,E,A,ee);Object.defineProperty(this,b,ne)}},B.configurable=!0,B.enumerable=E,B}(t,e,i?i.enumerable:void 0,r,o);Object.defineProperty(t,e,u)}}var Me=s.a||"$mobx",Fe=ye("isMobXReactObserver"),ct=ye("isUnmounted"),K=ye("skipRender"),J=ye("isForcingUpdate");function ie(t){var e=t.prototype;if(t[Fe]){var n=ve(e);console.warn("The provided component class ("+n+`) 
                has already been declared as an observer component.`)}else t[Fe]=!0;if(e.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(t.__proto__!==m.b)if(e.shouldComponentUpdate){if(e.shouldComponentUpdate!==xe)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.")}else e.shouldComponentUpdate=xe;We(e,"props"),We(e,"state");var r=e.render;return e.render=function(){return Pe.call(this,r)},ze(e,"componentWillUnmount",function(){var i;if((i=this.render[Me])===null||i===void 0||i.dispose(),this[ct]=!0,!this.render[Me]){var o=ve(this);console.warn("The reactive render of an observer class component ("+o+`) 
                was overriden after MobX attached. This may result in a memory leak if the 
                overriden reactive render was not properly disposed.`)}}),t}function ve(t){return t.displayName||t.name||t.constructor&&(t.constructor.displayName||t.constructor.name)||"<component>"}function Pe(t){var e=this;ue(this,K,!1),ue(this,J,!1);var n=ve(this),r=t.bind(this),i=!1,o=new s.c(n+".render()",function(){if(!i&&(i=!0,e[ct]!==!0)){var l=!0;try{ue(e,J,!0),e[K]||m.a.prototype.forceUpdate.call(e),l=!1}finally{ue(e,J,!1),l&&o.dispose()}}});function u(){i=!1;var l=void 0,d=void 0;if(o.track(function(){try{d=Object(s.d)(!1,r)}catch(b){l=b}}),l)throw l;return d}return o.reactComponent=this,u[Me]=o,this.render=u,u.call(this)}function xe(t,e){return this.state!==e||!je(this.props,t)}function We(t,e){var n=ye("reactProp_"+e+"_valueHolder"),r=ye("reactProp_"+e+"_atomHolder");function i(){return this[r]||ue(this,r,Object(s.o)("reactive "+e)),this[r]}Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){var o=!1;return s.f&&s.e&&(o=Object(s.f)(!0)),i.call(this).reportObserved(),s.f&&s.e&&Object(s.e)(o),this[n]},set:function(o){this[J]||je(this[n],o)?ue(this,n,o):(ue(this,n,o),ue(this,K,!0),i.call(this).reportChanged(),ue(this,K,!1))}})}var He=typeof Symbol=="function"&&Symbol.for,Je=He?Symbol.for("react.forward_ref"):typeof m.e=="function"&&Object(m.e)(function(t){return null}).$$typeof,Ye=He?Symbol.for("react.memo"):typeof m.f=="function"&&Object(m.f)(function(t){return null}).$$typeof;function de(t){if(t.isMobxInjector===!0&&console.warn("Mobx observer: You are trying to use 'observer' on a component that already has 'inject'. Please apply 'observer' before applying 'inject'"),Ye&&t.$$typeof===Ye)throw new Error("Mobx observer: You are trying to use 'observer' on a function component wrapped in either another observer or 'React.memo'. The observer already applies 'React.memo' for you.");if(Je&&t.$$typeof===Je){var e=t.render;if(typeof e!="function")throw new Error("render property of ForwardRef was not a function");return Object(m.e)(function(){var n=arguments;return Object(m.c)(te,null,function(){return e.apply(void 0,n)})})}return typeof t!="function"||t.prototype&&t.prototype.render||t.isReactClass||Object.prototype.isPrototypeOf.call(m.a,t)?ie(t):L(t)}if(!m.a)throw new Error("mobx-react requires React to be available");if(!s.C)throw new Error("mobx-react requires mobx to be available");var q=a(1);a(3),a(90),a(2),a(6),a(5),a(9),a(22),a(40),a(15),a(4),a(24),a(16),a(25),a(7),a(8),a(18),a(23),a(20),a(181),a(186),a(97),a(146),a(147);var Be=function(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i},Le=function(){this.__data__=[],this.size=0},Ke=function(t,e){return t===e||t!=t&&e!=e},Dt=function(t,e){for(var n=t.length;n--;)if(Ke(t[n][0],e))return n;return-1},it=Array.prototype.splice,lt=function(t){var e=this.__data__,n=Dt(e,t);return!(n<0)&&(n==e.length-1?e.pop():it.call(e,n,1),--this.size,!0)},ht=function(t){var e=this.__data__,n=Dt(e,t);return n<0?void 0:e[n][1]},Ft=function(t){return Dt(this.__data__,t)>-1},G=function(t,e){var n=this.__data__,r=Dt(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};function Q(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Q.prototype.clear=Le,Q.prototype.delete=lt,Q.prototype.get=ht,Q.prototype.has=Ft,Q.prototype.set=G;var ce=Q,Ee=function(){this.__data__=new ce,this.size=0},$e=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Ge=function(t){return this.__data__.get(t)},et=function(t){return this.__data__.has(t)},yt=a(27),At=yt.a.Symbol,zt=Object.prototype,Gn=zt.hasOwnProperty,kn=zt.toString,bt=At?At.toStringTag:void 0,Ne=function(t){var e=Gn.call(t,bt),n=t[bt];try{t[bt]=void 0;var r=!0}catch(o){}var i=kn.call(t);return r&&(e?t[bt]=n:delete t[bt]),i},Ue=Object.prototype.toString,Qe=function(t){return Ue.call(t)},ft=At?At.toStringTag:void 0,xt=function(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":ft&&ft in Object(t)?Ne(t):Qe(t)},Ct=function(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")},$t,Jo=function(t){if(!Ct(t))return!1;var e=xt(t);return e=="[object Function]"||e=="[object GeneratorFunction]"||e=="[object AsyncFunction]"||e=="[object Proxy]"},Tn=yt.a["__core-js_shared__"],Hn=($t=/[^.]+$/.exec(Tn&&Tn.keys&&Tn.keys.IE_PROTO||""))?"Symbol(src)_1."+$t:"",Tr=function(t){return!!Hn&&Hn in t},ca=Function.prototype.toString,On=function(t){if(t!=null){try{return ca.call(t)}catch(e){}try{return t+""}catch(e){}}return""},Dr=/^\[object .+?Constructor\]$/,Qo=Function.prototype,Ie=Object.prototype,sa=Qo.toString,ei=Ie.hasOwnProperty,ti=RegExp("^"+sa.call(ei).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ln=function(t){return!(!Ct(t)||Tr(t))&&(Jo(t)?ti:Dr).test(On(t))},fn=function(t,e){return t==null?void 0:t[e]},Dn=function(t,e){var n=fn(t,e);return ln(n)?n:void 0},Jn=Dn(yt.a,"Map"),wn=Dn(Object,"create"),no=function(){this.__data__=wn?wn(null):{},this.size=0},ni=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},la=Object.prototype.hasOwnProperty,Mr=function(t){var e=this.__data__;if(wn){var n=e[t];return n==="__lodash_hash_undefined__"?void 0:n}return la.call(e,t)?e[t]:void 0},fa=Object.prototype.hasOwnProperty,ri=function(t){var e=this.__data__;return wn?e[t]!==void 0:fa.call(e,t)},pa=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=wn&&e===void 0?"__lodash_hash_undefined__":e,this};function Yn(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Yn.prototype.clear=no,Yn.prototype.delete=ni,Yn.prototype.get=Mr,Yn.prototype.has=ri,Yn.prototype.set=pa;var oi=Yn,Mn=function(){this.size=0,this.__data__={hash:new oi,map:new(Jn||ce),string:new oi}},da=function(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null},Nr=function(t,e){var n=t.__data__;return da(e)?n[typeof e=="string"?"string":"hash"]:n.map},ro=function(t){var e=Nr(this,t).delete(t);return this.size-=e?1:0,e},oo=function(t){return Nr(this,t).get(t)},ha=function(t){return Nr(this,t).has(t)},ii=function(t,e){var n=Nr(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};function Qn(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Qn.prototype.clear=Mn,Qn.prototype.delete=ro,Qn.prototype.get=oo,Qn.prototype.has=ha,Qn.prototype.set=ii;var er=Qn,ai=function(t,e){var n=this.__data__;if(n instanceof ce){var r=n.__data__;if(!Jn||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new er(r)}return n.set(t,e),this.size=n.size,this};function tr(t){var e=this.__data__=new ce(t);this.size=e.size}tr.prototype.clear=Ee,tr.prototype.delete=$e,tr.prototype.get=Ge,tr.prototype.has=et,tr.prototype.set=ai;var Vn=tr,ui=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},ci=function(t){return this.__data__.has(t)};function hr(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new er;++e<n;)this.add(t[e])}hr.prototype.add=hr.prototype.push=ui,hr.prototype.has=ci;var si=hr,ya=function(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1},li=function(t,e){return t.has(e)},fi=function(t,e,n,r,i,o){var u=1&n,l=t.length,d=e.length;if(l!=d&&!(u&&d>l))return!1;var b=o.get(t),E=o.get(e);if(b&&E)return b==e&&E==t;var A=-1,C=!0,B=2&n?new si:void 0;for(o.set(t,e),o.set(e,t);++A<l;){var W=t[A],ee=e[A];if(r)var ne=u?r(ee,W,A,e,t,o):r(W,ee,A,t,e,o);if(ne!==void 0){if(ne)continue;C=!1;break}if(B){if(!ya(e,function(oe,pe){if(!li(B,pe)&&(W===oe||i(W,oe,n,r,o)))return B.push(pe)})){C=!1;break}}else if(W!==ee&&!i(W,ee,n,r,o)){C=!1;break}}return o.delete(t),o.delete(e),C},yr=yt.a.Uint8Array,pi=function(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n},va=function(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n},di=At?At.prototype:void 0,io=di?di.valueOf:void 0,vr=function(t,e,n,r,i,o,u){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!o(new yr(t),new yr(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Ke(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var l=pi;case"[object Set]":var d=1&r;if(l||(l=va),t.size!=e.size&&!d)return!1;var b=u.get(t);if(b)return b==e;r|=2,u.set(t,e);var E=fi(l(t),l(e),r,i,o,u);return u.delete(t),E;case"[object Symbol]":if(io)return io.call(t)==io.call(e)}return!1},Nn=function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t},Jt=Array.isArray,hi=function(t,e,n){var r=e(t);return Jt(t)?r:Nn(r,n(t))},ga=function(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var u=t[n];e(u,n,t)&&(o[i++]=u)}return o},yi=function(){return[]},nr=Object.prototype.propertyIsEnumerable,vi=Object.getOwnPropertySymbols,ao=vi?function(t){return t==null?[]:(t=Object(t),ga(vi(t),function(e){return nr.call(t,e)}))}:yi,vn=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r},Cn=function(t){return t!=null&&typeof t=="object"},uo=function(t){return Cn(t)&&xt(t)=="[object Arguments]"},gi=Object.prototype,Cr=gi.hasOwnProperty,Rr=gi.propertyIsEnumerable,co=uo(function(){return arguments}())?uo:function(t){return Cn(t)&&Cr.call(t,"callee")&&!Rr.call(t,"callee")},Ir=a(55),gn=/^(?:0|[1-9]\d*)$/,Rn=function(t,e){var n=typeof t;return!!(e=e==null?9007199254740991:e)&&(n=="number"||n!="symbol"&&gn.test(t))&&t>-1&&t%1==0&&t<e},on=function(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=9007199254740991},st={};st["[object Float32Array]"]=st["[object Float64Array]"]=st["[object Int8Array]"]=st["[object Int16Array]"]=st["[object Int32Array]"]=st["[object Uint8Array]"]=st["[object Uint8ClampedArray]"]=st["[object Uint16Array]"]=st["[object Uint32Array]"]=!0,st["[object Arguments]"]=st["[object Array]"]=st["[object ArrayBuffer]"]=st["[object Boolean]"]=st["[object DataView]"]=st["[object Date]"]=st["[object Error]"]=st["[object Function]"]=st["[object Map]"]=st["[object Number]"]=st["[object Object]"]=st["[object RegExp]"]=st["[object Set]"]=st["[object String]"]=st["[object WeakMap]"]=!1;var gr=function(t){return Cn(t)&&on(t.length)&&!!st[xt(t)]},Qt=function(t){return function(e){return t(e)}},rr=a(48),bi=rr.a&&rr.a.isTypedArray,so=bi?Qt(bi):gr,xn=Object.prototype.hasOwnProperty,lo=function(t,e){var n=Jt(t),r=!n&&co(t),i=!n&&!r&&Object(Ir.a)(t),o=!n&&!r&&!i&&so(t),u=n||r||i||o,l=u?vn(t.length,String):[],d=l.length;for(var b in t)!e&&!xn.call(t,b)||u&&(b=="length"||i&&(b=="offset"||b=="parent")||o&&(b=="buffer"||b=="byteLength"||b=="byteOffset")||Rn(b,d))||l.push(b);return l},ba=Object.prototype,an=function(t){var e=t&&t.constructor;return t===(typeof e=="function"&&e.prototype||ba)},fo=function(t,e){return function(n){return t(e(n))}},ma=fo(Object.keys,Object),po=Object.prototype.hasOwnProperty,en=function(t){if(!an(t))return ma(t);var e=[];for(var n in Object(t))po.call(t,n)&&n!="constructor"&&e.push(n);return e},or=function(t){return t!=null&&on(t.length)&&!Jo(t)},Wn=function(t){return or(t)?lo(t):en(t)},Kt=function(t){return hi(t,Wn,ao)},mi=Object.prototype.hasOwnProperty,ho=function(t,e,n,r,i,o){var u=1&n,l=Kt(t),d=l.length;if(d!=Kt(e).length&&!u)return!1;for(var b=d;b--;){var E=l[b];if(!(u?E in e:mi.call(e,E)))return!1}var A=o.get(t),C=o.get(e);if(A&&C)return A==e&&C==t;var B=!0;o.set(t,e),o.set(e,t);for(var W=u;++b<d;){var ee=t[E=l[b]],ne=e[E];if(r)var oe=u?r(ne,ee,E,e,t,o):r(ee,ne,E,t,e,o);if(!(oe===void 0?ee===ne||i(ee,ne,n,r,o):oe)){B=!1;break}W||(W=E=="constructor")}if(B&&!W){var pe=t.constructor,le=e.constructor;pe==le||!("constructor"in t)||!("constructor"in e)||typeof pe=="function"&&pe instanceof pe&&typeof le=="function"&&le instanceof le||(B=!1)}return o.delete(t),o.delete(e),B},Lr=Dn(yt.a,"DataView"),zr=Dn(yt.a,"Promise"),Br=Dn(yt.a,"Set"),yo=Dn(yt.a,"WeakMap"),pn=On(Lr),bn=On(Jn),br=On(zr),_i=On(Br),vo=On(yo),In=xt;(Lr&&In(new Lr(new ArrayBuffer(1)))!="[object DataView]"||Jn&&In(new Jn)!="[object Map]"||zr&&In(zr.resolve())!="[object Promise]"||Br&&In(new Br)!="[object Set]"||yo&&In(new yo)!="[object WeakMap]")&&(In=function(t){var e=xt(t),n=e=="[object Object]"?t.constructor:void 0,r=n?On(n):"";if(r)switch(r){case pn:return"[object DataView]";case bn:return"[object Map]";case br:return"[object Promise]";case _i:return"[object Set]";case vo:return"[object WeakMap]"}return e});var mr=In,_r=Object.prototype.hasOwnProperty,_a=function(t,e,n,r,i,o){var u=Jt(t),l=Jt(e),d=u?"[object Array]":mr(t),b=l?"[object Array]":mr(e),E=(d=d=="[object Arguments]"?"[object Object]":d)=="[object Object]",A=(b=b=="[object Arguments]"?"[object Object]":b)=="[object Object]",C=d==b;if(C&&Object(Ir.a)(t)){if(!Object(Ir.a)(e))return!1;u=!0,E=!1}if(C&&!E)return o||(o=new Vn),u||so(t)?fi(t,e,n,r,i,o):vr(t,e,d,n,r,i,o);if(!(1&n)){var B=E&&_r.call(t,"__wrapped__"),W=A&&_r.call(e,"__wrapped__");if(B||W){var ee=B?t.value():t,ne=W?e.value():e;return o||(o=new Vn),i(ee,ne,n,r,o)}}return!!C&&(o||(o=new Vn),ho(t,e,n,r,i,o))},h=function t(e,n,r,i,o){return e===n||(e==null||n==null||!Cn(e)&&!Cn(n)?e!=e&&n!=n:_a(e,n,r,i,t,o))},g=function(t,e,n,r){var i=n.length,o=i,u=!r;if(t==null)return!o;for(t=Object(t);i--;){var l=n[i];if(u&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++i<o;){var d=(l=n[i])[0],b=t[d],E=l[1];if(u&&l[2]){if(b===void 0&&!(d in t))return!1}else{var A=new Vn;if(r)var C=r(b,E,d,t,e,A);if(!(C===void 0?h(E,b,3,r,A):C))return!1}}return!0},x=function(t){return t==t&&!Ct(t)},T=function(t){for(var e=Wn(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,x(i)]}return e},D=function(t,e){return function(n){return n!=null&&n[t]===e&&(e!==void 0||t in Object(n))}},F=function(t){var e=T(t);return e.length==1&&e[0][2]?D(e[0][0],e[0][1]):function(n){return n===t||g(n,t,e)}},re=function(t){return typeof t=="symbol"||Cn(t)&&xt(t)=="[object Symbol]"},me=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Te=/^\w*$/,nt=function(t,e){if(Jt(t))return!1;var n=typeof t;return!(n!="number"&&n!="symbol"&&n!="boolean"&&t!=null&&!re(t))||Te.test(t)||!me.test(t)||e!=null&&t in Object(e)};function tt(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError("Expected a function");var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var u=t.apply(this,r);return n.cache=o.set(i,u)||o,u};return n.cache=new(tt.Cache||er),n}tt.Cache=er;var mt=tt,vt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,pt=/\\(\\)?/g,wt=function(t){var e=mt(t,function(r){return n.size===500&&n.clear(),r}),n=e.cache;return e}(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(vt,function(n,r,i,o){e.push(i?o.replace(pt,"$1"):r||n)}),e}),_t=At?At.prototype:void 0,gt=_t?_t.toString:void 0,En=function t(e){if(typeof e=="string")return e;if(Jt(e))return Be(e,t)+"";if(re(e))return gt?gt.call(e):"";var n=e+"";return n=="0"&&1/e==-1/0?"-0":n},Oa=function(t){return t==null?"":En(t)},Or=function(t,e){return Jt(t)?t:nt(t,e)?[t]:wt(Oa(t))},ir=function(t){if(typeof t=="string"||re(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e},wr=function(t,e){for(var n=0,r=(e=Or(e,t)).length;t!=null&&n<r;)t=t[ir(e[n++])];return n&&n==r?t:void 0},go=function(t,e,n){var r=t==null?void 0:wr(t,e);return r===void 0?n:r},tn=function(t,e){return t!=null&&e in Object(t)},Oi=function(t,e,n){for(var r=-1,i=(e=Or(e,t)).length,o=!1;++r<i;){var u=ir(e[r]);if(!(o=t!=null&&n(t,u)))break;t=t[u]}return o||++r!=i?o:!!(i=t==null?0:t.length)&&on(i)&&Rn(u,i)&&(Jt(t)||co(t))},bo=function(t,e){return t!=null&&Oi(t,e,tn)},nv=function(t,e){return nt(t)&&x(e)?D(ir(t),e):function(n){var r=go(n,t);return r===void 0&&r===e?bo(n,t):h(e,r,3)}},wa=function(t){return t},rv=function(t){return function(e){return e==null?void 0:e[t]}},ov=function(t){return function(e){return wr(e,t)}},iv=function(t){return nt(t)?rv(ir(t)):ov(t)},av=function(t){return typeof t=="function"?t:t==null?wa:typeof t=="object"?Jt(t)?nv(t[0],t[1]):F(t):iv(t)},uv=function(t){return function(e,n,r){for(var i=-1,o=Object(e),u=r(e),l=u.length;l--;){var d=u[t?l:++i];if(n(o[d],d,o)===!1)break}return e}}(),cv=function(t,e){return function(n,r){if(n==null)return n;if(!or(n))return t(n,r);for(var i=n.length,o=e?i:-1,u=Object(n);(e?o--:++o<i)&&r(u[o],o,u)!==!1;);return n}}(function(t,e){return t&&uv(t,e,Wn)}),sv=function(t,e){var n=-1,r=or(t)?Array(t.length):[];return cv(t,function(i,o,u){r[++n]=e(i,o,u)}),r},wi=function(t,e){return(Jt(t)?Be:sv)(t,av(e))},xi=function(){try{var t=Dn(Object,"defineProperty");return t({},"",{}),t}catch(e){}}(),Oc=function(t,e,n){e=="__proto__"&&xi?xi(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n},lv=Object.prototype.hasOwnProperty,Ei=function(t,e,n){var r=t[e];lv.call(t,e)&&Ke(r,n)&&(n!==void 0||e in t)||Oc(t,e,n)},mo=function(t,e,n,r){var i=!n;n||(n={});for(var o=-1,u=e.length;++o<u;){var l=e[o],d=r?r(n[l],t[l],l,n,t):void 0;d===void 0&&(d=t[l]),i?Oc(n,l,d):Ei(n,l,d)}return n},fv=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)},wc=Math.max,xc=function(t,e,n){return e=wc(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=wc(r.length-e,0),u=Array(o);++i<o;)u[i]=r[e+i];i=-1;for(var l=Array(e+1);++i<e;)l[i]=r[i];return l[e]=n(u),fv(t,this,l)}},pv=function(t){return function(){return t}},dv=xi?function(t,e){return xi(t,"toString",{configurable:!0,enumerable:!1,value:pv(e),writable:!0})}:wa,hv=Date.now,Ec=function(t){var e=0,n=0;return function(){var r=hv(),i=16-(r-n);if(n=r,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(dv),yv=function(t,e){return Ec(xc(t,e,wa),t+"")},vv=function(t,e,n){if(!Ct(n))return!1;var r=typeof e;return!!(r=="number"?or(n)&&Rn(e,n.length):r=="string"&&e in n)&&Ke(n[e],t)},gv=function(t){return yv(function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,u=i>2?n[2]:void 0;for(o=t.length>3&&typeof o=="function"?(i--,o):void 0,u&&vv(n[0],n[1],u)&&(o=i<3?void 0:o,i=1),e=Object(e);++r<i;){var l=n[r];l&&t(e,l,r,o)}return e})},bv=Object.prototype.hasOwnProperty,Nt=gv(function(t,e){if(an(e)||or(e))mo(e,Wn(e),t);else for(var n in e)bv.call(e,n)&&Ei(t,n,e[n])}),mv=function(t,e,n,r){if(!Ct(t))return t;for(var i=-1,o=(e=Or(e,t)).length,u=o-1,l=t;l!=null&&++i<o;){var d=ir(e[i]),b=n;if(d==="__proto__"||d==="constructor"||d==="prototype")return t;if(i!=u){var E=l[d];(b=r?r(E,d,l):void 0)===void 0&&(b=Ct(E)?E:Rn(e[i+1])?[]:{})}Ei(l,d,b),l=l[d]}return t},_v=function(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var u=e[r],l=wr(t,u);n(l,u)&&mv(o,Or(u,t),l)}return o},Ov=function(t,e){return _v(t,e,function(n,r){return bo(t,r)})},jc=At?At.isConcatSpreadable:void 0,wv=function(t){return Jt(t)||co(t)||!!(jc&&t&&t[jc])},xv=function t(e,n,r,i,o){var u=-1,l=e.length;for(r||(r=wv),o||(o=[]);++u<l;){var d=e[u];n>0&&r(d)?n>1?t(d,n-1,r,i,o):Nn(o,d):i||(o[o.length]=d)}return o},Ev=function(t){return(t==null?0:t.length)?xv(t,1):[]},Rt,Sc,Pc,Ac,kc,Tc,Dc,Mc,Nc,Cc,Rc,Ic,Lc,zc,Bc,Fc,Uc,Ln=function(t){return Ec(xc(t,void 0,Ev),t+"")}(function(t,e){return t==null?{}:Ov(t,e)});function Zt(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function jv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Yt(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(t,e,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var Et,Xc,at,Bt,ot,Tt,Sv={stopZoomGraph:!1,stopScrollGraph:!1,stopMoveGraph:!1,adjustEdge:!1,adjustEdgeStartAndEnd:!1,adjustNodePosition:!1,hideAnchors:!0,nodeTextEdit:!1,edgeTextEdit:!1,nodeTextDraggable:!1,edgeTextDraggable:!1,metaKeyMultipleSelected:!1},xa=["stopZoomGraph","stopScrollGraph","stopMoveGraph","adjustEdge","adjustEdgeMiddle","adjustEdgeStartAndEnd","adjustNodePosition","hideAnchors","hoverOutline","nodeTextEdit","edgeTextEdit","nodeTextDraggable","edgeTextDraggable","metaKeyMultipleSelected","multipleSelectKey","extraConf"],Gc=(Sc=Yt((Rt=function(){function t(r){(function(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")})(this,t),Zt(this,"stopZoomGraph",Sc,this),Zt(this,"stopScrollGraph",Pc,this),Zt(this,"stopMoveGraph",Ac,this),Zt(this,"adjustEdge",kc,this),Zt(this,"adjustEdgeMiddle",Tc,this),Zt(this,"adjustEdgeStartAndEnd",Dc,this),Zt(this,"adjustNodePosition",Mc,this),Zt(this,"hideAnchors",Nc,this),Zt(this,"hoverOutline",Cc,this),Zt(this,"nodeSelectedOutline",Rc,this),Zt(this,"edgeSelectedOutline",Ic,this),Zt(this,"nodeTextEdit",Lc,this),Zt(this,"edgeTextEdit",zc,this),Zt(this,"nodeTextDraggable",Bc,this),Zt(this,"edgeTextDraggable",Fc,this),Zt(this,"metaKeyMultipleSelected",Uc,this),this.multipleSelectKey="",this.extraConf={},this.defaultConfig={},Nt(this,this.getConfigDetail(r))}var e,n;return e=t,(n=[{key:"updateEditConfig",value:function(r){var i=this.getConfigDetail(r);Nt(this,i)}},{key:"getConfigDetail",value:function(r){var i=r.isSilentMode,o=r.textEdit,u={};if(i===!1&&Nt(u,this.defaultConfig),i===!0){var l=Ln(Sv,xa);this.defaultConfig={stopZoomGraph:this.stopZoomGraph,stopScrollGraph:this.stopScrollGraph,stopMoveGraph:this.stopMoveGraph,adjustEdge:this.adjustEdge,adjustEdgeMiddle:this.adjustEdgeMiddle,adjustEdgeStartAndEnd:this.adjustEdgeStartAndEnd,adjustNodePosition:this.adjustNodePosition,hideAnchors:this.hideAnchors,hoverOutline:this.hoverOutline,nodeSelectedOutline:this.nodeSelectedOutline,edgeSelectedOutline:this.edgeSelectedOutline,nodeTextEdit:this.nodeTextEdit,edgeTextEdit:this.edgeTextEdit,nodeTextDraggable:this.nodeTextDraggable,edgeTextDraggable:this.edgeTextDraggable,metaKeyMultipleSelected:this.metaKeyMultipleSelected},Nt(u,l)}o===!1&&Nt(u,{nodeTextEdit:!1,edgeTextEdit:!1});var d=Ln(r,xa);return Nt(u,d)}},{key:"getConfig",value:function(){return Ln(this,xa)}}])&&jv(e.prototype,n),t}()).prototype,"stopZoomGraph",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Pc=Yt(Rt.prototype,"stopScrollGraph",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ac=Yt(Rt.prototype,"stopMoveGraph",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),kc=Yt(Rt.prototype,"adjustEdge",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Tc=Yt(Rt.prototype,"adjustEdgeMiddle",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Dc=Yt(Rt.prototype,"adjustEdgeStartAndEnd",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Mc=Yt(Rt.prototype,"adjustNodePosition",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Nc=Yt(Rt.prototype,"hideAnchors",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Cc=Yt(Rt.prototype,"hoverOutline",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Rc=Yt(Rt.prototype,"nodeSelectedOutline",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ic=Yt(Rt.prototype,"edgeSelectedOutline",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Lc=Yt(Rt.prototype,"nodeTextEdit",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),zc=Yt(Rt.prototype,"edgeTextEdit",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Bc=Yt(Rt.prototype,"nodeTextDraggable",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Fc=Yt(Rt.prototype,"edgeTextDraggable",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Uc=Yt(Rt.prototype,"metaKeyMultipleSelected",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Yt(Rt.prototype,"updateEditConfig",[s.k],Object.getOwnPropertyDescriptor(Rt.prototype,"updateEditConfig"),Rt.prototype),Rt);a(98),function(t){t[t.DEFAULT=1]="DEFAULT",t[t.TEXT_EDIT=2]="TEXT_EDIT",t[t.SHOW_MENU=3]="SHOW_MENU",t[t.ALLOW_CONNECT=4]="ALLOW_CONNECT",t[t.NOT_ALLOW_CONNECT=5]="NOT_ALLOW_CONNECT"}(Et||(Et={})),function(t){t.KEY="logic-flow",t.NODE_NAME="lf-node",t.EDGE_NAME="lf-edge"}(Xc||(Xc={})),function(t){t.NODE="node",t.CIRCLE_NODE="circle-node",t.POLYGON_NODE="polygon-node",t.RECT_NODE="rect-node",t.TEXT_NODE="text-node",t.ELLIPSE_NODE="ellipse-node",t.DIAMOND_NODE="diamond-node",t.HTML_NODE="html-node",t.EDGE="edge",t.LINE_EDGE="line-edge",t.POLYLINE_EDGE="polyline-edge",t.BEZIER_EDGE="bezier-edge",t.GRAPH="graph"}(at||(at={})),function(t){t.NODE="node",t.EDGE="edge",t.GRAPH="graph"}(Bt||(Bt={})),function(t){t.ELEMENT_CLICK="element:click",t.NODE_CLICK="node:click",t.NODE_DBCLICK="node:dbclick",t.NODE_DELETE="node:delete",t.NODE_ADD="node:add",t.NODE_DND_ADD="node:dnd-add",t.NODE_DND_DRAG="node:dnd-drag",t.NODE_MOUSEDOWN="node:mousedown",t.NODE_DRAGSTART="node:dragstart",t.NODE_DRAG="node:drag",t.NODE_DROP="node:drop",t.NODE_MOUSEUP="node:mouseup",t.NODE_MOUSEMOVE="node:mousemove",t.NODE_MOUSEENTER="node:mouseenter",t.NODE_MOUSELEAVE="node:mouseleave",t.NODE_CONTEXTMENU="node:contextmenu",t.EDGE_DELETE="edge:delete",t.EDGE_ADD="edge:add",t.EDGE_CLICK="edge:click",t.EDGE_DBCLICK="edge:dbclick",t.EDGE_MOUSEENTER="edge:mouseenter",t.EDGE_MOUSELEAVE="edge:mouseleave",t.EDGE_CONTEXTMENU="edge:contextmenu",t.EDGE_ADJUST="edge:adjust",t.EDGE_EXCHANGE_NODE="edge:exchange-node",t.SELECTION_CONTEXTMENU="selection:contextmenu",t.BLANK_MOUSEDOWN="blank:mousedown",t.BLANK_DRAGSTART="blank:dragstart",t.BLANK_DRAG="blank:drag",t.BLANK_DROP="blank:drop",t.BLANK_MOUSEMOVE="blank:mousemove",t.BLANK_MOUSEUP="blank:mouseup",t.BLANK_CLICK="blank:click",t.BLANK_CONTEXTMENU="blank:contextmenu",t.CONNECTION_NOT_ALLOWED="connection:not-allowed",t.HISTORY_CHANGE="history:change",t.TEXT_UPDATE="text:update",t.GRAPH_TRANSFORM="graph:transform"}(ot||(ot={})),function(t){t.HORIZONTAL="horizontal",t.VERTICAL="vertical"}(Tt||(Tt={}));var zn,It,Hc,Yc,Vc,Wc,Kc,Zc,qc;function ji(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,b=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(E){b=!0,u=E}finally{try{d||i.return==null||i.return()}finally{if(b)throw u}}return l}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return $c(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return $c(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function $c(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xr(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Pv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function jn(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(t,e,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}(function(t){t[t.DEFAULT=0]="DEFAULT",t[t.INCREASE=1]="INCREASE"})(zn||(zn={}));var Av=(Hc=jn((It=function(){function t(r){(function(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")})(this,t),this.MINI_SCALE_SIZE=.2,this.MAX_SCALE_SIZE=16,xr(this,"SCALE_X",Hc,this),xr(this,"SKEW_Y",Yc,this),xr(this,"SKEW_X",Vc,this),xr(this,"SCALE_Y",Wc,this),xr(this,"TRANSLATE_X",Kc,this),xr(this,"TRANSLATE_Y",Zc,this),xr(this,"ZOOM_SIZE",qc,this),this.eventCenter=void 0,this.eventCenter=r}var e,n;return e=t,(n=[{key:"setZoomMiniSize",value:function(r){this.MINI_SCALE_SIZE=r}},{key:"setZoomMaxSize",value:function(r){this.MAX_SCALE_SIZE=r}},{key:"HtmlPointToCanvasPoint",value:function(r){var i=ji(r,2),o=i[0],u=i[1];return[(o-this.TRANSLATE_X)/this.SCALE_X,(u-this.TRANSLATE_Y)/this.SCALE_Y]}},{key:"CanvasPointToHtmlPoint",value:function(r){var i=ji(r,2),o=i[0],u=i[1];return[o*this.SCALE_X+this.TRANSLATE_X,u*this.SCALE_Y+this.TRANSLATE_Y]}},{key:"moveCanvasPointByHtml",value:function(r,i,o){var u=ji(r,2),l=u[0],d=u[1];return[l+i/this.SCALE_X,d+o/this.SCALE_Y]}},{key:"fixDeltaXY",value:function(r,i){return[r/this.SCALE_X,i/this.SCALE_Y]}},{key:"getTransformStyle",value:function(){var r=[this.SCALE_X,this.SKEW_Y,this.SKEW_X,this.SCALE_Y,this.TRANSLATE_X,this.TRANSLATE_Y].join(",");return{transform:"matrix(".concat(r,")")}}},{key:"zoom",value:function(){var r=arguments.length>0&&arguments[0]!==void 0&&arguments[0],i=arguments.length>1?arguments[1]:void 0,o=this.SCALE_X,u=this.SCALE_Y;return r===!0?(o+=this.ZOOM_SIZE,u+=this.ZOOM_SIZE):r===!1?(o-=this.ZOOM_SIZE,u-=this.ZOOM_SIZE):typeof r=="number"&&(o=r,u=r),!(o<this.MINI_SCALE_SIZE||o>this.MAX_SCALE_SIZE||(i&&(this.TRANSLATE_X-=(o-this.SCALE_X)*i[0],this.TRANSLATE_Y-=(u-this.SCALE_Y)*i[1]),this.SCALE_X=o,this.SCALE_Y=u,this.emitGraphTransform("zoom"),0))}},{key:"emitGraphTransform",value:function(r){this.eventCenter.emit(ot.GRAPH_TRANSFORM,{type:r,transform:{SCALE_X:this.SCALE_X,SKEW_Y:this.SKEW_Y,SKEW_X:this.SKEW_X,SCALE_Y:this.SCALE_Y,TRANSLATE_X:this.TRANSLATE_X,TRANSLATE_Y:this.TRANSLATE_Y}})}},{key:"resetZoom",value:function(){this.SCALE_X=1,this.SCALE_Y=1,this.emitGraphTransform("resetZoom")}},{key:"translate",value:function(r,i){this.TRANSLATE_X+=r,this.TRANSLATE_Y+=i,this.emitGraphTransform("translate")}},{key:"focusOn",value:function(r,i,o,u){var l=ji(this.CanvasPointToHtmlPoint([r,i]),2),d=o/2-l[0],b=u/2-l[1];this.TRANSLATE_X+=d,this.TRANSLATE_Y+=b,this.emitGraphTransform("focusOn")}}])&&Pv(e.prototype,n),t}()).prototype,"SCALE_X",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Yc=jn(It.prototype,"SKEW_Y",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Vc=jn(It.prototype,"SKEW_X",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Wc=jn(It.prototype,"SCALE_Y",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Kc=jn(It.prototype,"TRANSLATE_X",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Zc=jn(It.prototype,"TRANSLATE_Y",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),qc=jn(It.prototype,"ZOOM_SIZE",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return .04}}),jn(It.prototype,"zoom",[s.k],Object.getOwnPropertyDescriptor(It.prototype,"zoom"),It.prototype),jn(It.prototype,"resetZoom",[s.k],Object.getOwnPropertyDescriptor(It.prototype,"resetZoom"),It.prototype),jn(It.prototype,"translate",[s.k],Object.getOwnPropertyDescriptor(It.prototype,"translate"),It.prototype),jn(It.prototype,"focusOn",[s.k],Object.getOwnPropertyDescriptor(It.prototype,"focusOn"),It.prototype),It),kv=function(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t},Tv=function(t,e){return t&&mo(e,Wn(e),t)},Dv=function(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e},Mv=Object.prototype.hasOwnProperty,Nv=function(t){if(!Ct(t))return Dv(t);var e=an(t),n=[];for(var r in t)(r!="constructor"||!e&&Mv.call(t,r))&&n.push(r);return n},Ea=function(t){return or(t)?lo(t,!0):Nv(t)},Cv=function(t,e){return t&&mo(e,Ea(e),t)},Rv=a(156),Iv=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e},Lv=function(t,e){return mo(t,ao(t),e)},Jc=fo(Object.getPrototypeOf,Object),Qc=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)Nn(e,ao(t)),t=Jc(t);return e}:yi,zv=function(t,e){return mo(t,Qc(t),e)},Bv=function(t){return hi(t,Ea,Qc)},Fv=Object.prototype.hasOwnProperty,Uv=function(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&Fv.call(t,"index")&&(n.index=t.index,n.input=t.input),n},ja=function(t){var e=new t.constructor(t.byteLength);return new yr(e).set(new yr(t)),e},Xv=function(t,e){var n=e?ja(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)},Gv=/\w*$/,Hv=function(t){var e=new t.constructor(t.source,Gv.exec(t));return e.lastIndex=t.lastIndex,e},es=At?At.prototype:void 0,ts=es?es.valueOf:void 0,Yv=function(t){return ts?Object(ts.call(t)):{}},Vv=function(t,e){var n=e?ja(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)},Wv=function(t,e,n){var r=t.constructor;switch(e){case"[object ArrayBuffer]":return ja(t);case"[object Boolean]":case"[object Date]":return new r(+t);case"[object DataView]":return Xv(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Vv(t,n);case"[object Map]":return new r;case"[object Number]":case"[object String]":return new r(t);case"[object RegExp]":return Hv(t);case"[object Set]":return new r;case"[object Symbol]":return Yv(t)}},ns=Object.create,Kv=function(){function t(){}return function(e){if(!Ct(e))return{};if(ns)return ns(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),Zv=function(t){return typeof t.constructor!="function"||an(t)?{}:Kv(Jc(t))},qv=function(t){return Cn(t)&&mr(t)=="[object Map]"},rs=rr.a&&rr.a.isMap,$v=rs?Qt(rs):qv,Jv=function(t){return Cn(t)&&mr(t)=="[object Set]"},os=rr.a&&rr.a.isSet,Qv=os?Qt(os):Jv,St={};St["[object Arguments]"]=St["[object Array]"]=St["[object ArrayBuffer]"]=St["[object DataView]"]=St["[object Boolean]"]=St["[object Date]"]=St["[object Float32Array]"]=St["[object Float64Array]"]=St["[object Int8Array]"]=St["[object Int16Array]"]=St["[object Int32Array]"]=St["[object Map]"]=St["[object Number]"]=St["[object Object]"]=St["[object RegExp]"]=St["[object Set]"]=St["[object String]"]=St["[object Symbol]"]=St["[object Uint8Array]"]=St["[object Uint8ClampedArray]"]=St["[object Uint16Array]"]=St["[object Uint32Array]"]=!0,St["[object Error]"]=St["[object Function]"]=St["[object WeakMap]"]=!1;var eg=function t(e,n,r,i,o,u){var l,d=1&n,b=2&n,E=4&n;if(r&&(l=o?r(e,i,o,u):r(e)),l!==void 0)return l;if(!Ct(e))return e;var A=Jt(e);if(A){if(l=Uv(e),!d)return Iv(e,l)}else{var C=mr(e),B=C=="[object Function]"||C=="[object GeneratorFunction]";if(Object(Ir.a)(e))return Object(Rv.a)(e,d);if(C=="[object Object]"||C=="[object Arguments]"||B&&!o){if(l=b||B?{}:Zv(e),!d)return b?zv(e,Cv(l,e)):Lv(e,Tv(l,e))}else{if(!St[C])return o?e:{};l=Wv(e,C,d)}}u||(u=new Vn);var W=u.get(e);if(W)return W;u.set(e,l),Qv(e)?e.forEach(function(ne){l.add(t(ne,n,r,ne,e,u))}):$v(e)&&e.forEach(function(ne,oe){l.set(oe,t(ne,n,r,oe,e,u))});var ee=A?void 0:(E?b?Bv:Kt:b?Ea:Wn)(e);return kv(ee||e,function(ne,oe){ee&&(ne=e[oe=ne]),Ei(l,oe,t(ne,n,r,oe,e,u))}),l},Sa=function(t){return eg(t,5)};function is(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ut(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?is(Object(n),!0).forEach(function(r){tg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):is(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tg(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Fr={fill:"#FFFFFF",stroke:"#000000",strokeWidth:2,fillOpacity:1,strokeOpacity:1,opacity:1,outlineColor:"#000000",outlineStrokeDashArray:"3,3",hoverOutlineColor:"#000000",hoverOutlineStrokeDashArray:"3,3"},ng=Ut(Ut({},Fr),{},{width:100,height:80,radius:0}),rg=Ut(Ut({},Fr),{},{r:50}),og=Ut(Ut({},Fr),{},{rx:55,ry:45}),ig=Ut(Ut({},Fr),{},{rx:50,ry:50}),ag=Ut({},Fr),ug=Ut(Ut({},Fr),{},{stroke:"#000000",strokeWidth:1,r:4}),Pa={stroke:"#000000",strokeWidth:2,hoverStroke:"#000000",selectedStroke:"#000000",strokeDashArray:"1,0",outlineColor:"#000000",outlineStrokeDashArray:"3,3"},cg=Ut({},Pa),sg=Ut(Ut({},Pa),{},{offset:30}),lg=Ut(Ut({},Pa),{},{offset:100,adjustLineColor:"#4169E1",adjustAnchorStroke:"#4169E1",adjustAnchorFill:"#1E90FF",adjustAnchorFillOpacity:.5}),as={color:"#000000",fontSize:12,fontWeight:"normal",fontFamily:""},un={rect:ng,circle:rg,diamond:ig,ellipse:og,polygon:ag,anchor:ug,text:as,nodeText:Ut(Ut({},as),{},{autoWrap:!1,lineHeight:1.2,wrapPadding:"2px 3px"}),edgeText:{color:"#000000",fontSize:12,fontWeight:"normal",fontFamily:"",background:{fill:"transparent",height:20,stroke:"transparent",radius:0},hoverBackground:null,autoWrap:!1,lineHeight:1.2,wrapPadding:"2px 3px"},line:cg,polyline:sg,bezier:lg,arrow:{offset:10,verticalLength:5},anchorLine:{stroke:"#000000",strokeWidth:2,strokeDasharray:"3,2"},anchorHover:{fill:"#1E90FF",fillOpacity:.5,stroke:"#4169E1",strokeWidth:1,r:10},snapline:{stroke:"#1E90FF",strokeWidth:1},edgeAdjust:{r:4,fill:"#FFFFFF",stroke:"#373738",strokeWidth:"2px"}};function us(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?us(Object(n),!0).forEach(function(r){fg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):us(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fg(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ss=function(t){var e=Sa(un);return t&&Object.keys(t).forEach(function(n){e[n]=cs(cs({},e[n]),t[n])}),e};function Si(t,e){return e*Math.round(t/e)||t}function ls(t,e){return t%e}function Aa(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,b=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(E){b=!0,u=E}finally{try{d||i.return==null||i.return()}finally{if(b)throw u}}return l}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return fs(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return fs(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function fs(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var ka,Ta=function(t,e,n){var r=Aa(t,2),i=r[0],o=r[1],u=Aa(e,2),l=u[0],d=u[1],b=Aa(n,2),E=b[0],A=b[1];return i>l&&i<E&&o>d&&o<A},pg=(a(36),a(61),a(71),a(153),a(154),a(72),a(12),a(13),a(14),a(41),new Uint8Array(16));function dg(){if(!ka&&!(ka=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ka(pg)}for(var hg=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,yg=function(t){return typeof t=="string"&&hg.test(t)},Vt=[],Da=0;Da<256;++Da)Vt.push((Da+256).toString(16).substr(1));var vg=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(Vt[t[e+0]]+Vt[t[e+1]]+Vt[t[e+2]]+Vt[t[e+3]]+"-"+Vt[t[e+4]]+Vt[t[e+5]]+"-"+Vt[t[e+6]]+Vt[t[e+7]]+"-"+Vt[t[e+8]]+Vt[t[e+9]]+"-"+Vt[t[e+10]]+Vt[t[e+11]]+Vt[t[e+12]]+Vt[t[e+13]]+Vt[t[e+14]]+Vt[t[e+15]]).toLowerCase();if(!yg(n))throw TypeError("Stringified UUID is invalid");return n},Ma=function(t,e,n){var r=(t=t||{}).random||(t.rng||dg)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=r[i];return e}return vg(r)},Ur=function(){return Ma()},gg=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=t.nodes.reduce(function(r,i){return r[i.id]=e+Ma(),i.id=r[i.id],r},{});return t.edges.forEach(function(r){r.id=e+Ma(),r.sourceNodeId=n[r.sourceNodeId],r.targetNodeId=n[r.targetNodeId]}),t},_o=(a(99),a(196),function(t,e,n){var r=t.x,i=t.y;return(r-e.x)*(r-n.x)<=0&&(i-e.y)*(i-n.y)<=0});function ps(t){return(ps=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function ds(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ds(Object(n),!0).forEach(function(r){bg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ds(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bg(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Oe,ys,vs,gs,bs,ms,_s,Os,ws,xs,Es,js,Ss,Ps,As,ks,Ts,Ds,Ms,Ns,Cs,Rs,Is,Ls,zs,Na=function(t){return t.anchors},Pi=function(t,e){for(var n,r=e.length-1;r>=0;r--)if(_g(t,e[r])){var i=mg(t,e[r]);if(i){n={node:e[r],anchorIndex:i.index,anchor:i.anchor};break}}return n},mg=function(t,e){for(var n,r=Na(e),i=Number.MAX_SAFE_INTEGER,o=0;o<r.length;o++){var u=Bn(t.x,t.y,r[o].x,r[o].y);u<i&&(i=u,n={index:o,anchor:hs(hs({},r[o]),{},{x:r[o].x,y:r[o].y,id:r[o].id})})}return n},Bn=function(t,e,n,r){return Math.hypot(t-n,e-r)},ar=function(t,e){var n=!1,r=dn(e);return t.x>=r.minX-0&&t.x<=r.maxX+0&&t.y>=r.minY-0&&t.y<=r.maxY+0&&(n=!0),n},_g=function(t,e){var n=!1,r=dn(e);return t.x>=r.minX-5&&t.x<=r.maxX+5&&t.y>=r.minY-5&&t.y<=r.maxY+5&&(n=!0),n},dn=function(t){var e=t.x,n=t.y,r=t.width,i=t.height;return{minX:e-r/2,minY:n-i/2,maxX:e+r/2,maxY:n+i/2,x:e,y:n,width:r,height:i,centerX:e,centerY:n}},Bs=function(t,e,n){var r,i=function(u){var l=u,d=l.x,b=l.y,E=l.width,A=l.height,C=l.radius;return[{x:d-E/2+C,y:b-A/2+C,r:C},{x:d+E/2-C,y:b-A/2+C,r:C},{x:d-E/2+C,y:b+A/2-C,r:C},{x:d+E/2-C,y:b+A/2-C,r:C}]}(n),o=Number.MAX_SAFE_INTEGER;return i.forEach(function(u){var l=Bn(t.x,t.y,u.x,u.y);l<o&&(o=l,r=u)}),Ca(t,e,r)},Ca=function(t,e,n){var r,i=n,o=i.x,u=i.y,l=i.r;if(e===Tt.HORIZONTAL){var d=o-Math.sqrt(l*l-(t.y-u)*(t.y-u)),b=o+Math.sqrt(l*l-(t.y-u)*(t.y-u));r={x:Math.abs(d-t.x)<Math.abs(b-t.x)?d:b,y:t.y}}else if(e===Tt.VERTICAL){var E=u-Math.sqrt(l*l-(t.x-o)*(t.x-o)),A=u+Math.sqrt(l*l-(t.x-o)*(t.x-o)),C=Math.abs(E-t.y)<Math.abs(A-t.y)?E:A;r={x:t.x,y:C}}return r},Fs=function(t,e){var n=e,r=!1,i=n.x-n.width/2+n.radius,o=n.x+n.width/2-n.radius,u=n.y-n.height/2+n.radius,l=n.y+n.height/2-n.radius,d=n.x,b=n.y,E=n.width,A=n.height;return t.y===b+A/2||t.y===b-A/2?r=t.x>i&&t.x<o:t.x!==d+E/2&&t.x!==d-E/2||(r=t.y>u&&t.y<l),r},Us=function(t,e,n){var r,i=n,o=i.x,u=i.y,l=i.rx,d=i.ry;if(e===Tt.HORIZONTAL){var b=o-Math.sqrt(l*l-(t.y-u)*(t.y-u)*l*l/(d*d)),E=o+Math.sqrt(l*l-(t.y-u)*(t.y-u)*l*l/(d*d));r={x:Math.abs(b-t.x)<Math.abs(E-t.x)?b:E,y:t.y}}else if(e===Tt.VERTICAL){var A=u-Math.sqrt(d*d-(t.x-o)*(t.x-o)*d*d/(l*l)),C=u+Math.sqrt(d*d-(t.x-o)*(t.x-o)*d*d/(l*l)),B=Math.abs(A-t.y)<Math.abs(C-t.y)?A:C;r={x:t.x,y:B}}return r},Xs=function(t,e,n){for(var r,i=n.pointsPosition,o=Number.MAX_SAFE_INTEGER,u=[],l=0;l<i.length;l++)u.push({start:i[l],end:i[(l+1)%i.length]});return u.forEach(function(d){var b=d.start,E=d.end,A=b,C=E;b.x>E.x&&(A=E,C=b);var B,W=(C.y-A.y)/(C.x-A.x),ee=(A.x*C.y-C.x*A.y)/(A.x-C.x);if(W>Number.MAX_SAFE_INTEGER||ee>Number.MAX_SAFE_INTEGER?B={x:t.x,y:t.y}:e===Tt.HORIZONTAL?B={x:(t.y-ee)/W,y:t.y}:e===Tt.VERTICAL&&(B={x:t.x,y:W*t.x+ee}),_o(B,b,E)){var ne=Bn(B.x,B.y,t.x,t.y);ne<o&&(o=ne,r=B)}}),r},Gs=function(t,e,n,r){var i=t.x,o=t.y;return e.x>t.x?i=t.x+n/2:e.x<t.x&&(i=t.x-n/2),e.y>t.y?o=t.y+r/2:e.y<t.y&&(o=t.y-r/2),{x:i,y:o}},Hs=function(t){var e=t.rows,n=t.style,r=t.rowsLength,i=t.className,o=document.createElement("div");o.style.fontSize=n.fontSize,o.style.width=n.width,o.className=i,o.style.lineHeight=n.lineHeight,o.style.padding=n.padding,n.fontFamily&&(o.style.fontFamily=n.fontFamily),r>1?e.forEach(function(l){var d=document.createElement("div");d.textContent=l,o.appendChild(d)}):o.textContent=e,document.body.appendChild(o);var u=o.clientHeight;return document.body.removeChild(o),u},Ai=function(t){var e=t.rows,n=t.rowsLength,r=t.fontSize,i=0;return e&&e.forEach(function(o){var u=Va(o);i=u>i?u:i}),{width:Math.ceil(i/2)*r+r/4,height:n*(r+2)+r/4}},Ys=function(t){return ps(t)!=="object"?{isAllPass:!!t,msg:t?"":"\u4E0D\u5141\u8BB8\u8FDE\u63A5"}:t},mn=function(t){try{return JSON.parse(JSON.stringify(t))}catch(e){return t}},Og=1e3,wg=999,Ra=function(){return++Og};function Vs(t){return(Vs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function kt(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function xg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function qe(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(t,e,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}function Ws(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Eg(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Mt=function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ws(Object(n),!0).forEach(function(r){Eg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ws(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}({sourceNodeId:"",sourceAnchorId:"",targetNodeId:"",targetAnchorId:"",startPoint:null,endPoint:null,zIndex:0,isSelected:!1,isHovered:!1,text:{value:"",x:0,y:0,draggable:!1,editable:!0},points:"",pointsList:[],strokeOpacity:1,hideOutline:!1},un.line),Ia=(ys=qe((Oe=function(){function t(r,i,o){(function(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")})(this,t),this.id=Ur(),this.BaseType=Bt.EDGE,kt(this,"state",ys,this),this.modelType=at.EDGE,this.additionStateData=void 0,this.graphModel=void 0,this.menu=void 0,this.sourceAnchorId=Mt.sourceAnchorId,this.targetAnchorId=Mt.targetAnchorId,this.customTextPosition=!1,kt(this,"text",vs,this),kt(this,"type",gs,this),kt(this,"properties",bs,this),kt(this,"sourceNodeId",ms,this),kt(this,"targetNodeId",_s,this),kt(this,"startPoint",Os,this),kt(this,"endPoint",ws,this),kt(this,"strokeWidth",xs,this),kt(this,"stroke",Es,this),kt(this,"strokeDashArray",js,this),kt(this,"outlineColor",Ss,this),kt(this,"hideOutline",Ps,this),kt(this,"outlineStrokeDashArray",As,this),kt(this,"strokeOpacity",ks,this),kt(this,"zIndex",Ts,this),kt(this,"isSelected",Ds,this),kt(this,"isHovered",Ms,this),kt(this,"isHitable",Ns,this),kt(this,"hoverStroke",Cs,this),kt(this,"selectedStroke",Rs,this),kt(this,"points",Is,this),kt(this,"pointsList",Ls,this),kt(this,"draggable",zs,this),this.graphModel=i,this.setStyleFromTheme(o,i),this.initEdgeData(r),this.setAttributes(),this.setAnchors(),this.initPoints(),this.formatText(r)}var e,n;return e=t,(n=[{key:"initEdgeData",value:function(r){if(r.properties||(r.properties={}),!r.id){var i=this.graphModel.idGenerator,o=i&&i(r.type);o&&(r.id=o);var u=this.createId();u&&(r.id=u)}Nt(this,zg(r)),this.graphModel.overlapMode===zn.INCREASE&&(this.zIndex=r.zIndex||Ra())}},{key:"createId",value:function(){return null}},{key:"setAttributes",value:function(){}},{key:"sourceNode",get:function(){var r,i;return(r=this.graphModel)===null||r===void 0||(i=r.nodesMap[this.sourceNodeId])===null||i===void 0?void 0:i.model}},{key:"targetNode",get:function(){var r,i;return(r=this.graphModel)===null||r===void 0||(i=r.nodesMap[this.targetNodeId])===null||i===void 0?void 0:i.model}},{key:"textPosition",get:function(){return this.getTextPosition()}},{key:"getTextPosition",value:function(){return{x:0,y:0}}},{key:"move",value:function(){}},{key:"getBeginAnchor",value:function(r,i){var o,u;return Na(r).forEach(function(l){var d=vl(l,i);u?d<u&&(u=d,o=l):(u=d,o=l)}),o}},{key:"getEndAnchor",value:function(r){var i,o,u=this;return Na(r).forEach(function(l){var d=vl(l,u.startPoint);o?d<o&&(o=d,i=l):(o=d,i=l)}),i}},{key:"getProperties",value:function(){return Object(s.I)(this.properties)}},{key:"getData",value:function(){var r=this.text,i=r.x,o=r.y,u=r.value,l={id:this.id,type:this.type,sourceNodeId:this.sourceNode.id,targetNodeId:this.targetNode.id,startPoint:Object.assign({},this.startPoint),endPoint:Object.assign({},this.endPoint),properties:Object(s.I)(this.properties)};return u&&(l.text={x:i,y:o,value:u}),this.graphModel.overlapMode===zn.INCREASE&&(l.zIndex=this.zIndex),l}},{key:"setProperty",value:function(r,i){this.properties[r]=mn(i),this.setAttributes()}},{key:"setProperties",value:function(r){Object.assign(this.properties,mn(r)),this.setAttributes()}},{key:"updateData",value:function(r){var i=mn(Ln(r,"type","sourceNodeId","targetNodeId","startPoint","endPoint","text","properties")),o=this.text,u=o.x,l=o.y,d=o.draggable,b=o.editable;if(i.text&&typeof i.text=="string"){var E={value:i.text,draggable:d,editable:b},A=this.textPosition;i.text=u||l?Object.assign({},E,{x:u,y:l}):Object.assign({},E,A)}else if(Vs(i.text)==="object"){var C=Object.assign({},this.text,i.text);i.text=Ln(C,"x","y","value","draggable","editable")}Nt(this,i)}},{key:"formatText",value:function(r){var i=this.textPosition,o=i.x,u=i.y;r.text&&typeof r.text!="string"?Object.prototype.toString.call(r.text)==="[object Object]"&&(this.text={x:r.text.x||o,y:r.text.y||u,value:r.text.value||"",draggable:this.text.draggable,editable:this.text.editable}):this.text={value:r.text||"",x:o,y:u,draggable:this.text.draggable,editable:this.text.editable}}},{key:"resetTextPosition",value:function(){var r=this.textPosition,i=r.x,o=r.y;this.text.x=i,this.text.y=o}},{key:"moveText",value:function(r,i){if(this.text){var o=this.text,u=o.x,l=o.y,d=o.value,b=o.draggable,E=o.editable;this.text={value:d,draggable:b,x:u+r,y:l+i,editable:E}}}},{key:"setText",value:function(r){r&&Nt(this.text,r)}},{key:"updateText",value:function(r){var i=this.text,o=i.x,u=i.y,l=i.draggable,d=i.editable;this.text={x:o,y:u,draggable:l,editable:d,value:r}}},{key:"setAnchors",value:function(){if(!this.startPoint){var r=this.getBeginAnchor(this.sourceNode,this.targetNode);this.startPoint=r}if(!this.endPoint){var i=this.getEndAnchor(this.targetNode);this.endPoint=i}}},{key:"setSelected",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isSelected=r}},{key:"setHovered",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHovered=r}},{key:"setHitable",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHitable=r}},{key:"setElementState",value:function(r,i){this.state=r,this.additionStateData=i}},{key:"updateStroke",value:function(r){this.stroke=r}},{key:"updateStrokeWidth",value:function(r){this.strokeWidth=r}},{key:"updateStartPoint",value:function(r){this.startPoint=r}},{key:"updateEndPoint",value:function(r){this.endPoint=r}},{key:"setStyleFromTheme",value:function(r,i){var o=i.theme;o[r]&&Nt(this,o[r])}},{key:"setZIndex",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Mt.zIndex;this.zIndex=r}},{key:"initPoints",value:function(){}},{key:"updateAttributes",value:function(r){Nt(this,r)}},{key:"getAdjustStart",value:function(){return this.startPoint}},{key:"getAdjustEnd",value:function(){return this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(r){var i=r.startPoint,o=r.endPoint;this.updateStartPoint({x:i.x,y:i.y}),this.updateEndPoint({x:o.x,y:o.y})}}])&&xg(e.prototype,n),t}()).prototype,"state",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),vs=qe(Oe.prototype,"text",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Mt.text}}),gs=qe(Oe.prototype,"type",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),bs=qe(Oe.prototype,"properties",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),ms=qe(Oe.prototype,"sourceNodeId",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Mt.sourceNodeId}}),_s=qe(Oe.prototype,"targetNodeId",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Mt.targetNodeId}}),Os=qe(Oe.prototype,"startPoint",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Mt.startPoint}}),ws=qe(Oe.prototype,"endPoint",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Mt.endPoint}}),xs=qe(Oe.prototype,"strokeWidth",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Mt.strokeWidth}}),Es=qe(Oe.prototype,"stroke",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Mt.stroke}}),js=qe(Oe.prototype,"strokeDashArray",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Mt.strokeDashArray}}),Ss=qe(Oe.prototype,"outlineColor",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Mt.outlineColor}}),Ps=qe(Oe.prototype,"hideOutline",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Mt.hideOutline}}),As=qe(Oe.prototype,"outlineStrokeDashArray",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Mt.outlineStrokeDashArray}}),ks=qe(Oe.prototype,"strokeOpacity",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Mt.strokeOpacity}}),Ts=qe(Oe.prototype,"zIndex",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Mt.zIndex}}),Ds=qe(Oe.prototype,"isSelected",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Mt.isSelected}}),Ms=qe(Oe.prototype,"isHovered",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Mt.isHovered}}),Ns=qe(Oe.prototype,"isHitable",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Cs=qe(Oe.prototype,"hoverStroke",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Mt.hoverStroke}}),Rs=qe(Oe.prototype,"selectedStroke",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Mt.selectedStroke}}),Is=qe(Oe.prototype,"points",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Mt.points}}),Ls=qe(Oe.prototype,"pointsList",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Mt.pointsList}}),zs=qe(Oe.prototype,"draggable",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),qe(Oe.prototype,"sourceNode",[s.m],Object.getOwnPropertyDescriptor(Oe.prototype,"sourceNode"),Oe.prototype),qe(Oe.prototype,"targetNode",[s.m],Object.getOwnPropertyDescriptor(Oe.prototype,"targetNode"),Oe.prototype),qe(Oe.prototype,"textPosition",[s.m],Object.getOwnPropertyDescriptor(Oe.prototype,"textPosition"),Oe.prototype),qe(Oe.prototype,"setProperty",[s.k],Object.getOwnPropertyDescriptor(Oe.prototype,"setProperty"),Oe.prototype),qe(Oe.prototype,"setProperties",[s.k],Object.getOwnPropertyDescriptor(Oe.prototype,"setProperties"),Oe.prototype),qe(Oe.prototype,"updateData",[s.k],Object.getOwnPropertyDescriptor(Oe.prototype,"updateData"),Oe.prototype),qe(Oe.prototype,"formatText",[s.k],Object.getOwnPropertyDescriptor(Oe.prototype,"formatText"),Oe.prototype),qe(Oe.prototype,"resetTextPosition",[s.k],Object.getOwnPropertyDescriptor(Oe.prototype,"resetTextPosition"),Oe.prototype),qe(Oe.prototype,"moveText",[s.k],Object.getOwnPropertyDescriptor(Oe.prototype,"moveText"),Oe.prototype),qe(Oe.prototype,"setText",[s.k],Object.getOwnPropertyDescriptor(Oe.prototype,"setText"),Oe.prototype),qe(Oe.prototype,"updateText",[s.k],Object.getOwnPropertyDescriptor(Oe.prototype,"updateText"),Oe.prototype),qe(Oe.prototype,"setAnchors",[s.k],Object.getOwnPropertyDescriptor(Oe.prototype,"setAnchors"),Oe.prototype),qe(Oe.prototype,"setSelected",[s.k],Object.getOwnPropertyDescriptor(Oe.prototype,"setSelected"),Oe.prototype),qe(Oe.prototype,"setHovered",[s.k],Object.getOwnPropertyDescriptor(Oe.prototype,"setHovered"),Oe.prototype),qe(Oe.prototype,"setHitable",[s.k],Object.getOwnPropertyDescriptor(Oe.prototype,"setHitable"),Oe.prototype),qe(Oe.prototype,"setElementState",[s.k],Object.getOwnPropertyDescriptor(Oe.prototype,"setElementState"),Oe.prototype),qe(Oe.prototype,"updateStroke",[s.k],Object.getOwnPropertyDescriptor(Oe.prototype,"updateStroke"),Oe.prototype),qe(Oe.prototype,"updateStrokeWidth",[s.k],Object.getOwnPropertyDescriptor(Oe.prototype,"updateStrokeWidth"),Oe.prototype),qe(Oe.prototype,"updateStartPoint",[s.k],Object.getOwnPropertyDescriptor(Oe.prototype,"updateStartPoint"),Oe.prototype),qe(Oe.prototype,"updateEndPoint",[s.k],Object.getOwnPropertyDescriptor(Oe.prototype,"updateEndPoint"),Oe.prototype),qe(Oe.prototype,"setStyleFromTheme",[s.k],Object.getOwnPropertyDescriptor(Oe.prototype,"setStyleFromTheme"),Oe.prototype),qe(Oe.prototype,"setZIndex",[s.k],Object.getOwnPropertyDescriptor(Oe.prototype,"setZIndex"),Oe.prototype),qe(Oe.prototype,"initPoints",[s.k],Object.getOwnPropertyDescriptor(Oe.prototype,"initPoints"),Oe.prototype),qe(Oe.prototype,"updateAttributes",[s.k],Object.getOwnPropertyDescriptor(Oe.prototype,"updateAttributes"),Oe.prototype),qe(Oe.prototype,"getAdjustStart",[s.k],Object.getOwnPropertyDescriptor(Oe.prototype,"getAdjustStart"),Oe.prototype),qe(Oe.prototype,"getAdjustEnd",[s.k],Object.getOwnPropertyDescriptor(Oe.prototype,"getAdjustEnd"),Oe.prototype),qe(Oe.prototype,"updateAfterAdjustStartAndEnd",[s.k],Object.getOwnPropertyDescriptor(Oe.prototype,"updateAfterAdjustStartAndEnd"),Oe.prototype),Oe),La=Ia;function Ks(t){return(Ks=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function jg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Zs(t,e){return(Zs=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Sg(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=za(t);if(e){var i=za(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Pg(this,n)}}function Pg(t,e){if(e&&(Ks(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function za(t){return(za=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var ut,qs,Ba=function(t){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Zs(o,u)})(i,t);var e,n,r=Sg(i);function i(o,u){var l;return function(d,b){if(!(d instanceof b))throw new TypeError("Cannot call a class as a function")}(this,i),(l=r.call(this,o,u,"line")).modelType=at.LINE_EDGE,l}return e=i,(n=[{key:"getTextPosition",value:function(){return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}}])&&jg(e.prototype,n),i}(La);a(42);function $s(t){return($s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Ag(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,b=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(E){b=!0,u=E}finally{try{d||i.return==null||i.return()}finally{if(b)throw u}}return l}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Js(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Js(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Js(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Qs(){return(Qs=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=Tg(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}}).apply(this,arguments)}function Tg(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Oo(t))!==null;);return t}function el(t,e){return(el=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Dg(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Oo(t);if(e){var i=Oo(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Mg(this,n)}}function Mg(t,e){if(e&&($s(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tl(t)}function tl(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Oo(t){return(Oo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function hn(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(t,e,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var Fa=(qs=hn((ut=function(t){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&el(o,u)})(i,t);var e,n,r=Dg(i);function i(o,u){var l;return function(d,b){if(!(d instanceof b))throw new TypeError("Cannot call a class as a function")}(this,i),(l=r.call(this,o,u,"polyline")).modelType=at.POLYLINE_EDGE,l.offset=un.polyline.offset,l.draginngPointList=void 0,function(d,b,E,A){E&&Object.defineProperty(d,b,{enumerable:E.enumerable,configurable:E.configurable,writable:E.writable,value:E.initializer?E.initializer.call(A):void 0})}(l,"dbClickPosition",qs,tl(l)),l}return e=i,(n=[{key:"getTextPosition",value:function(){var o,u=(o=this.text)===null||o===void 0?void 0:o.value;if(this.dbClickPosition&&!u){var l=this.dbClickPosition;return{x:l.x,y:l.y}}var d=Xr(this.points),b=Ag(Ig(d),2),E=b[0],A=b[1];return{x:(E.x+A.x)/2,y:(E.y+A.y)/2}}},{key:"getAfterAnchor",value:function(o,u,l){var d,b;return l.forEach(function(E){var A;o===Tt.HORIZONTAL?A=Math.abs(u.y-E.y):o===Tt.VERTICAL&&(A=Math.abs(u.x-E.x)),(!b||b>A)&&(b=A,d=E)}),d}},{key:"getCorssPoint",value:function(o,u,l){var d;return o===Tt.HORIZONTAL?d={x:l.x,y:u.y}:o===Tt.VERTICAL&&(d={x:u.x,y:l.y}),d}},{key:"removeCrossPoints",value:function(o,u,l){var d=l.map(function(oe){return oe});if(o===1){var b=d[o],E=d[u],A=d[o-1];if(ll(A,b,this.sourceNode)){if(fl(b,E,this.sourceNode)){var C=pl(b,E,this.sourceNode);C&&(d[o]=C,d.splice(o-1,1),o--,u--)}}else this.sourceNode.anchors.forEach(function(oe){(oe.x===A.x&&oe.x===b.x||oe.y===A.y&&oe.y===b.y)&&Bn(oe.x,oe.y,b.x,b.y)<Bn(A.x,A.y,b.x,b.y)&&(d[o-1]=oe)})}if(u===l.length-2){var B=d[o],W=d[u],ee=d[u+1];if(ll(W,ee,this.targetNode)){if(fl(B,W,this.targetNode)){var ne=pl(B,W,this.targetNode);ne&&(d[u]=ne,d.splice(u+1,1))}}else this.targetNode.anchors.forEach(function(oe){(oe.x===ee.x&&oe.x===W.x||oe.y===ee.y&&oe.y===W.y)&&Bn(oe.x,oe.y,W.x,W.y)<Bn(ee.x,ee.y,W.x,W.y)&&(d[u+1]=oe)})}return d}},{key:"getDragingPoints",value:function(o,u,l,d,b){var E=b.map(function(B){return B}),A=this.getAfterAnchor(o,l,d),C=this.getCorssPoint(o,l,A);return u==="start"?(E.unshift(C),E.unshift(A)):(E.push(C),E.push(A)),E}},{key:"updateCrossPoints",value:function(o){var u=o.map(function(le){return le}),l=o[0],d=o[1],b=o[u.length-2],E=o[u.length-1],A=this.sourceNode,C=this.targetNode,B=A.modelType,W=C.modelType,ee=Ci(l,d),ne=u[0];switch(B){case at.RECT_NODE:A.radius!==0&&(Fs(l,A)||(ne=Bs(l,ee,A)));break;case at.CIRCLE_NODE:ne=Ca(l,ee,A);break;case at.ELLIPSE_NODE:ne=Us(l,ee,A);break;case at.DIAMOND_NODE:case at.POLYGON_NODE:ne=Xs(l,ee,A)}u[0]=ne;var oe=Ci(b,E),pe=u[u.length-1];switch(W){case at.RECT_NODE:C.radius!==0&&(Fs(E,C)||(pe=Bs(E,oe,C)));break;case at.CIRCLE_NODE:pe=Ca(E,oe,C);break;case at.ELLIPSE_NODE:pe=Us(E,oe,C);break;case at.DIAMOND_NODE:case at.POLYGON_NODE:pe=Xs(E,oe,C)}return u[u.length-1]=pe,u}},{key:"getData",value:function(){var o=Qs(Oo(i.prototype),"getData",this).call(this),u=this.pointsList.map(function(l){return{x:l.x,y:l.y}});return Object.assign({},o,{pointsList:u})}},{key:"initPoints",value:function(){this.pointsList.length>0?this.points=this.pointsList.map(function(o){return"".concat(o.x,",").concat(o.y)}).join(" "):this.updatePoints()}},{key:"updatePoints",value:function(){var o=sl({x:this.startPoint.x,y:this.startPoint.y},{x:this.endPoint.x,y:this.endPoint.y},this.sourceNode,this.targetNode,this.offset||0);this.pointsList=o,this.points=o.map(function(u){return"".concat(u.x,",").concat(u.y)}).join(" ")}},{key:"updateStartPoint",value:function(o){this.startPoint=o,this.updatePoints()}},{key:"updateEndPoint",value:function(o){this.endPoint=o,this.updatePoints()}},{key:"dragAppendStart",value:function(){this.draginngPointList=this.pointsList.map(function(o){return o})}},{key:"dragAppendSimple",value:function(o,u){var l=o.start,d=o.end,b=o.startIndex,E=o.endIndex,A=o.direction,C=this.pointsList,B=C;return A===Tt.HORIZONTAL?(C[b]={x:l.x,y:l.y+u.y},C[E]={x:d.x,y:d.y+u.y},B=this.pointsList.map(function(W){return W})):A===Tt.VERTICAL&&(C[b]={x:l.x+u.x,y:l.y},C[E]={x:d.x+u.x,y:d.y},B=this.pointsList.map(function(W){return W})),this.updatePointsAfterDrage(B),this.draginngPointList=B,this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},C[b]),end:Object.assign({},C[E]),startIndex:b,endIndex:E,direction:A}}},{key:"dragAppend",value:function(o,u){var l=o.start,d=o.end,b=o.startIndex,E=o.endIndex,A=o.direction,C=this.pointsList;if(A===Tt.HORIZONTAL){C[b]={x:l.x,y:l.y+u.y},C[E]={x:d.x,y:d.y+u.y};var B=this.pointsList.map(function(De){return De});if(b!==0&&E!==this.pointsList.length-1&&(B=this.removeCrossPoints(b,E,B)),b===0){var W={x:l.x,y:l.y+u.y};if(!ar(W,this.sourceNode)){var ee=this.sourceNode.anchors;B=this.getDragingPoints(A,"start",W,ee,B)}}if(E===this.pointsList.length-1){var ne={x:d.x,y:d.y+u.y};if(!ar(ne,this.targetNode)){var oe=this.targetNode.anchors;B=this.getDragingPoints(A,"end",ne,oe,B)}}B=Ya(B),this.updatePointsAfterDrage(B),this.draginngPointList=B}else if(A===Tt.VERTICAL){C[b]={x:l.x+u.x,y:l.y},C[E]={x:d.x+u.x,y:d.y};var pe=this.pointsList.map(function(De){return De});if(b!==0&&E!==this.pointsList.length-1&&(pe=this.removeCrossPoints(b,E,pe)),b===0){var le={x:l.x+u.x,y:l.y};if(!ar(le,this.sourceNode)){var Se=this.sourceNode.anchors;pe=this.getDragingPoints(A,"start",le,Se,pe)}}if(E===this.pointsList.length-1){var he={x:d.x+u.x,y:d.y};if(!ar(he,this.targetNode)){var Re=this.targetNode.anchors;pe=this.getDragingPoints(A,"end",he,Re,pe)}}pe=Ya(pe),this.updatePointsAfterDrage(pe),this.draginngPointList=pe}return this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},C[b]),end:Object.assign({},C[E]),startIndex:b,endIndex:E,direction:A}}},{key:"dragAppendEnd",value:function(){if(this.draginngPointList){var o=Xr(this.points);this.pointsList=o.map(function(d){return d}),this.draginngPointList=[];var u=o[0];this.startPoint=Object.assign({},u);var l=o[o.length-1];this.endPoint=Object.assign({},l)}}},{key:"updatePointsAfterDrage",value:function(o){var u=this.updateCrossPoints(o);this.points=u.map(function(l){return"".concat(l.x,",").concat(l.y)}).join(" ")}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var o=this.pointsList;return o[o.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(o){var u=o.startPoint,l=o.endPoint,d=o.sourceNode,b=o.targetNode,E=sl({x:u.x,y:u.y},{x:l.x,y:l.y},d,b,this.offset||0);this.pointsList=E,this.initPoints()}}])&&kg(e.prototype,n),i}(La)).prototype,"dbClickPosition",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),hn(ut.prototype,"initPoints",[s.k],Object.getOwnPropertyDescriptor(ut.prototype,"initPoints"),ut.prototype),hn(ut.prototype,"updatePoints",[s.k],Object.getOwnPropertyDescriptor(ut.prototype,"updatePoints"),ut.prototype),hn(ut.prototype,"updateStartPoint",[s.k],Object.getOwnPropertyDescriptor(ut.prototype,"updateStartPoint"),ut.prototype),hn(ut.prototype,"updateEndPoint",[s.k],Object.getOwnPropertyDescriptor(ut.prototype,"updateEndPoint"),ut.prototype),hn(ut.prototype,"dragAppendStart",[s.k],Object.getOwnPropertyDescriptor(ut.prototype,"dragAppendStart"),ut.prototype),hn(ut.prototype,"dragAppendSimple",[s.k],Object.getOwnPropertyDescriptor(ut.prototype,"dragAppendSimple"),ut.prototype),hn(ut.prototype,"dragAppend",[s.k],Object.getOwnPropertyDescriptor(ut.prototype,"dragAppend"),ut.prototype),hn(ut.prototype,"dragAppendEnd",[s.k],Object.getOwnPropertyDescriptor(ut.prototype,"dragAppendEnd"),ut.prototype),hn(ut.prototype,"updatePointsAfterDrage",[s.k],Object.getOwnPropertyDescriptor(ut.prototype,"updatePointsAfterDrage"),ut.prototype),hn(ut.prototype,"getAdjustStart",[s.k],Object.getOwnPropertyDescriptor(ut.prototype,"getAdjustStart"),ut.prototype),hn(ut.prototype,"getAdjustEnd",[s.k],Object.getOwnPropertyDescriptor(ut.prototype,"getAdjustEnd"),ut.prototype),hn(ut.prototype,"updateAfterAdjustStartAndEnd",[s.k],Object.getOwnPropertyDescriptor(ut.prototype,"updateAfterAdjustStartAndEnd"),ut.prototype),ut),wo=function(t){var e=t.start,n=t.end,r=t.offset,i=t.verticalLength,o=t.type,u={leftX:0,leftY:0,rightX:0,rightY:0},l=Math.atan((n.y-e.y)/(n.x-e.x)),d=Math.atan(r/i),b=Math.sqrt(i*i+r*r);return o==="start"?n.x>=e.x?(u.leftX=e.x+b*Math.sin(l+d),u.leftY=e.y-b*Math.cos(l+d),u.rightX=e.x-b*Math.sin(l-d),u.rightY=e.y+b*Math.cos(l-d)):(u.leftX=e.x-b*Math.sin(l+d),u.leftY=e.y+b*Math.cos(l+d),u.rightX=e.x+b*Math.sin(l-d),u.rightY=e.y-b*Math.cos(l-d)):o==="end"&&(n.x>=e.x?(u.leftX=n.x+b*Math.sin(l-d),u.leftY=n.y-b*Math.cos(l-d),u.rightX=n.x-b*Math.sin(l+d),u.rightY=n.y+b*Math.cos(l+d)):(u.leftX=n.x-b*Math.sin(l-d),u.leftY=n.y+b*Math.cos(l-d),u.rightX=n.x+b*Math.sin(l+d),u.rightY=n.y-b*Math.cos(l+d))),u};function nl(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ki(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nl(Object(n),!0).forEach(function(r){Ng(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nl(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ng(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cg(t){return function(e){if(Array.isArray(e))return Xa(e)}(t)||function(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||ol(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function rl(t){return(rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Ua(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,b=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(E){b=!0,u=E}finally{try{d||i.return==null||i.return()}finally{if(b)throw u}}return l}}(t,e)||ol(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ol(t,e){if(t){if(typeof t=="string")return Xa(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xa(t,e):void 0}}function Xa(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Ga=function(t){var e=[],n={};return t.forEach(function(r){var i="".concat(r.x,"-").concat(r.y);r.id=i,n[i]=r}),Object.keys(n).forEach(function(r){e.push(n[r])}),e},Ti=function(t,e){return t.width===0&&t.height===0?t:{centerX:t.centerX,centerY:t.centerY,minX:t.minX-e,minY:t.minY-e,maxX:t.maxX+e,maxY:t.maxY+e,height:t.height+2*e,width:t.width+2*e}},Di=function(t,e){return function(n,r){var i=Math.abs(n.x-r.centerX),o=Math.abs(n.y-r.centerY);return i/r.width>o/r.height?Tt.HORIZONTAL:Tt.VERTICAL}(e,t)===Tt.HORIZONTAL?{x:e.x>t.centerX?t.maxX:t.minX,y:e.y}:{x:e.x,y:e.y>t.centerY?t.maxY:t.minY}},il=function(t,e){var n=Math.min(t.minX,e.minX),r=Math.min(t.minY,e.minY),i=Math.max(t.maxX,e.maxX),o=Math.max(t.maxY,e.maxY);return{centerX:(n+i)/2,centerY:(r+o)/2,minX:n,minY:r,maxX:i,maxY:o,height:o-r,width:i-n}},xo=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,n=[],r=[];t.forEach(function(E){n.push(E.x),r.push(E.y)});var i=Math.min.apply(Math,n),o=Math.max.apply(Math,n),u=Math.min.apply(Math,r),l=Math.max.apply(Math,r),d=o-i,b=l-u;return e&&(d+=e,b+=e),{centerX:(i+o)/2,centerY:(u+l)/2,maxX:o,maxY:l,minX:i,minY:u,x:(i+o)/2,y:(u+l)/2,height:b,width:d}},Mi=function(t){var e=t.minX,n=t.minY,r=t.maxX,i=t.maxY;return[{x:e,y:n},{x:r,y:n},{x:r,y:i},{x:e,y:i}]},Ni=function(t,e){var n=t.x,r=t.y;return n<e.minX||n>e.maxX||r<e.minY||r>e.maxY},Ha=function(t,e){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)},al=function(t,e,n,r,i){return Ha(t,e)+Ha(t,n)+function(o,u){var l=0;return u.forEach(function(d){d&&(o.x===d.x&&(l+=-2),o.y===d.y&&(l+=-2))}),l}(t,[e,n,r,i])},Eo=function(t,e,n,r){var i=e.x-t.x,o=e.y-t.y,u=r.x-n.x,l=r.y-n.y,d=(-o*(t.x-n.x)+i*(t.y-n.y))/(-u*o+i*l),b=(u*(t.y-n.y)-l*(t.x-n.x))/(-u*o+i*l);return d>=0&&d<=1&&b>=0&&b<=1},ul=function(t,e,n){if(n.width===0&&n.height===0)return!1;var r=Ua(Mi(n),4),i=r[0],o=r[1],u=r[2],l=r[3];return Eo(t,e,i,o)||Eo(t,e,i,l)||Eo(t,e,o,u)||Eo(t,e,u,l)},Rg=function(t,e,n,r,i,o,u){var l=[],d=[e],b={},E={},A={};E[e.id]=0,A[e.id]=al(e,n,e);var C={};t.forEach(function(ee){C[ee.id]=ee});for(var B=function(){var ee,ne,oe,pe=void 0,le=1/0;if(d.forEach(function(he){A[he.id]<le&&(le=A[he.id],pe=he)}),pe===n){var Se=[];return function he(Re,De,Xe,dt,jt){jt||(jt=0),Re.unshift(De[dt]),Xe[dt]&&Xe[dt]!==dt&&jt<=100&&he(Re,De,Xe,Xe[dt],jt+1)}(Se,C,b,n.id),{v:Se}}ne=pe,(oe=(ee=d).indexOf(ne))>-1&&ee.splice(oe,1),l.push(pe),function(he,Re,De,Xe){var dt=[];return he.forEach(function(jt){jt!==Re&&(jt.x!==Re.x&&jt.y!==Re.y||ul(jt,Re,De)||ul(jt,Re,Xe)||dt.push(jt))}),Ga(dt)}(t,pe,r,i).forEach(function(he){if(l.indexOf(he)===-1){d.indexOf(he)===-1&&d.push(he);var Re=A[pe.id]+Ha(pe,he);E[he.id]&&Re>=E[he.id]||(b[he.id]=pe.id,E[he.id]=Re,A[he.id]=E[he.id]+al(he,n,e,o,u))}})};d.length;){var W=B();if(rl(W)==="object")return W.v}return[e,n]},cl=function(t){return dn(t)},Ya=function(t){for(var e=t,n=1;n<e.length-1;){var r=e[n-1],i=e[n],o=e[n+1];r.x===i.x&&i.x===o.x||r.y===i.y&&i.y===o.y?e.splice(n,1):n++}return e},sl=function(t,e,n,r,i){var o,u,l=cl(n),d=cl(r),b=Ti(l,i),E=Ti(d,i),A=Di(b,t),C=Di(E,e);if(o=b,u=E,2*Math.abs(o.centerX-u.centerX)<o.width+u.width&&2*Math.abs(o.centerY-u.centerY)<o.height+u.height){var B=Lg(t,e,A,C);return[t,A].concat(Cg(B),[C,e])}var W=xo([A,C]),ee=il(b,W),ne=il(E,W),oe=[];oe=(oe=oe.concat(Mi(ee))).concat(Mi(ne));var pe={x:(t.x+e.x)/2,y:(t.y+e.y)/2};[W,ee,ne].forEach(function(Se){oe=oe.concat(function(he,Re){return function(De,Xe){return Xe<De.minX||Xe>De.maxX?[]:[{x:Xe,y:De.minY},{x:Xe,y:De.maxY}]}(he,Re.x).concat(function(De,Xe){return Xe<De.minY||Xe>De.maxY?[]:[{x:De.minX,y:Xe},{x:De.maxX,y:Xe}]}(he,Re.y))}(Se,pe).filter(function(he){return Ni(he,b)&&Ni(he,E)}))}),[{x:A.x,y:C.y},{x:C.x,y:A.y}].forEach(function(Se){Ni(Se,b)&&Ni(Se,E)&&oe.push(Se)}),oe.unshift(A),oe.push(C),oe=Ga(oe);var le=Rg(oe,A,C,l,d,t,e);return le.unshift(t),le.push(e),le.length>2&&(le=Ya(le)),Ga(le)},Ig=function(t){var e;if(t.length===1)e=[t[0],t[0]];else if(t.length>=2){for(var n=t[0],r=t[1],i=Bn(n.x,n.y,r.x,r.y),o=1;o<t.length-1;o++){var u=t[o],l=t[o+1],d=Bn(u.x,u.y,l.x,l.y);d>i&&(i=d,n=u,r=l)}e=[n,r]}return e},ll=function(t,e,n){var r=ar(t,n),i=ar(e,n);return r&&i},fl=function(t,e,n){var r=ar(t,n),i=ar(e,n);return!(r&&i)&&(r||i)},pl=function(t,e,n){for(var r,i,o=dn(n),u=Mi(o),l=0;l<u.length;l++)Eo(t,e,u[l],u[(l+1)%u.length])&&(i=[u[l],u[(l+1)%u.length]]);return i&&(r=function(d,b,E,A){var C=(b.y-d.y)*(A.x-E.x)-(d.x-b.x)*(E.y-A.y);if(C===0)return!1;var B=((b.x-d.x)*(A.x-E.x)*(E.y-d.y)+(b.y-d.y)*(A.x-E.x)*d.x-(A.y-E.y)*(b.x-d.x)*E.x)/C,W=-((b.y-d.y)*(A.y-E.y)*(E.x-d.x)+(b.x-d.x)*(A.y-E.y)*d.y-(A.x-E.x)*(b.y-d.y)*E.y)/C;return(B-d.x)*(B-b.x)<=0&&(W-d.y)*(W-b.y)<=0&&(B-E.x)*(B-A.x)<=0&&(W-E.y)*(W-A.y)<=0&&{x:B,y:W}}(t,e,i[0],i[1])),r},Ci=function(t,e){var n;return t.x===e.x?n=Tt.VERTICAL:t.y===e.y&&(n=Tt.HORIZONTAL),n},Xr=function(t){var e=t.split(" "),n=[];return e&&e.forEach(function(r){var i=Ua(r.split(","),2),o=i[0],u=i[1];n.push({x:Number(o),y:Number(u)})}),n},Lg=function(t,e,n,r){var i=[];if(Ci(t,n)===Ci(e,r))t.y===n.y?(i.push({x:n.x,y:(n.y+r.y)/2}),i.push({x:r.x,y:(n.y+r.y)/2})):(i.push({x:(n.x+r.x)/2,y:n.y}),i.push({x:(n.x+r.x)/2,y:r.y}));else{var o={x:n.x,y:r.y},u=_o(o,t,n),l=_o(o,e,r);if(u||l)o={x:r.x,y:n.y};else{var d=dl(o,t,n),b=dl(o,e,r);d&&b&&(o={x:r.x,y:n.y})}i.push(o)}return i},dl=function(t,e,n){return t.x===e.x&&t.x===n.x||t.y===e.y&&t.y===n.y},Va=function(t){if(!t)return 0;for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);t.match(/[A-Z]/)?e+=1.5:e+=r>=1&&r<=126||r>=65376&&r<=65439?1:2}return e},hl=function(t){var e=t.start,n=t.end,r=t.sourceNode,i=t.targetNode,o=t.offset,u=dn(r),l=dn(i),d=Ti(u,o),b=Ti(l,o);return{sNext:Di(d,e),ePre:Di(b,n)}},Ri=function(t){var e=t.replace(/M/g,"").replace(/C/g,",").split(",");return[Ii(e[0]),Ii(e[1]),Ii(e[2]),Ii(e[3])]},Ii=function(t){var e=Ua(t.replace(/(^\s*)/g,"").split(" "),2);return{x:+e[0],y:+e[1]}},yl=function(t,e){for(var n,r=t.x,i=t.y,o=Xr(e),u=Number.MAX_SAFE_INTEGER,l=[],d=0;d<o.length;d++)l.push({start:o[d],end:o[(d+1)%o.length]});if(l.forEach(function(C){var B=C.start,W=C.end;if(B.x===W.x){var ee={x:B.x,y:i};if(_o(ee,B,W)){var ne=Math.abs(B.x-r);ne<u&&(u=ne,n=ee)}}else if(B.y===W.y){var oe={x:r,y:B.y};if(_o(oe,B,W)){var pe=Math.abs(B.y-i);pe<u&&(u=pe,n=oe)}}}),!n){var b=l[0],E=b.start,A=b.end;n={x:E.x+(A.x-E.x)/2,y:E.y+(A.y-E.y)/2}}return n},zg=function(t){return Ln(t,["id","type","sourceNodeId","sourceAnchorId","targetNodeId","targetAnchorId","pointsList","startPoint","endPoint","properties"])},vl=function(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},Gr=function(){};function Bg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var ur=window.document;function jo(t){var e=t.onDragStart,n=e===void 0?Gr:e,r=t.onDraging,i=r===void 0?Gr:r,o=t.onDragEnd,u=o===void 0?Gr:o,l=t.step,d=l===void 0?1:l,b=t.isStopPropagation,E=b===void 0||b,A=!1,C=!1,B=0,W=0,ee=0,ne=0;function oe(le){if(E&&le.stopPropagation(),C&&(A=!0,ee+=le.clientX-B,ne+=le.clientY-W,B=le.clientX,W=le.clientY,Math.abs(ee)>d||Math.abs(ne)>d)){var Se=ee%d,he=ne%d,Re=ee-Se,De=ne-he;ee=Se,ne=he,i({deltaX:Re,deltaY:De,event:le})}}function pe(le){if(E&&le.stopPropagation(),C=!1,ur.removeEventListener("mousemove",oe,!1),ur.removeEventListener("mouseup",pe,!1),A)return A=!1,u({event:le})}return function(le){if(le.button===0)return E&&le.stopPropagation(),C=!0,B=le.clientX,W=le.clientY,ur.addEventListener("mousemove",oe,!1),ur.addEventListener("mouseup",pe,!1),n({event:le})}}var se,gl,bl,ml,_l,Ol,wl,xl,El,jl,Sl,Pl,Al,kl,Tl,Dl,Ml,Nl,So=function(){function t(r){var i=this,o=r.onDragStart,u=o===void 0?Gr:o,l=r.onDraging,d=l===void 0?Gr:l,b=r.onDragEnd,E=b===void 0?Gr:b,A=r.eventType,C=A===void 0?"":A,B=r.eventCenter,W=B===void 0?null:B,ee=r.step,ne=ee===void 0?1:ee,oe=r.isStopPropagation,pe=oe===void 0||oe,le=r.model,Se=le===void 0?null:le;(function(he,Re){if(!(he instanceof Re))throw new TypeError("Cannot call a class as a function")})(this,t),this.onDragStart=void 0,this.onDraging=void 0,this.onDragEnd=void 0,this.step=void 0,this.isStopPropagation=void 0,this.isDraging=!1,this.isStartDraging=!1,this.startX=0,this.startY=0,this.sumDeltaX=0,this.sumDeltaY=0,this.eventType=void 0,this.eventCenter=void 0,this.model=void 0,this.startTime=void 0,this.isGrag=void 0,this.handleMouseDown=function(he){var Re,De,Xe;if(he.button===0){i.isStopPropagation&&he.stopPropagation(),i.isStartDraging=!0,i.startX=he.clientX,i.startY=he.clientY,ur.addEventListener("mousemove",i.handleMouseMove,!1),ur.addEventListener("mouseup",i.handleMouseUp,!1),i.onDragStart({event:he});var dt=(Re=i.model)===null||Re===void 0?void 0:Re.getData();(De=i.eventCenter)===null||De===void 0||De.emit(ot["".concat(i.eventType,"_MOUSEDOWN")],{e:he,data:dt}),(Xe=i.eventCenter)===null||Xe===void 0||Xe.emit(ot["".concat(i.eventType,"_DRAGSTART")],{e:he,data:dt}),i.startTime=new Date().getTime()}},this.handleMouseMove=function(he){if(i.isStopPropagation&&he.stopPropagation(),i.isStartDraging&&(i.isDraging=!0,i.sumDeltaX+=he.clientX-i.startX,i.sumDeltaY+=he.clientY-i.startY,i.startX=he.clientX,i.startY=he.clientY,Math.abs(i.sumDeltaX)>i.step||Math.abs(i.sumDeltaY)>i.step)){var Re,De,Xe,dt=i.sumDeltaX%i.step,jt=i.sumDeltaY%i.step,nn=i.sumDeltaX-dt,An=i.sumDeltaY-jt;i.sumDeltaX=dt,i.sumDeltaY=jt,i.onDraging({deltaX:nn,deltaY:An,event:he});var yn=(Re=i.model)===null||Re===void 0?void 0:Re.getData();(De=i.eventCenter)===null||De===void 0||De.emit(ot["".concat(i.eventType,"_MOUSEMOVE")],{e:he,data:yn}),(Xe=i.eventCenter)===null||Xe===void 0||Xe.emit(ot["".concat(i.eventType,"_DRAG")],{e:he,data:yn})}},this.handleMouseUp=function(he){var Re,De,Xe;if(i.isStartDraging=!1,i.isStopPropagation&&he.stopPropagation(),ur.removeEventListener("mousemove",i.handleMouseMove,!1),ur.removeEventListener("mouseup",i.handleMouseUp,!1),i.isDraging){i.isDraging=!1,i.onDragEnd({event:he});var dt=(Re=i.model)===null||Re===void 0?void 0:Re.getData();(De=i.eventCenter)===null||De===void 0||De.emit(ot["".concat(i.eventType,"_MOUSEUP")],{e:he,data:dt}),(Xe=i.eventCenter)===null||Xe===void 0||Xe.emit(ot["".concat(i.eventType,"_DROP")],{e:he,data:dt})}},this.onDragStart=u,this.onDraging=d,this.onDragEnd=E,this.step=ne,this.isStopPropagation=pe,this.eventType=C,this.eventCenter=W,this.model=Se}var e,n;return e=t,(n=[{key:"setStep",value:function(r){this.step=r}}])&&Bg(e.prototype,n),t}();function Cl(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Cl(Object(n),!0).forEach(function(r){Fg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Cl(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fg(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rl(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,b=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(E){b=!0,u=E}finally{try{d||i.return==null||i.return()}finally{if(b)throw u}}return l}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Il(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Il(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Il(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Wt(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Ug(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ve(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(t,e,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var Ll,zl=(gl=Ve((se=function(){function t(r){(function(W,ee){if(!(W instanceof ee))throw new TypeError("Cannot call a class as a function")})(this,t),this.BaseType=Bt.GRAPH,this.modelType=at.GRAPH,this.rootEl=void 0,this.theme=void 0,this.eventCenter=void 0,this.modelMap=new Map,this.width=void 0,this.height=void 0,this.topElement=void 0,this.selectElement=void 0,this.idGenerator=void 0,this.nodeMoveRules=[],Wt(this,"edgeType",gl,this),Wt(this,"nodes",bl,this),Wt(this,"activeElement",ml,this),Wt(this,"activeElementState",_l,this),Wt(this,"state",Ol,this),Wt(this,"additionStateData",wl,this),Wt(this,"edges",xl,this),Wt(this,"isSlient",El,this),Wt(this,"overlapMode",jl,this),Wt(this,"plugins",Sl,this),Wt(this,"tools",Pl,this),Wt(this,"background",Al,this),Wt(this,"transformMatrix",kl,this),Wt(this,"editConfig",Tl,this),Wt(this,"gridSize",Dl,this),Wt(this,"partial",Ml,this),Wt(this,"fakerNode",Nl,this);var i=r.container,o=r.background,u=o===void 0?{}:o,l=r.grid,d=(l=l===void 0?{}:l).size,b=d===void 0?1:d,E=r.isSilentMode,A=E!==void 0&&E,C=r.eventCenter,B=r.idGenerator;this.background=u,this.isSlient=A,this.gridSize=b,this.rootEl=i,this.editConfig=new Gc(r),this.eventCenter=C,this.transformMatrix=new Av(C),this.theme=ss(r.style),this.edgeType=r.edgeType||"polyline",this.width=r.width,this.height=r.height,this.partial=r.partial,this.overlapMode=r.overlapMode||0,this.idGenerator=B}var e,n;return e=t,(n=[{key:"nodesMap",get:function(){return this.nodes.reduce(function(r,i,o){return r[i.id]={index:o,model:i},r},{})}},{key:"edgesMap",get:function(){return this.edges.reduce(function(r,i,o){return r[i.id]={index:o,model:i},r},{})}},{key:"sortElements",get:function(){var r=[];this.nodes.forEach(function(A){return r.push(A)}),this.edges.forEach(function(A){return r.push(A)}),r=r.sort(function(A,C){return A.zIndex-C.zIndex});for(var i=[],o=-1,u=[-200,-200],l=[this.width+200,this.height+200],d=0;d<r.length;d++){var b=r[d];this.partial&&!this.isElementInArea(b,u,l,!1)||(b.zIndex===9999&&(o=i.length),i.push(b))}if(o!==-1){var E=i[i.length-1];i[i.length-1]=i[o],i[o]=E}return i}},{key:"textEditElement",get:function(){var r=this.nodes.find(function(o){return o.state===Et.TEXT_EDIT}),i=this.edges.find(function(o){return o.state===Et.TEXT_EDIT});return r||i}},{key:"selectElements",get:function(){var r=new Map;return this.nodes.forEach(function(i){i.isSelected&&r.set(i.id,i)}),this.edges.forEach(function(i){i.isSelected&&r.set(i.id,i)}),r}},{key:"getAreaElement",value:function(r,i){var o=[],u=[];this.nodes.forEach(function(b){return u.push(b)}),this.edges.forEach(function(b){return u.push(b)});for(var l=0;l<u.length;l++){var d=u[l];this.isElementInArea(d,r,i)&&o.push(d)}return o}},{key:"getModel",value:function(r){return this.modelMap.get(r)}},{key:"getNodeModel",value:function(r){var i;return this.fakerNode&&r===this.fakerNode.id?this.fakerNode:(i=this.nodesMap[r])===null||i===void 0?void 0:i.model}},{key:"getPointByClient",value:function(r){var i=r.x,o=r.y,u=this.rootEl.getBoundingClientRect(),l={x:i-u.left,y:o-u.top},d=Rl(this.transformMatrix.HtmlPointToCanvasPoint([l.x,l.y]),2);return{domOverlayPosition:l,canvasOverlayPosition:{x:d[0],y:d[1]}}}},{key:"isElementInArea",value:function(r,i,o){var u=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3];if(r.BaseType===Bt.NODE){for(var l=dn(r=r),d=l.minX,b=l.minY,E=l.maxX,A=l.maxY,C=[{x:d,y:b},{x:E,y:b},{x:E,y:A},{x:d,y:A}],B=!0,W=0;W<C.length;W++){var ee=C[W],ne=ee.x,oe=ee.y,pe=this.transformMatrix.CanvasPointToHtmlPoint([ne,oe]),le=Rl(pe,2);if(ne=le[0],oe=le[1],!Ta([ne,oe],i,o)){B=!1;break}}return B}if(r.BaseType===Bt.EDGE){var Se=r=r,he=Se.startPoint,Re=Se.endPoint,De=this.transformMatrix.CanvasPointToHtmlPoint([he.x,he.y]),Xe=this.transformMatrix.CanvasPointToHtmlPoint([Re.x,Re.y]),dt=Ta(De,i,o),jt=Ta(Xe,i,o);return u?dt&&jt:dt||jt}return!1}},{key:"graphDataToModel",value:function(r){var i=this;this.nodes=wi(r.nodes,function(o){var u=i.getModel(o.type);if(!u)throw new Error("\u627E\u4E0D\u5230".concat(o.type,"\u5BF9\u5E94\u7684\u8282\u70B9\u3002"));var l=o.x,d=o.y;return l&&d&&(o.x=Si(l,i.gridSize),o.y=Si(d,i.gridSize),Object.prototype.toString.call(o.text)==="[object Object]"&&(o.text.x-=ls(l,i.gridSize),o.text.y-=ls(d,i.gridSize))),new u(o,i)}),this.edges=wi(r.edges,function(o){var u=i.getModel(o.type);if(!u)throw new Error("\u627E\u4E0D\u5230".concat(o.type,"\u5BF9\u5E94\u7684\u8FB9\u3002"));return new u(o,i)})}},{key:"modelToGraphData",value:function(){var r=this.edges.map(function(i){return i.getData()});return{nodes:this.nodes.map(function(i){return i.getData()}),edges:r}}},{key:"getEdgeModel",value:function(r){var i;return(i=this.edgesMap[r])===null||i===void 0?void 0:i.model}},{key:"getElement",value:function(r){var i=this.getNodeModel(r);return i||this.getEdgeModel(r)}},{key:"getNodeEdges",value:function(r){for(var i=[],o=0;o<this.edges.length;o++){var u=this.edges[o],l=this.edges[o].sourceNodeId===r,d=this.edges[o].targetNodeId===r;(l||d)&&i.push(u)}return i}},{key:"getSelectElements",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],i=this.selectElements,o={nodes:[],edges:[]};return i.forEach(function(u){if(u.BaseType===Bt.NODE&&o.nodes.push(u.getData()),u.BaseType===Bt.EDGE){var l=u.getData(),d=i.get(l.sourceNodeId)&&i.get(l.targetNodeId);(r||d)&&o.edges.push(l)}}),o}},{key:"updateAttributes",value:function(r,i){this.getElement(r).updateAttributes(i)}},{key:"changeNodeId",value:function(r,i){return i||(i=Ur()),this.nodesMap[i]?(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u5DF2\u5B58\u5728\u8282\u70B9".concat(i,", \u4FEE\u6539\u5931\u8D25")),!1):this.nodesMap[r]?(this.edges.forEach(function(o){o.sourceNodeId===r&&(o.sourceNodeId=i),o.targetNodeId===r&&(o.targetNodeId=i)}),this.nodesMap[r].model.id=i,i):(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u627E\u4E0D\u5230\u8282\u70B9".concat(i,", \u4FEE\u6539\u5931\u8D25")),!1)}},{key:"changeEdgeId",value:function(r,i){return i||(i=Ur()),this.edgesMap[i]?(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u5DF2\u5B58\u5728\u8FDE\u7EBF: ".concat(i,", \u4FEE\u6539\u5931\u8D25")),!1):this.edgesMap[r]?(this.edges.forEach(function(o){o.id===r&&(o.id=i)}),i):(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u627E\u4E0D\u5230\u8FDE\u7EBF: ".concat(i,", \u4FEE\u6539\u5931\u8D25")),!1)}},{key:"setFakerNode",value:function(r){this.fakerNode=r}},{key:"removeFakerNode",value:function(){this.fakerNode=null}},{key:"setModel",value:function(r,i){return this.modelMap.set(r,i)}},{key:"updateEdgeByIndex",value:function(r,i){this.edges[r]=Hr(Hr({},this.edges[r]),i)}},{key:"toFront",value:function(r){var i,o,u,l=((i=this.nodesMap[r])===null||i===void 0?void 0:i.model)||((o=this.edgesMap[r])===null||o===void 0?void 0:o.model);l&&((u=this.topElement)===null||u===void 0||u.setZIndex(),this.topElement=l,l.setZIndex(9999))}},{key:"setElementZIndex",value:function(r,i){var o,u,l,d=((o=this.nodesMap[r])===null||o===void 0?void 0:o.model)||((u=this.edgesMap[r])===null||u===void 0?void 0:u.model);d&&(typeof i=="number"&&(l=i),i==="top"&&(l=Ra()),i==="bottom"&&(l=--wg),d.setZIndex(l))}},{key:"deleteNode",value:function(r){var i=this.nodesMap[r].model.getData();this.removeEdgeBySource(r),this.removeEdgeByTarget(r),this.nodes.splice(this.nodesMap[r].index,1),this.eventCenter.emit(ot.NODE_DELETE,{data:i})}},{key:"addNode",value:function(r){var i=mn(r);i.id&&this.nodesMap[r.id]&&delete i.id;var o=this.getModel(i.type);if(!o)throw new Error("\u627E\u4E0D\u5230".concat(i.type,"\u5BF9\u5E94\u7684\u8282\u70B9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8282\u70B9\u3002"));var u=new o(i,this);this.nodes.push(u);var l=u.getData();return this.eventCenter.emit(ot.NODE_ADD,{data:l}),u}},{key:"cloneNode",value:function(r){var i=this.getNodeModel(r),o=i.getData();o.x+=30,o.y+=30,delete o.id,o.text&&(o.text.x+=30,o.text.y+=30);var u=this.addNode(o);return u.setSelected(!0),i.setSelected(!1),u.getData()}},{key:"moveNode",value:function(r,i,o){var u=arguments.length>3&&arguments[3]!==void 0&&arguments[3],l=this.nodesMap[r];if(l){var d=l.model;d.move(i,o,u),this.moveEdge(r,i,o)}else console.warn("\u4E0D\u5B58\u5728id\u4E3A".concat(r,"\u7684\u8282\u70B9"))}},{key:"moveNode2Coordinate",value:function(r,i,o){var u=this.nodesMap[r];if(u){var l=u.model,d=i-l.x,b=o-l.y;this.moveNode(r,d,b)}else console.warn("\u4E0D\u5B58\u5728id\u4E3A".concat(r,"\u7684\u8282\u70B9"))}},{key:"setTextEditable",value:function(r){this.setElementStateById(r,Et.TEXT_EDIT)}},{key:"createEdge",value:function(r){var i=mn(r),o=i.type;o||(o=this.edgeType),i.id&&this.edgesMap[i.id]&&delete i.id;var u=this.getModel(o);if(!u)throw new Error("\u627E\u4E0D\u5230".concat(o,"\u5BF9\u5E94\u7684\u8FDE\u7EBF\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8FDE\u7EBF\u3002"));var l=new u(Hr(Hr({},i),{},{type:o}),this),d=l.getData();return this.edges.push(l),this.eventCenter.emit(ot.EDGE_ADD,{data:d}),l}},{key:"moveEdge",value:function(r,i,o){for(var u=0;u<this.edges.length;u++){var l,d=this.edges[u],b=d.textPosition,E=b.x,A=b.y,C=this.edges[u].sourceNodeId===r,B=this.edges[u].targetNodeId===r;if(C&&d.updateStartPoint({x:d.startPoint.x+i,y:d.startPoint.y+o}),B&&d.updateEndPoint({x:d.endPoint.x+i,y:d.endPoint.y+o}),C||B)if(d.customTextPosition===!0)d.resetTextPosition();else if(d.modelType===at.POLYLINE_EDGE&&(l=d.text)!==null&&l!==void 0&&l.value){var W=d.text,ee=yl(W,d.points);d.moveText(ee.x-W.x,ee.y-W.y)}else{var ne=d.textPosition,oe=ne.x,pe=ne.y;d.moveText(oe-E,pe-A)}}}},{key:"removeEdge",value:function(r,i){for(var o=0;o<this.edges.length;o++)if(this.edges[o].sourceNodeId===r&&this.edges[o].targetNodeId===i){var u=this.edges[o].getData();this.edges.splice(o,1),o--,this.eventCenter.emit(ot.EDGE_DELETE,{data:u})}}},{key:"removeEdgeById",value:function(r){var i=this.edgesMap[r].index;if(this.edgesMap[r]){var o=this.edgesMap[r].model.getData();this.edges.splice(i,1),this.eventCenter.emit(ot.EDGE_DELETE,{data:o})}}},{key:"removeEdgeBySource",value:function(r){for(var i=0;i<this.edges.length;i++)if(this.edges[i].sourceNodeId===r){var o=this.edges[i].getData();this.edges.splice(i,1),i--,this.eventCenter.emit(ot.EDGE_DELETE,{data:o})}}},{key:"removeEdgeByTarget",value:function(r){for(var i=0;i<this.edges.length;i++)if(this.edges[i].targetNodeId===r){var o=this.edges[i].getData();this.edges.splice(i,1),i--,this.eventCenter.emit(ot.EDGE_DELETE,{data:o})}}},{key:"setElementState",value:function(r,i){this.state=r,this.additionStateData=i}},{key:"setElementStateById",value:function(r,i,o){this.resetElementState(),this.nodes.forEach(function(u){u.id===r?u.setElementState(i,o):u.setElementState(Et.DEFAULT)}),this.edges.forEach(function(u){u.id===r?u.setElementState(i,o):u.setElementState(Et.DEFAULT)})}},{key:"setElementTextById",value:function(r,i){this.nodes.forEach(function(o){o.id===r&&o.updateText(i)}),this.edges.forEach(function(o){o.id===r&&o.updateText(i)})}},{key:"resetElementState",value:function(){}},{key:"selectNodeById",value:function(r){var i,o,u,l=arguments.length>1&&arguments[1]!==void 0&&arguments[1];l||((u=this.selectElement)===null||u===void 0||u.setSelected(!1),this.clearSelectElements()),this.selectElement=(i=this.nodesMap[r])===null||i===void 0?void 0:i.model,(o=this.selectElement)===null||o===void 0||o.setSelected(!0)}},{key:"selectEdgeById",value:function(r){var i,o,u,l=arguments.length>1&&arguments[1]!==void 0&&arguments[1];l||((u=this.selectElement)===null||u===void 0||u.setSelected(!1),this.clearSelectElements()),this.selectElement=(i=this.edgesMap[r])===null||i===void 0?void 0:i.model,(o=this.selectElement)===null||o===void 0||o.setSelected(!0)}},{key:"selectElementById",value:function(r){var i,o,u=arguments.length>1&&arguments[1]!==void 0&&arguments[1];u||((o=this.selectElement)===null||o===void 0||o.setSelected(!1),this.clearSelectElements()),this.selectElement=this.getElement(r),(i=this.selectElement)===null||i===void 0||i.setSelected(!0)}},{key:"clearSelectElements",value:function(){var r;this.selectElements.forEach(function(i){i==null||i.setSelected(!1)}),this.selectElements.clear(),this.overlapMode!==zn.DEFAULT&&((r=this.topElement)===null||r===void 0||r.setZIndex())}},{key:"moveElements",value:function(r,i,o){var u=this;r.nodes.forEach(function(l){return u.moveNode(l.id,i,o)})}},{key:"moveNodes",value:function(r,i,o){var u=this,l=arguments.length>3&&arguments[3]!==void 0&&arguments[3];r.forEach(function(d){return u.moveNode(d,i,o,l)})}},{key:"addNodeMoveRules",value:function(r){this.nodeMoveRules.includes(r)||this.nodeMoveRules.push(r)}},{key:"changeEdgeType",value:function(r){this.edgeType=r}},{key:"changeNodeType",value:function(r,i){var o=this.getNodeModel(r);if(o){var u=o.getData();u.type=i;var l=this.getModel(i);if(!l)throw new Error("\u627E\u4E0D\u5230".concat(i,"\u5BF9\u5E94\u7684\u8282\u70B9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8282\u70B9\u3002"));var d=new l(u,this);this.nodes.splice(this.nodesMap[r].index,1,d),this.getNodeEdges(r).forEach(function(b){if(b.sourceNodeId===r){var E=Gs(d,b.startPoint,d.width,d.height);b.updateStartPoint(E)}if(b.targetNodeId===r){var A=Gs(d,b.endPoint,d.width,d.height);b.updateEndPoint(A)}})}else console.warn("\u627E\u4E0D\u5230id\u4E3A".concat(r,"\u7684\u8282\u70B9"))}},{key:"setTheme",value:function(r){this.theme=ss(Hr(Hr({},this.theme),r))}},{key:"clearData",value:function(){this.nodes=[],this.edges=[]}}])&&Ug(e.prototype,n),t}()).prototype,"edgeType",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),bl=Ve(se.prototype,"nodes",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ml=Ve(se.prototype,"activeElement",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_l=Ve(se.prototype,"activeElementState",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ol=Ve(se.prototype,"state",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wl=Ve(se.prototype,"additionStateData",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xl=Ve(se.prototype,"edges",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),El=Ve(se.prototype,"isSlient",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),jl=Ve(se.prototype,"overlapMode",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Sl=Ve(se.prototype,"plugins",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Pl=Ve(se.prototype,"tools",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Al=Ve(se.prototype,"background",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),kl=Ve(se.prototype,"transformMatrix",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Tl=Ve(se.prototype,"editConfig",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Dl=Ve(se.prototype,"gridSize",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Ml=Ve(se.prototype,"partial",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Nl=Ve(se.prototype,"fakerNode",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ve(se.prototype,"nodesMap",[s.m],Object.getOwnPropertyDescriptor(se.prototype,"nodesMap"),se.prototype),Ve(se.prototype,"edgesMap",[s.m],Object.getOwnPropertyDescriptor(se.prototype,"edgesMap"),se.prototype),Ve(se.prototype,"sortElements",[s.m],Object.getOwnPropertyDescriptor(se.prototype,"sortElements"),se.prototype),Ve(se.prototype,"textEditElement",[s.m],Object.getOwnPropertyDescriptor(se.prototype,"textEditElement"),se.prototype),Ve(se.prototype,"selectElements",[s.m],Object.getOwnPropertyDescriptor(se.prototype,"selectElements"),se.prototype),Ve(se.prototype,"setFakerNode",[s.k],Object.getOwnPropertyDescriptor(se.prototype,"setFakerNode"),se.prototype),Ve(se.prototype,"removeFakerNode",[s.k],Object.getOwnPropertyDescriptor(se.prototype,"removeFakerNode"),se.prototype),Ve(se.prototype,"setModel",[s.k],Object.getOwnPropertyDescriptor(se.prototype,"setModel"),se.prototype),Ve(se.prototype,"updateEdgeByIndex",[s.k],Object.getOwnPropertyDescriptor(se.prototype,"updateEdgeByIndex"),se.prototype),Ve(se.prototype,"toFront",[s.k],Object.getOwnPropertyDescriptor(se.prototype,"toFront"),se.prototype),Ve(se.prototype,"setElementZIndex",[s.k],Object.getOwnPropertyDescriptor(se.prototype,"setElementZIndex"),se.prototype),Ve(se.prototype,"deleteNode",[s.k],Object.getOwnPropertyDescriptor(se.prototype,"deleteNode"),se.prototype),Ve(se.prototype,"addNode",[s.k],Object.getOwnPropertyDescriptor(se.prototype,"addNode"),se.prototype),Ve(se.prototype,"cloneNode",[s.k],Object.getOwnPropertyDescriptor(se.prototype,"cloneNode"),se.prototype),Ve(se.prototype,"moveNode",[s.k],Object.getOwnPropertyDescriptor(se.prototype,"moveNode"),se.prototype),Ve(se.prototype,"moveNode2Coordinate",[s.k],Object.getOwnPropertyDescriptor(se.prototype,"moveNode2Coordinate"),se.prototype),Ve(se.prototype,"setTextEditable",[s.k],Object.getOwnPropertyDescriptor(se.prototype,"setTextEditable"),se.prototype),Ve(se.prototype,"createEdge",[s.k],Object.getOwnPropertyDescriptor(se.prototype,"createEdge"),se.prototype),Ve(se.prototype,"moveEdge",[s.k],Object.getOwnPropertyDescriptor(se.prototype,"moveEdge"),se.prototype),Ve(se.prototype,"removeEdge",[s.k],Object.getOwnPropertyDescriptor(se.prototype,"removeEdge"),se.prototype),Ve(se.prototype,"removeEdgeById",[s.k],Object.getOwnPropertyDescriptor(se.prototype,"removeEdgeById"),se.prototype),Ve(se.prototype,"removeEdgeBySource",[s.k],Object.getOwnPropertyDescriptor(se.prototype,"removeEdgeBySource"),se.prototype),Ve(se.prototype,"removeEdgeByTarget",[s.k],Object.getOwnPropertyDescriptor(se.prototype,"removeEdgeByTarget"),se.prototype),Ve(se.prototype,"setElementState",[s.k],Object.getOwnPropertyDescriptor(se.prototype,"setElementState"),se.prototype),Ve(se.prototype,"setElementStateById",[s.k],Object.getOwnPropertyDescriptor(se.prototype,"setElementStateById"),se.prototype),Ve(se.prototype,"setElementTextById",[s.k],Object.getOwnPropertyDescriptor(se.prototype,"setElementTextById"),se.prototype),Ve(se.prototype,"resetElementState",[s.k],Object.getOwnPropertyDescriptor(se.prototype,"resetElementState"),se.prototype),Ve(se.prototype,"selectNodeById",[s.k],Object.getOwnPropertyDescriptor(se.prototype,"selectNodeById"),se.prototype),Ve(se.prototype,"selectEdgeById",[s.k],Object.getOwnPropertyDescriptor(se.prototype,"selectEdgeById"),se.prototype),Ve(se.prototype,"selectElementById",[s.k],Object.getOwnPropertyDescriptor(se.prototype,"selectElementById"),se.prototype),Ve(se.prototype,"clearSelectElements",[s.k],Object.getOwnPropertyDescriptor(se.prototype,"clearSelectElements"),se.prototype),Ve(se.prototype,"moveElements",[s.k],Object.getOwnPropertyDescriptor(se.prototype,"moveElements"),se.prototype),Ve(se.prototype,"moveNodes",[s.k],Object.getOwnPropertyDescriptor(se.prototype,"moveNodes"),se.prototype),Ve(se.prototype,"changeEdgeType",[s.k],Object.getOwnPropertyDescriptor(se.prototype,"changeEdgeType"),se.prototype),Ve(se.prototype,"changeNodeType",[s.k],Object.getOwnPropertyDescriptor(se.prototype,"changeNodeType"),se.prototype),Ve(se.prototype,"setTheme",[s.k],Object.getOwnPropertyDescriptor(se.prototype,"setTheme"),se.prototype),Ve(se.prototype,"clearData",[s.k],Object.getOwnPropertyDescriptor(se.prototype,"clearData"),se.prototype),se),Xg=zl;function Bl(t){return(Bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Fl(){return(Fl=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Gg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ul(t,e){return(Ul=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Hg(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Wa(t);if(e){var i=Wa(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Yg(this,n)}}function Yg(t,e){if(e&&(Bl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Wa(t){return(Wa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var Xl,Vg=Pn(Ll=function(t){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Ul(o,u)})(i,t);var e,n,r=Hg(i);function i(o){var u;(function(b,E){if(!(b instanceof E))throw new TypeError("Cannot call a class as a function")})(this,i),(u=r.call(this)).stepDrag=void 0,u.stepScrollX=0,u.stepScrollY=0,u.onDraging=function(b){var E=b.deltaX,A=b.deltaY;u.setState({isDraging:!0});var C=u.props.graphModel,B=C.transformMatrix;C.editConfig.stopMoveGraph||B.translate(E,A)},u.onDragEnd=function(){u.setState({isDraging:!1})},u.zoomHandler=function(b){var E=u.props,A=E.graphModel,C=A.editConfig,B=A.transformMatrix,W=A.gridSize,ee=E.graphModel,ne=b.deltaX,oe=b.deltaY;if(C.stopScrollGraph||b.ctrlKey===!0){if(!C.stopZoomGraph){b.preventDefault();var pe=ee.getPointByClient({x:b.clientX,y:b.clientY}).canvasOverlayPosition,le=pe.x,Se=pe.y;B.zoom(b.deltaY<0,[le,Se])}}else{if(b.preventDefault(),u.stepScrollX+=ne,u.stepScrollY+=oe,Math.abs(u.stepScrollX)>=W){var he=u.stepScrollX%W,Re=u.stepScrollX-he;B.translate(-Re*B.SCALE_X,0),u.stepScrollX=he}if(Math.abs(u.stepScrollY)>=W){var De=u.stepScrollY%W,Xe=u.stepScrollY-De;B.translate(0,-Xe*B.SCALE_Y),u.stepScrollY=De}}},u.clickHandler=function(b){if(b.target.getAttribute("name")==="canvas-overlay"){var E=u.props,A=E.graphModel,C=E.eventCenter,B=A.textEditElement;A.selectElements.size>0&&A.clearSelectElements(),B&&B.setElementState(Et.DEFAULT),C.emit(ot.BLANK_CLICK,{e:b})}},u.handleContextMenu=function(b){if(b.target.getAttribute("name")==="canvas-overlay"){b.preventDefault();var E=u.props,A=E.graphModel,C=E.eventCenter,B=A.getPointByClient({x:b.clientX,y:b.clientY});A.setElementState(Et.SHOW_MENU,B.domOverlayPosition),C.emit(ot.BLANK_CONTEXTMENU,{e:b,position:B})}},u.mouseDownHandler=function(b){var E=u.props,A=E.eventCenter,C=E.graphModel,B=C.editConfig,W=C.transformMatrix.SCALE_X,ee=C.gridSize;B.stopMoveGraph?A.emit(ot.BLANK_MOUSEDOWN,{e:b}):(u.stepDrag.setStep(ee*W),u.stepDrag.handleMouseDown(b)),u.clickHandler(b)};var l=o.graphModel.gridSize,d=o.eventCenter;return u.stepDrag=new So({onDraging:u.onDraging,onDragEnd:u.onDragEnd,step:l,eventType:"BLANK",eventCenter:d,model:null}),u.state={isDraging:!1},u}return e=i,(n=[{key:"render",value:function(){var o=this.props.graphModel.transformMatrix.getTransformStyle().transform,u=this.props,l=u.children,d=u.dnd,b=this.state.isDraging;return Object(q.g)("svg",Fl({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",name:"canvas-overlay",onWheel:this.zoomHandler,onMouseDown:this.mouseDownHandler,onContextMenu:this.handleContextMenu,className:b?"lf-dragging":"lf-drag-able"},d.eventMap()),Object(q.g)("g",{transform:o},l))}}])&&Gg(e.prototype,n),i}(q.a))||Ll;function Gl(t){return(Gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Wg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Hl(t,e){return(Hl=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Zg(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Ka(t);if(e){var i=Ka(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return qg(this,n)}}function qg(t,e){if(e&&(Gl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Ka(t){return(Ka=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var $g=Pn(Xl=function(t){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Hl(o,u)})(i,t);var e,n,r=Zg(i);function i(){var o;Wg(this,i);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return(o=r.call.apply(r,[this].concat(l))).setToolOverlayRef=function(b){var E=o.props.tool.getInstance();E.components.forEach(function(A){return A(E,b)}),E.components=[]},o}return e=i,(n=[{key:"getTools",value:function(){var o=this.props,u=o.tool,l=o.graphModel,d=u.getTools().map(function(b){return Object(q.g)(b,{graphModel:l,logicFlow:u.instance})});return u.components=d,d}},{key:"render",value:function(){return Object(q.g)("div",{className:"lf-tool-overlay",ref:this.setToolOverlayRef},this.getTools())}}])&&Kg(e.prototype,n),i}(q.a))||Xl;a(198);function Yl(t){return(Yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Jg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Vl(t,e){return(Vl=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function eb(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Za(t);if(e){var i=Za(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return tb(this,n)}}function tb(t,e){if(e&&(Yl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Za(t){return(Za=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var Wl,nb=function(t){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Vl(o,u)})(i,t);var e,n,r=eb(i);function i(){return Jg(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getAttributes",value:function(){var o=this.props.background,u=o.image,l=u===void 0?"":u,d=o.color,b=d===void 0?"":d,E=o.repeat,A=E===void 0?"no-repeat":E,C=o.position,B=C===void 0?"center":C,W=o.size,ee=W===void 0?"auto auto":W,ne=o.opacity,oe=ne===void 0?1:ne;return b?{color:b,opacity:oe,image:"none"}:l?{image:"url(".concat(l,")"),repeat:A,position:B,size:ee,opacity:oe}:{}}},{key:"getShape",value:function(){var o=this.getAttributes(),u=o.image,l=o.color,d=o.repeat,b=o.size,E={backgroundImage:u,backgroundColor:l,backgroundRepeat:d,backgroundPosition:o.position,backgroundSize:b,opacity:o.opacity};return Object(q.g)("div",{className:"lf-background"},Object(q.g)("div",{style:E,className:"lf-background-area"}))}},{key:"render",value:function(){return this.getShape()}}])&&Qg(e.prototype,n),i}(q.a);function Kl(t){return(Kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function rb(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ob(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Zl(t,e){return(Zl=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function ib(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=qa(t);if(e){var i=qa(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ab(this,n)}}function ab(t,e){if(e&&(Kl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function qa(t){return(qa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var ql=Pn(Wl=function(t){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Zl(o,u)})(i,t);var e,n,r=ib(i);function i(){var o;rb(this,i);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return(o=r.call.apply(r,[this].concat(l))).id=Ur(),o}return e=i,(n=[{key:"renderDot",value:function(){var o=this.props,u=o.config,l=u.color,d=u.thickness,b=d===void 0?2:d,E=o.size,A=o.visible,C=Math.min(Math.max(2,b),E/2),B=1;return A||(B=0),Object(q.g)("rect",{width:C,height:C,rx:C/2,ry:C/2,fill:l,opacity:B})}},{key:"renderMesh",value:function(){var o=this.props,u=o.config,l=u.color,d=u.thickness,b=d===void 0?1:d,E=o.size,A=o.visible,C=Math.min(Math.max(1,b),E/2),B="M ".concat(E," 0 H0 M0 0 V0 ").concat(E),W=1;return A||(W=0),Object(q.g)("path",{d:B,stroke:l,strokeWidth:C,opacity:W})}},{key:"render",value:function(){var o=this.props,u=o.type,l=o.size,d=o.graphModel.transformMatrix,b=[d.SCALE_X,d.SKEW_Y,d.SKEW_X,d.SCALE_Y,d.TRANSLATE_X,d.TRANSLATE_Y].join(","),E="matrix(".concat(b,")");return Object(q.g)("div",{className:"lf-grid"},Object(q.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%"},Object(q.g)("defs",null,Object(q.g)("pattern",{id:this.id,patternUnits:"userSpaceOnUse",patternTransform:E,x:"0",y:"0",width:l,height:l,style:{transition:"all 0.1s ease"}},u==="dot"&&this.renderDot(),u==="mesh"&&this.renderMesh())),Object(q.g)("rect",{width:"100%",height:"100%",fill:"url(#".concat(this.id,")")})))}}])&&ob(e.prototype,n),i}(q.a))||Wl;ql.defaultProps={size:20,visible:!0,type:"dot",config:{color:"#ababab",thickness:1}},a(50);function $l(t){return($l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function ub(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,b=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(E){b=!0,u=E}finally{try{d||i.return==null||i.return()}finally{if(b)throw u}}return l}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Jl(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Jl(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Jl(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Ql,Yr=function(t){var e={x1:10,y1:10,x2:20,y2:20,stroke:"black"};return Object.entries(t).forEach(function(n){var r=ub(n,2),i=r[0],o=r[1];$l(o)!=="object"&&(e[i]=o)}),Object(q.g)("line",e)};function ef(t){return(ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function cb(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function tf(t,e){return(tf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function lb(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=$a(t);if(e){var i=$a(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return fb(this,n)}}function fb(t,e){if(e&&(ef(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function $a(t){return($a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var nf,pb=Pn(Ql=function(t){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&tf(o,u)})(i,t);var e,n,r=lb(i);function i(){return cb(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"render",value:function(){var o=this.props.snaplineModel,u=o.position,l=o.isShowHorizontal,d=o.isShowVertical,b=o.stroke,E=o.strokeWidth,A=u.x,C=A===void 0?0:A,B=u.y,W=B===void 0?0:B,ee={x1:-1e5,y1:W,x2:1e5,y2:W,stroke:l?b:"none",strokeWidth:E},ne={x1:C,y1:-1e5,x2:C,y2:1e5,stroke:d?b:"none",strokeWidth:E};return Object(q.g)("g",{className:"lf-snapline"},Object(q.g)(Yr,ee),Object(q.g)(Yr,ne))}}])&&sb(e.prototype,n),i}(q.a))||Ql;function rf(t){return(rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function db(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,b=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(E){b=!0,u=E}finally{try{d||i.return==null||i.return()}finally{if(b)throw u}}return l}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return of(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return of(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function of(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cr(t){var e=t.x,n=t.y,r=t.width,i=t.height,o=t.radius,u=t.className,l=e-r/2,d=n-i/2,b={width:10,height:10,cx:0,cy:0,rx:o||0,ry:o||0,fill:"transparent",fillOpacity:1,strokeWidth:"1px",stroke:"#000",strokeOpacity:1,className:"lf-basic-shape ".concat(u),x:0,y:0};return Object.entries(t).forEach(function(E){var A=db(E,2),C=A[0],B=A[1];rf(B)!=="object"&&(b[C]=B)}),b.x=l,b.y=d,Object(q.g)("rect",b)}function af(t){return(af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function hb(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function uf(t,e){return(uf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function vb(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Ja(t);if(e){var i=Ja(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return gb(this,n)}}function gb(t,e){if(e&&(af(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Ja(t){return(Ja=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}cr.defaultProps={radius:0,stroke:"",strokeDasharray:"",className:""};var cf,bb=Pn(nf=function(t){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&uf(o,u)})(i,t);var e,n,r=vb(i);function i(){return hb(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getNodeOutline",value:function(){var o=this.props.graphModel,u=o.selectElements,l=o.editConfig,d=l.hoverOutline,b=l.nodeSelectedOutline,E=[];return u.forEach(function(A){if(A.BaseType===Bt.NODE){var C=A.isHovered,B=A.isSelected,W=A.x,ee=A.y,ne=A.width,oe=A.height,pe=A.hideOutline,le=A.outlineColor,Se=A.hoverOutlineColor,he=A.outlineStrokeDashArray,Re=A.hoverOutlineStrokeDashArray;if(!pe&&(b||d&&C)){var De=B?le:Se,Xe=B?he:Re;E.push(Object(q.g)(cr,{className:"lf-outline-node",x:W,y:ee,width:ne+10,height:oe+10,radius:0,fill:"none",stroke:De,strokeDasharray:Xe}))}}}),E}},{key:"getEdgeOutline",value:function(){for(var o=this.props.graphModel,u=o.edges,l=o.editConfig.edgeSelectedOutline,d=[],b=0;b<u.length;b++){var E=u[b];!E.hideOutline&&E.isSelected&&l&&(E.modelType===at.LINE_EDGE?d.push(this.getLineOutline(E)):E.modelType===at.POLYLINE_EDGE?d.push(this.getPolylineOutline(E)):E.modelType===at.BEZIER_EDGE&&d.push(this.getBezierOutline(E)))}return d}},{key:"getLineOutline",value:function(o){var u=o.startPoint,l=o.endPoint,d=(u.x+l.x)/2,b=(u.y+l.y)/2,E=Math.abs(u.x-l.x)+10,A=Math.abs(u.y-l.y)+10,C=this.props.graphModel.theme.line,B=C.outlineColor,W=C.outlineStrokeDashArray;return Object(q.g)(cr,{className:"lf-outline-edge",x:d,y:b,width:E,height:A,radius:0,fill:"none",stroke:B,strokeDasharray:W})}},{key:"getPolylineOutline",value:function(o){var u=o.points,l=Xr(u),d=xo(l,8),b=d.x,E=d.y,A=d.width,C=d.height,B=this.props.graphModel.theme.polyline,W=B.outlineColor,ee=B.outlineStrokeDashArray;return Object(q.g)(cr,{className:"lf-outline",x:b,y:E,width:A,height:C,radius:0,fill:"none",stroke:W,strokeDasharray:ee})}},{key:"getBezierOutline",value:function(o){var u=o.path,l=Ri(u),d=xo(l,8),b=d.x,E=d.y,A=d.width,C=d.height,B=this.props.graphModel.theme.bezier,W=B.outlineColor,ee=B.outlineStrokeDashArray;return Object(q.g)(cr,{className:"lf-outline",x:b,y:E,width:A,height:C,radius:0,fill:"none",stroke:W,strokeDasharray:ee})}},{key:"render",value:function(){return Object(q.g)("g",{className:"lf-outline"},this.getNodeOutline(),this.getEdgeOutline())}}])&&yb(e.prototype,n),i}(q.a))||nf;function sf(t){return(sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function mb(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,b=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(E){b=!0,u=E}finally{try{d||i.return==null||i.return()}finally{if(b)throw u}}return l}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return lf(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return lf(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function lf(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Po(t){var e=t.x,n=e===void 0?0:e,r=t.y,i=r===void 0?0:r,o=t.r,u={cx:n,cy:i,r:o===void 0?4:o,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1,className:"lf-basic-shape"};return Object.entries(t).forEach(function(l){var d=mb(l,2),b=d[0],E=d[1];sf(E)!=="object"&&(u[b]=E)}),Object(q.g)("circle",u)}function ff(t){return(ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function pf(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,b=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(E){b=!0,u=E}finally{try{d||i.return==null||i.return()}finally{if(b)throw u}}return l}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return df(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return df(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function df(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hf(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function vf(t,e,n){return e&&yf(t.prototype,e),n&&yf(t,n),t}function gf(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&bf(t,e)}function bf(t,e){return(bf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function mf(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Qa(t);if(e){var i=Qa(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _b(this,n)}}function _b(t,e){if(e&&(ff(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Qa(t){return(Qa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var _f,Of=function(t){gf(n,t);var e=mf(n);function n(r){var i;hf(this,n),(i=e.call(this)).dragHandler=void 0,i.onDraging=function(u){var l=u.deltaX,d=u.deltaY,b=i.props,E=b.graphModel,A=b.bezierModel,C=b.type,B=E.transformMatrix,W=i.state,ee=W.endX,ne=W.endY,oe=pf(B.moveCanvasPointByHtml([ee,ne],l,d),2),pe=oe[0],le=oe[1];i.setState({endX:pe,endY:le}),A.updateAdjustAnchor({x:pe,y:le},C)},i.onDragEnd=function(){var u=i.state,l=u.endX,d=u.endY,b=i.props,E=b.bezierModel,A=b.type;E.updateAdjustAnchor({x:l,y:d},A)},i.dragHandler=jo({onDraging:i.onDraging,onDragEnd:i.onDragEnd});var o=r.position;return i.state={endX:o.x,endY:o.y},i}return vf(n,[{key:"render",value:function(){var r,i,o,u=this.props.position,l=u.x,d=u.y,b=(r=this.props)===null||r===void 0||(i=r.graphModel)===null||i===void 0||(o=i.theme)===null||o===void 0?void 0:o.bezier,E=b.adjustAnchorStroke,A=b.adjustAnchorFill,C=b.adjustAnchorFillOpacity;return Object(q.g)(Po,{className:"lf-bezier-adjust-anchor",x:l,y:d,r:4,stroke:E,fill:A,fillOpacity:C,onMouseDown:this.dragHandler})}}]),n}(q.a),Ob=Pn(cf=function(t){gf(n,t);var e=mf(n);function n(){return hf(this,n),e.apply(this,arguments)}return vf(n,[{key:"getBezierAdjust",value:function(r,i){var o=r.path,u=r.id,l=pf(Ri(o),4),d=l[0],b=l[1],E=l[2],A=l[3],C=i.theme.bezier.adjustLineColor,B=[];return B.push(Object(q.g)(Yr,{x1:d.x,y1:d.y,x2:b.x,y2:b.y,stroke:C})),B.push(Object(q.g)(Of,{position:b,bezierModel:r,graphModel:i,key:"".concat(u,"_ePre"),type:"sNext"})),B.push(Object(q.g)(Yr,{x1:A.x,y1:A.y,x2:E.x,y2:E.y,stroke:C})),B.push(Object(q.g)(Of,{position:E,bezierModel:r,graphModel:i,key:"".concat(u,"_sNext"),type:"ePre"})),B}},{key:"selectedBezierEdge",value:function(){for(var r=this.props.graphModel,i=r.edges,o=[],u=0;u<i.length;u++){var l=i[u];l.isSelected&&l.modelType===at.BEZIER_EDGE&&l.draggable&&o.push(this.getBezierAdjust(l,r))}return o}},{key:"render",value:function(){return Object(q.g)("g",{className:"lf-bezier-adjust"},this.selectedBezierEdge())}}]),n}(q.a))||cf;function wf(t){return(wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function wb(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function xf(t,e){return(xf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Eb(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=eu(t);if(e){var i=eu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return jb(this,n)}}function jb(t,e){if(e&&(wf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function eu(t){return(eu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var Ef,Sb=Pn(_f=function(t){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&xf(o,u)})(i,t);var e,n,r=Eb(i);function i(){return wb(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"render",value:function(){var o=this.props.graphModel.transformMatrix.getTransformStyle().transform,u=this.props.children;return Object(q.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%",className:"modification-overlay"},Object(q.g)("g",{transform:o},u))}}])&&xb(e.prototype,n),i}(q.a))||_f;function jf(t){return(jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Sf(){return(Sf=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Pb(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ab(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Pf(t,e){return(Pf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function kb(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=tu(t);if(e){var i=tu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Tb(this,n)}}function Tb(t,e){if(e&&(jf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function tu(t){return(tu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var Db=Pn(Ef=function(t){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Pf(o,u)})(i,t);var e,n,r=kb(i);function i(){return Pb(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getComponent",value:function(o,u,l){var d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"canvas-overlay",b=this.props.getView,E=b(o.type);return Object(q.g)(E,{key:o.id,model:o,graphModel:u,overlay:d,eventCenter:l})}},{key:"render",value:function(){var o=this,u=this.props,l=u.graphModel,d=u.tool,b=u.options,E=u.eventCenter,A=u.dnd,C=u.snaplineModel,B={};b.width&&(B.width="".concat(b.width,"px")),b.height&&(B.height="".concat(b.height,"px"));var W=l.fakerNode,ee=l.editConfig.adjustEdge;return Object(q.g)("div",{className:"lf-graph",style:B},Object(q.g)(Vg,{graphModel:l,eventCenter:E,dnd:A},Object(q.g)("g",{className:"lf-base"},wi(l.sortElements,function(ne){return o.getComponent(ne,l,E)})),W?this.getComponent(W,l,E):""),Object(q.g)(Sb,{graphModel:l},b.hideOutline?"":Object(q.g)(bb,{graphModel:l}),ee?Object(q.g)(Ob,{graphModel:l}):"",b.isSilentMode||b.snapline===!1?"":Object(q.g)(pb,{snaplineModel:C})),Object(q.g)($g,{graphModel:l,tool:d}),b.background&&Object(q.g)(nb,{background:b.background}),b.grid&&Object(q.g)(ql,Sf({},b.grid,{graphModel:l})))}}])&&Ab(e.prototype,n),i}(q.a))||Ef;function Af(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Li(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Af(Object(n),!0).forEach(function(r){Mb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Af(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mb(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Cb=function(){function t(r){var i=this;(function(l,d){if(!(l instanceof d))throw new TypeError("Cannot call a class as a function")})(this,t),this.nodeConfig=void 0,this.lf=void 0,this.options=void 0,this.fakerNode=void 0,this.stopDrag=function(){i.nodeConfig=null,window.document.removeEventListener("mouseup",i.stopDrag)},this.dragEnter=function(l){i.nodeConfig&&!i.fakerNode&&(i.fakerNode=i.lf.createFakerNode(Li(Li({},i.nodeConfig),i.clientToLocalPoint({x:l.clientX,y:l.clientY}))))},this.onDragOver=function(l){if(l.preventDefault(),i.fakerNode){var d=i.clientToLocalPoint({x:l.clientX,y:l.clientY}),b=d.x,E=d.y;i.fakerNode.moveTo(b,E);var A=i.fakerNode.getData();i.lf.setNodeSnapLine(A),i.lf.eventCenter.emit(ot.NODE_DND_DRAG,{data:A})}return!1},this.onDragLeave=function(){i.fakerNode&&(i.lf.removeNodeSnapLine(),i.lf.graphModel.removeFakerNode(),i.fakerNode=null)},this.onDrop=function(l){if(i.lf.graphModel&&l&&i.nodeConfig){var d=i.lf.addNode(Li(Li({},i.nodeConfig),i.clientToLocalPoint({x:l.clientX,y:l.clientY})));l.preventDefault(),l.stopPropagation(),i.nodeConfig=null,i.lf.removeNodeSnapLine(),i.lf.graphModel.removeFakerNode(),i.fakerNode=null;var b=d.getData();i.lf.eventCenter.emit(ot.NODE_DND_ADD,{data:b})}};var o=r.options,u=r.lf;this.lf=u,this.options=o}var e,n;return e=t,(n=[{key:"clientToLocalPoint",value:function(r){var i=r.x,o=r.y,u=go(this.lf.options,["grid","size"]),l=this.lf.graphModel.getPointByClient({x:i,y:o}).canvasOverlayPosition,d=l.x,b=l.y;return{x:Si(d,u),y:Si(b,u)}}},{key:"startDrag",value:function(r){this.nodeConfig=r,window.document.addEventListener("mouseup",this.stopDrag)}},{key:"eventMap",value:function(){return{onMouseEnter:this.dragEnter,onMouseOver:this.dragEnter,onMouseMove:this.onDragOver,onMouseLeave:this.onDragLeave,onMouseUp:this.onDrop}}}])&&Nb(e.prototype,n),t}();function kf(t){var e=t.container,n=t.grid;if(!e)throw new Error("\u8BF7\u68C0\u67E5 container \u53C2\u6570\u662F\u5426\u6709\u6548");return n&&(t.grid=Nt({size:20,type:"dot",visible:!0,config:{color:"#ababab",thickness:1}},n)),Nt({},Df,t)}var Ot,Tf,Df={background:!1,grid:!1,textEdit:!0,disabledTools:[]};function Mf(t){return(Mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Nf(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,b=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(E){b=!0,u=E}finally{try{d||i.return==null||i.return()}finally{if(b)throw u}}return l}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Cf(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Cf(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Cf(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Rf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function If(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Rf(Object(n),!0).forEach(function(r){Rb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Rf(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rb(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ib(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Lf(){return(Lf=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=Lb(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}}).apply(this,arguments)}function Lb(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Ao(t))!==null;);return t}function zf(t,e){return(zf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function zb(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Ao(t);if(e){var i=Ao(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Bb(this,n)}}function Bb(t,e){if(e&&(Mf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bf(t)}function Bf(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ao(t){return(Ao=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function Fn(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(t,e,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var Ae,Ff,Uf,Xf,Gf,Hf,Yf,Vf,Wf,Kf,Zf,qf,$f,Jf,Qf,ep,tp,np,rp,op,ip,ap,up,cp,sp,lp,nu=(Tf=Fn((Ot=function(t){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&zf(o,u)})(i,t);var e,n,r=zb(i);function i(o,u){var l;return function(d,b){if(!(d instanceof b))throw new TypeError("Cannot call a class as a function")}(this,i),(l=r.call(this,o,u,"bezier")).modelType=at.BEZIER_EDGE,l.offset=un.bezier.offset,function(d,b,E,A){E&&Object.defineProperty(d,b,{enumerable:E.enumerable,configurable:E.configurable,writable:E.writable,value:E.initializer?E.initializer.call(A):void 0})}(l,"path",Tf,Bf(l)),l}return e=i,(n=[{key:"getTextPosition",value:function(){if(this.pointsList&&this.pointsList.length>0){var o=0,u=0;return this.pointsList.forEach(function(l){var d=l.x,b=l.y;o+=d,u+=b}),{x:o/this.pointsList.length,y:u/this.pointsList.length}}return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}},{key:"getData",value:function(){var o=Lf(Ao(i.prototype),"getData",this).call(this),u=this.pointsList.map(function(l){return{x:l.x,y:l.y}});return If(If({},o),{},{pointsList:u})}},{key:"getControls",value:function(){var o=this.startPoint,u=this.endPoint;return hl({start:o,end:u,sourceNode:this.sourceNode,targetNode:this.targetNode,offset:this.offset})}},{key:"getPath",value:function(o){var u=Nf(o,4),l=u[0],d=u[1],b=u[2],E=u[3];return"M ".concat(l.x," ").concat(l.y,`
    C `).concat(d.x," ").concat(d.y,`,
    `).concat(b.x," ").concat(b.y,`,
    `).concat(E.x," ").concat(E.y)}},{key:"initPoints",value:function(){this.pointsList.length>0?this.path=this.getPath(this.pointsList):this.updatePoints()}},{key:"updatePoints",value:function(){var o={x:this.startPoint.x,y:this.startPoint.y},u={x:this.endPoint.x,y:this.endPoint.y},l=this.getControls(),d=l.sNext,b=l.ePre;this.pointsList=[o,d,b,u],this.path=this.getPath(this.pointsList)}},{key:"updatePath",value:function(){var o={x:this.startPoint.x,y:this.startPoint.y},u={x:this.endPoint.x,y:this.endPoint.y},l=Nf(this.pointsList,3),d=l[1],b=l[2];this.pointsList=[o,d,b,u],this.path=this.getPath(this.pointsList)}},{key:"updateStartPoint",value:function(o){this.startPoint=o,this.updatePath()}},{key:"updateEndPoint",value:function(o){this.endPoint=o,this.updatePath()}},{key:"updateAdjustAnchor",value:function(o,u){u==="sNext"?this.pointsList[1]=o:u==="ePre"&&(this.pointsList[2]=o),this.path=this.getPath(this.pointsList),this.setText(Object.assign({},this.text,this.textPosition))}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var o=this.pointsList;return o[o.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(o){var u=o.startPoint,l=o.endPoint,d=o.sourceNode,b=o.targetNode,E=hl({start:u,end:l,sourceNode:d,targetNode:b,offset:this.offset}),A=E.sNext,C=E.ePre;this.pointsList=[u,A,C,l],this.initPoints()}}])&&Ib(e.prototype,n),i}(La)).prototype,"path",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Fn(Ot.prototype,"initPoints",[s.k],Object.getOwnPropertyDescriptor(Ot.prototype,"initPoints"),Ot.prototype),Fn(Ot.prototype,"updatePoints",[s.k],Object.getOwnPropertyDescriptor(Ot.prototype,"updatePoints"),Ot.prototype),Fn(Ot.prototype,"updatePath",[s.k],Object.getOwnPropertyDescriptor(Ot.prototype,"updatePath"),Ot.prototype),Fn(Ot.prototype,"updateStartPoint",[s.k],Object.getOwnPropertyDescriptor(Ot.prototype,"updateStartPoint"),Ot.prototype),Fn(Ot.prototype,"updateEndPoint",[s.k],Object.getOwnPropertyDescriptor(Ot.prototype,"updateEndPoint"),Ot.prototype),Fn(Ot.prototype,"updateAdjustAnchor",[s.k],Object.getOwnPropertyDescriptor(Ot.prototype,"updateAdjustAnchor"),Ot.prototype),Fn(Ot.prototype,"getAdjustStart",[s.k],Object.getOwnPropertyDescriptor(Ot.prototype,"getAdjustStart"),Ot.prototype),Fn(Ot.prototype,"getAdjustEnd",[s.k],Object.getOwnPropertyDescriptor(Ot.prototype,"getAdjustEnd"),Ot.prototype),Fn(Ot.prototype,"updateAfterAdjustStartAndEnd",[s.k],Object.getOwnPropertyDescriptor(Ot.prototype,"updateAfterAdjustStartAndEnd"),Ot.prototype),Ot);a(47);function fp(t){return(fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function pp(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pp(Object(n),!0).forEach(function(r){dp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pp(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dp(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hp(t,e){var n=typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(d,b){if(!!d){if(typeof d=="string")return yp(d,b);var E=Object.prototype.toString.call(d).slice(8,-1);if(E==="Object"&&d.constructor&&(E=d.constructor.name),E==="Map"||E==="Set")return Array.from(d);if(E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E))return yp(d,b)}}(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(d){throw d},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,u=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var d=n.next();return u=d.done,d},e:function(d){l=!0,o=d},f:function(){try{u||n.return==null||n.return()}finally{if(l)throw o}}}}function yp(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Pt(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Fb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function rt(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(t,e,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var Sn,vp,Xt=Nt({x:0,y:0,zIndex:1,text:{value:"",x:0,y:0,draggable:!1,editable:!0},hideOutline:!1},un.rect,un.circle),Kn=(Ff=rt((Ae=function(){function t(r,i,o){(function(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")})(this,t),this.id=Ur(),this.BaseType=Bt.NODE,this.modelType=at.NODE,this.additionStateData=void 0,this.targetRules=[],this.sourceRules=[],this.moveRules=[],this.hasSetTargetRules=!1,this.hasSetSourceRules=!1,Pt(this,"properties",Ff,this),Pt(this,"type",Uf,this),Pt(this,"x",Xf,this),Pt(this,"y",Gf,this),Pt(this,"_width",Hf,this),this.graphModel=void 0,Pt(this,"_height",Yf,this),Pt(this,"fill",Vf,this),Pt(this,"fillOpacity",Wf,this),Pt(this,"strokeWidth",Kf,this),Pt(this,"stroke",Zf,this),Pt(this,"strokeOpacity",qf,this),Pt(this,"opacity",$f,this),Pt(this,"outlineColor",Jf,this),Pt(this,"hideOutline",Qf,this),Pt(this,"hoverOutlineColor",ep,this),Pt(this,"outlineStrokeDashArray",tp,this),Pt(this,"hoverOutlineStrokeDashArray",np,this),Pt(this,"isSelected",rp,this),Pt(this,"isHovered",op,this),Pt(this,"isHitable",ip,this),Pt(this,"zIndex",ap,this),Pt(this,"anchorsOffset",up,this),Pt(this,"state",cp,this),Pt(this,"text",sp,this),Pt(this,"draggable",lp,this),this.graphModel=i,this.setStyleFromTheme(o,i),this.initNodeData(r),this.setAttributes()}var e,n;return e=t,(n=[{key:"width",get:function(){return this._width},set:function(r){this._width=r}},{key:"height",get:function(){return this._height},set:function(r){this._height=r}},{key:"initNodeData",value:function(r){if(r.properties||(r.properties={}),!r.id){var i=this.graphModel.idGenerator,o=i&&i(r.type);o&&(r.id=o);var u=this.createId();u&&(r.id=u)}this.formatText(r),Nt(this,function(l){return Ln(l,["id","type","x","y","text","properties"])}(r)),this.graphModel.overlapMode===zn.INCREASE&&(this.zIndex=r.zIndex||Ra())}},{key:"createId",value:function(){return null}},{key:"formatText",value:function(r){r.text||(r.text={value:"",x:r.x,y:r.y,draggable:!1,editable:!0}),r.text&&typeof r.text=="string"?r.text={value:r.text,x:r.x,y:r.y,draggable:!1,editable:!0}:r.text&&r.text.editable===void 0&&(r.text.editable=!0)}},{key:"setAttributes",value:function(){}},{key:"getData",value:function(){var r=this.text,i=r.x,o=r.y,u=r.value,l=this.properties;Object(s.x)(l)&&(l=Object(s.I)(l));var d={id:this.id,type:this.type,x:this.x,y:this.y,properties:l};return this.graphModel.overlapMode===zn.INCREASE&&(d.zIndex=this.zIndex),u&&(d.text={x:i,y:o,value:u}),d}},{key:"getProperties",value:function(){return Object(s.I)(this.properties)}},{key:"isAllowConnectedAsSource",value:function(r,i,o){var u=this.hasSetSourceRules?this.sourceRules:this.getConnectedSourceRules();this.hasSetSourceRules=!0;for(var l,d=!0,b=0;b<u.length;b++){var E=u[b];if(!E.validate.call(this,this,r,i,o)){d=!1,l=E.message;break}}return{isAllPass:d,msg:l}}},{key:"getConnectedSourceRules",value:function(){return this.sourceRules}},{key:"isAllowConnectedAsTarget",value:function(r,i,o){var u=this.hasSetTargetRules?this.targetRules:this.getConnectedTargetRules();this.hasSetTargetRules=!0;for(var l,d=!0,b=0;b<u.length;b++){var E=u[b];if(!E.validate.call(this,r,this,i,o)){d=!1,l=E.message;break}}return{isAllPass:d,msg:l}}},{key:"isAllowMoveNode",value:function(r,i){var o,u=hp(this.moveRules);try{for(u.s();!(o=u.n()).done;)if(!(0,o.value)(this,r,i))return!1}catch(b){u.e(b)}finally{u.f()}var l,d=hp(this.graphModel.nodeMoveRules);try{for(d.s();!(l=d.n()).done;)if(!(0,l.value)(this,r,i))return!1}catch(b){d.e(b)}finally{d.f()}return!0}},{key:"getConnectedTargetRules",value:function(){return this.targetRules}},{key:"getAnchorsByOffset",value:function(){var r=this.anchorsOffset,i=this.x,o=this.y,u=this.id;return r.map(function(l,d){return l.length?{id:"".concat(u,"_").concat(d),x:i+l[0],y:o+l[1]}:sr(sr({},l),{},{x:i+l.x,y:o+l.y,id:l.id||"".concat(u,"_").concat(d)})})}},{key:"getBounds",value:function(){return{x1:this.x-this.width/2,y1:this.y-this.height/2,x2:this.x+this.width/2,y2:this.y+this.height/2}}},{key:"anchors",get:function(){var r=this.anchorsOffset;return r&&r.length>0?this.getAnchorsByOffset():[]}},{key:"addNodeMoveRules",value:function(r){this.moveRules.includes(r)||this.moveRules.push(r)}},{key:"move",value:function(r,i){var o=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(o||this.isAllowMoveNode(r,i)){var u=this.x+r,l=this.y+i;this.x=u,this.y=l,this.text&&this.moveText(r,i)}}},{key:"moveTo",value:function(r,i){var o=arguments.length>2&&arguments[2]!==void 0&&arguments[2],u=r-this.x,l=i-this.y;(o||this.isAllowMoveNode(u,l))&&(this.text&&this.text&&this.moveText(u,l),this.x=r,this.y=i)}},{key:"moveText",value:function(r,i){var o=this.text,u=o.x,l=o.y,d=o.value,b=o.draggable,E=o.editable;this.text={value:d,editable:E,draggable:b,x:u+r,y:l+i}}},{key:"updateText",value:function(r){this.text.value=r}},{key:"setSelected",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isSelected=r}},{key:"setHovered",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHovered=r}},{key:"setHitable",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHitable=r}},{key:"setElementState",value:function(r,i){this.state=r,this.additionStateData=i}},{key:"updateStroke",value:function(r){this.stroke=r}},{key:"updateData",value:function(r){var i=mn(Ln(r,"type","x","y","text","properties")),o=this.text,u=o.x,l=o.y,d=o.draggable,b=o.editable;if(i.text&&typeof i.text=="string")i.text={x:u,y:l,value:i.text,draggable:d,editable:b};else if(fp(i.text)==="object"){var E=sr(sr({},this.text),i.text);i.text=Ln(E,"x","y","value","draggable","editable")}Nt(this,i)}},{key:"setProperty",value:function(r,i){this.properties=sr(sr({},this.properties),{},dp({},r,mn(i))),this.setAttributes()}},{key:"setProperties",value:function(r){this.properties=sr(sr({},this.properties),mn(r)),this.setAttributes()}},{key:"setStyleFromTheme",value:function(r,i){var o=i.theme;o[r]&&Nt(this,o[r])}},{key:"setZIndex",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Xt.zIndex;this.zIndex=r}},{key:"updateAttributes",value:function(r){Nt(this,r)}}])&&Fb(e.prototype,n),t}()).prototype,"properties",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Uf=rt(Ae.prototype,"type",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Xf=rt(Ae.prototype,"x",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Xt.x}}),Gf=rt(Ae.prototype,"y",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Xt.y}}),Hf=rt(Ae.prototype,"_width",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Xt.width}}),Yf=rt(Ae.prototype,"_height",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Xt.height}}),Vf=rt(Ae.prototype,"fill",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Xt.fill}}),Wf=rt(Ae.prototype,"fillOpacity",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Xt.fillOpacity}}),Kf=rt(Ae.prototype,"strokeWidth",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Xt.strokeWidth}}),Zf=rt(Ae.prototype,"stroke",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Xt.stroke}}),qf=rt(Ae.prototype,"strokeOpacity",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Xt.strokeOpacity}}),$f=rt(Ae.prototype,"opacity",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Xt.opacity}}),Jf=rt(Ae.prototype,"outlineColor",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Xt.outlineColor}}),Qf=rt(Ae.prototype,"hideOutline",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Xt.hideOutline}}),ep=rt(Ae.prototype,"hoverOutlineColor",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Xt.hoverOutlineColor}}),tp=rt(Ae.prototype,"outlineStrokeDashArray",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Xt.outlineStrokeDashArray}}),np=rt(Ae.prototype,"hoverOutlineStrokeDashArray",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Xt.hoverOutlineStrokeDashArray}}),rp=rt(Ae.prototype,"isSelected",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),op=rt(Ae.prototype,"isHovered",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ip=rt(Ae.prototype,"isHitable",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ap=rt(Ae.prototype,"zIndex",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Xt.zIndex}}),up=rt(Ae.prototype,"anchorsOffset",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),cp=rt(Ae.prototype,"state",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),sp=rt(Ae.prototype,"text",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Xt.text}}),lp=rt(Ae.prototype,"draggable",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),rt(Ae.prototype,"addNodeMoveRules",[s.k],Object.getOwnPropertyDescriptor(Ae.prototype,"addNodeMoveRules"),Ae.prototype),rt(Ae.prototype,"move",[s.k],Object.getOwnPropertyDescriptor(Ae.prototype,"move"),Ae.prototype),rt(Ae.prototype,"moveTo",[s.k],Object.getOwnPropertyDescriptor(Ae.prototype,"moveTo"),Ae.prototype),rt(Ae.prototype,"moveText",[s.k],Object.getOwnPropertyDescriptor(Ae.prototype,"moveText"),Ae.prototype),rt(Ae.prototype,"updateText",[s.k],Object.getOwnPropertyDescriptor(Ae.prototype,"updateText"),Ae.prototype),rt(Ae.prototype,"setSelected",[s.k],Object.getOwnPropertyDescriptor(Ae.prototype,"setSelected"),Ae.prototype),rt(Ae.prototype,"setHovered",[s.k],Object.getOwnPropertyDescriptor(Ae.prototype,"setHovered"),Ae.prototype),rt(Ae.prototype,"setHitable",[s.k],Object.getOwnPropertyDescriptor(Ae.prototype,"setHitable"),Ae.prototype),rt(Ae.prototype,"setElementState",[s.k],Object.getOwnPropertyDescriptor(Ae.prototype,"setElementState"),Ae.prototype),rt(Ae.prototype,"updateStroke",[s.k],Object.getOwnPropertyDescriptor(Ae.prototype,"updateStroke"),Ae.prototype),rt(Ae.prototype,"updateData",[s.k],Object.getOwnPropertyDescriptor(Ae.prototype,"updateData"),Ae.prototype),rt(Ae.prototype,"setProperty",[s.k],Object.getOwnPropertyDescriptor(Ae.prototype,"setProperty"),Ae.prototype),rt(Ae.prototype,"setProperties",[s.k],Object.getOwnPropertyDescriptor(Ae.prototype,"setProperties"),Ae.prototype),rt(Ae.prototype,"setStyleFromTheme",[s.k],Object.getOwnPropertyDescriptor(Ae.prototype,"setStyleFromTheme"),Ae.prototype),rt(Ae.prototype,"setZIndex",[s.k],Object.getOwnPropertyDescriptor(Ae.prototype,"setZIndex"),Ae.prototype),rt(Ae.prototype,"updateAttributes",[s.k],Object.getOwnPropertyDescriptor(Ae.prototype,"updateAttributes"),Ae.prototype),Ae);function gp(t){return(gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Ub(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function bp(t,e){return(bp=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Xb(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=ru(t);if(e){var i=ru(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Gb(this,n)}}function Gb(t,e){if(e&&(gp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mp(t)}function mp(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ru(t){return(ru=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function zi(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(t,e,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var Gt,_p,Op,ou=(vp=zi((Sn=function(t){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&bp(o,u)})(i,t);var e,n,r=Xb(i);function i(o,u){var l;return function(d,b){if(!(d instanceof b))throw new TypeError("Cannot call a class as a function")}(this,i),(l=r.call(this,o,u,"circle")).modelType=at.CIRCLE_NODE,function(d,b,E,A){E&&Object.defineProperty(d,b,{enumerable:E.enumerable,configurable:E.configurable,writable:E.writable,value:E.initializer?E.initializer.call(A):void 0})}(l,"r",vp,mp(l)),l}return e=i,(n=[{key:"width",get:function(){return 2*this.r}},{key:"height",get:function(){return 2*this.r}},{key:"anchors",get:function(){var o=this.anchorsOffset,u=this.x,l=this.y,d=this.r;return o&&o.length>0?this.getAnchorsByOffset():[{x:u,y:l-d,id:"".concat(this.id,"_0")},{x:u+d,y:l,id:"".concat(this.id,"_1")},{x:u,y:l+d,id:"".concat(this.id,"_2")},{x:u-d,y:l,id:"".concat(this.id,"_3")}]}}])&&Ub(e.prototype,n),i}(Kn)).prototype,"r",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return un.circle.r}}),zi(Sn.prototype,"width",[s.m],Object.getOwnPropertyDescriptor(Sn.prototype,"width"),Sn.prototype),zi(Sn.prototype,"height",[s.m],Object.getOwnPropertyDescriptor(Sn.prototype,"height"),Sn.prototype),zi(Sn.prototype,"anchors",[s.m],Object.getOwnPropertyDescriptor(Sn.prototype,"anchors"),Sn.prototype),Sn);a(121);function wp(t){return(wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function iu(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,b=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(E){b=!0,u=E}finally{try{d||i.return==null||i.return()}finally{if(b)throw u}}return l}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return xp(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return xp(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function xp(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ep(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ep(Object(n),!0).forEach(function(r){Hb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ep(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hb(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sp(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Yb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Pp(){return(Pp=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=Vb(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}}).apply(this,arguments)}function Vb(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=ko(t))!==null;);return t}function Ap(t,e){return(Ap=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Wb(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=ko(t);if(e){var i=ko(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Kb(this,n)}}function Kb(t,e){if(e&&(wp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return au(t)}function au(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ko(t){return(ko=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function Er(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(t,e,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var _n,kp,Tp,uu=(_p=Er((Gt=function(t){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Ap(o,u)})(i,t);var e,n,r=Wb(i);function i(o,u){var l;return function(d,b){if(!(d instanceof b))throw new TypeError("Cannot call a class as a function")}(this,i),(l=r.call(this,o,u,"diamond")).modelType=at.DIAMOND_NODE,Sp(l,"rx",_p,au(l)),Sp(l,"ry",Op,au(l)),l}return e=i,(n=[{key:"getData",value:function(){var o=this.rx,u=this.ry;return jp(jp({},Pp(ko(i.prototype),"getData",this).call(this)),{},{rx:o,ry:u})}},{key:"points",get:function(){var o=this.x,u=this.y,l=this.rx,d=this.ry;return[[o,u-d],[o+l,u],[o,u+d],[o-l,u]]}},{key:"pointsPosition",get:function(){return this.points.map(function(o){return{x:o[0],y:o[1]}})}},{key:"width",get:function(){var o=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(l){var d=iu(l,1)[0];d<o&&(o=d),d>u&&(u=d)}),u-o}},{key:"height",get:function(){var o=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(l){var d=iu(l,2)[1];d<o&&(o=d),d>u&&(u=d)}),u-o}},{key:"anchors",get:function(){var o=this,u=this.anchorsOffset,l=this.points;return u&&u.length>0?this.getAnchorsByOffset():l.map(function(d,b){var E=iu(d,2);return{x:E[0],y:E[1],id:"".concat(o.id,"_").concat(b)}})}}])&&Yb(e.prototype,n),i}(Kn)).prototype,"rx",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Op=Er(Gt.prototype,"ry",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Er(Gt.prototype,"points",[s.m],Object.getOwnPropertyDescriptor(Gt.prototype,"points"),Gt.prototype),Er(Gt.prototype,"pointsPosition",[s.m],Object.getOwnPropertyDescriptor(Gt.prototype,"pointsPosition"),Gt.prototype),Er(Gt.prototype,"width",[s.m],Object.getOwnPropertyDescriptor(Gt.prototype,"width"),Gt.prototype),Er(Gt.prototype,"height",[s.m],Object.getOwnPropertyDescriptor(Gt.prototype,"height"),Gt.prototype),Er(Gt.prototype,"anchors",[s.m],Object.getOwnPropertyDescriptor(Gt.prototype,"anchors"),Gt.prototype),Gt);function Dp(t){return(Dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Mp(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Zb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Np(t,e){return(Np=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function qb(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=su(t);if(e){var i=su(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $b(this,n)}}function $b(t,e){if(e&&(Dp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cu(t)}function cu(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function su(t){return(su=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function To(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(t,e,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var cn,Cp,lu=(kp=To((_n=function(t){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Np(o,u)})(i,t);var e,n,r=qb(i);function i(o,u){var l;return function(d,b){if(!(d instanceof b))throw new TypeError("Cannot call a class as a function")}(this,i),(l=r.call(this,o,u,"ellipse")).modelType=at.ELLIPSE_NODE,Mp(l,"rx",kp,cu(l)),Mp(l,"ry",Tp,cu(l)),l}return e=i,(n=[{key:"width",get:function(){return 2*this.rx}},{key:"height",get:function(){return 2*this.ry}},{key:"anchors",get:function(){var o=this.anchorsOffset,u=this.x,l=this.y,d=this.rx,b=this.ry;return o&&o.length>0?this.getAnchorsByOffset():[{x:u,y:l-b,id:"".concat(this.id,"_0")},{x:u+d,y:l,id:"".concat(this.id,"_1")},{x:u,y:l+b,id:"".concat(this.id,"_2")},{x:u-d,y:l,id:"".concat(this.id,"_3")}]}}])&&Zb(e.prototype,n),i}(Kn)).prototype,"rx",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return un.ellipse.rx}}),Tp=To(_n.prototype,"ry",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return un.ellipse.ry}}),To(_n.prototype,"width",[s.m],Object.getOwnPropertyDescriptor(_n.prototype,"width"),_n.prototype),To(_n.prototype,"height",[s.m],Object.getOwnPropertyDescriptor(_n.prototype,"height"),_n.prototype),To(_n.prototype,"anchors",[s.m],Object.getOwnPropertyDescriptor(_n.prototype,"anchors"),_n.prototype),_n);function Rp(t){return(Rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function fu(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,b=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(E){b=!0,u=E}finally{try{d||i.return==null||i.return()}finally{if(b)throw u}}return l}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Ip(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Ip(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ip(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Jb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Lp(t,e){return(Lp=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Qb(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=pu(t);if(e){var i=pu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return em(this,n)}}function em(t,e){if(e&&(Rp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zp(t)}function zp(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pu(t){return(pu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function Do(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(t,e,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var Mo,Bp,du=(Cp=Do((cn=function(t){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Lp(o,u)})(i,t);var e,n,r=Qb(i);function i(o,u){var l;return function(d,b){if(!(d instanceof b))throw new TypeError("Cannot call a class as a function")}(this,i),(l=r.call(this,o,u,"polygon")).modelType=at.POLYGON_NODE,function(d,b,E,A){E&&Object.defineProperty(d,b,{enumerable:E.enumerable,configurable:E.configurable,writable:E.writable,value:E.initializer?E.initializer.call(A):void 0})}(l,"points",Cp,zp(l)),l}return e=i,(n=[{key:"pointsPosition",get:function(){var o=this.x,u=this.y,l=this.width,d=this.height;return this.points.map(function(b){return{x:b[0]+o-l/2,y:b[1]+u-d/2}})}},{key:"width",get:function(){var o=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(l){var d=fu(l,1)[0];d<o&&(o=d),d>u&&(u=d)}),u-o}},{key:"height",get:function(){var o=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(l){var d=fu(l,2)[1];d<o&&(o=d),d>u&&(u=d)}),u-o}},{key:"anchors",get:function(){var o=this,u=this.anchorsOffset,l=this.x,d=this.y,b=this.width,E=this.height,A=this.points;return u&&u.length>0?this.getAnchorsByOffset():A.map(function(C,B){var W=fu(C,2),ee=W[0],ne=W[1];return{x:l+ee-b/2,y:d+ne-E/2,id:"".concat(o.id,"_").concat(B)}})}}])&&Jb(e.prototype,n),i}(Kn)).prototype,"points",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[[50,0],[100,50],[50,100],[0,50]]}}),Do(cn.prototype,"pointsPosition",[s.m],Object.getOwnPropertyDescriptor(cn.prototype,"pointsPosition"),cn.prototype),Do(cn.prototype,"width",[s.m],Object.getOwnPropertyDescriptor(cn.prototype,"width"),cn.prototype),Do(cn.prototype,"height",[s.m],Object.getOwnPropertyDescriptor(cn.prototype,"height"),cn.prototype),Do(cn.prototype,"anchors",[s.m],Object.getOwnPropertyDescriptor(cn.prototype,"anchors"),cn.prototype),cn);function Fp(t){return(Fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function tm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Up(t,e){return(Up=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function nm(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=hu(t);if(e){var i=hu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return rm(this,n)}}function rm(t,e){if(e&&(Fp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xp(t)}function Xp(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hu(t){return(hu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function Gp(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(t,e,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var Un,Hp,Yp,Vp,yu=(Bp=Gp((Mo=function(t){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Up(o,u)})(i,t);var e,n,r=nm(i);function i(o,u){var l;return function(d,b){if(!(d instanceof b))throw new TypeError("Cannot call a class as a function")}(this,i),(l=r.call(this,o,u,"rect")).modelType=at.RECT_NODE,function(d,b,E,A){E&&Object.defineProperty(d,b,{enumerable:E.enumerable,configurable:E.configurable,writable:E.writable,value:E.initializer?E.initializer.call(A):void 0})}(l,"radius",Bp,Xp(l)),l}return e=i,(n=[{key:"anchors",get:function(){var o=this.anchorsOffset,u=this.x,l=this.y,d=this.width,b=this.height;return o&&o.length>0?this.getAnchorsByOffset():[{x:u,y:l-b/2,id:"".concat(this.id,"_0")},{x:u+d/2,y:l,id:"".concat(this.id,"_1")},{x:u,y:l+b/2,id:"".concat(this.id,"_2")},{x:u-d/2,y:l,id:"".concat(this.id,"_3")}]}}])&&tm(e.prototype,n),i}(Kn)).prototype,"radius",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return un.rect.radius}}),Gp(Mo.prototype,"anchors",[s.m],Object.getOwnPropertyDescriptor(Mo.prototype,"anchors"),Mo.prototype),Mo);function Wp(t){return(Wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function vu(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function om(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Kp(t,e){return(Kp=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function im(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=gu(t);if(e){var i=gu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return am(this,n)}}function am(t,e){if(e&&(Wp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bi(t)}function Bi(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gu(t){return(gu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function No(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(t,e,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var Fi,bu=(Hp=No((Un=function(t){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Kp(o,u)})(i,t);var e,n,r=im(i);function i(o,u){var l;return function(d,b){if(!(d instanceof b))throw new TypeError("Cannot call a class as a function")}(this,i),(l=r.call(this,o,u,"text")).modelType=at.TEXT_NODE,vu(l,"fontSize",Hp,Bi(l)),vu(l,"fontFamily",Yp,Bi(l)),vu(l,"fontWeight",Vp,Bi(l)),l}return e=i,(n=[{key:"width",get:function(){var o=String(this.text.value).split(/[\r\n]/g),u=Ai({rows:o,fontSize:this.fontSize,rowsLength:o.length}).width;return u>100?u:100}},{key:"height",get:function(){var o=String(this.text.value).split(/[\r\n]/g),u=Ai({rows:o,fontSize:this.fontSize,rowsLength:o.length}).height;return u>20?u:20}}])&&om(e.prototype,n),i}(Kn)).prototype,"fontSize",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return un.text.fontSize}}),Yp=No(Un.prototype,"fontFamily",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return un.text.fontFamily}}),Vp=No(Un.prototype,"fontWeight",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return un.text.fontWeight}}),No(Un.prototype,"width",[s.m],Object.getOwnPropertyDescriptor(Un.prototype,"width"),Un.prototype),No(Un.prototype,"height",[s.m],Object.getOwnPropertyDescriptor(Un.prototype,"height"),Un.prototype),Un);function Zp(t){return(Zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function um(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function qp(t,e){return(qp=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function cm(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=mu(t);if(e){var i=mu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return sm(this,n)}}function sm(t,e){if(e&&(Zp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function mu(t){return(mu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var qt,$p,Jp,Qp,_u=(function(t,e,n,r,i){var o={};Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(t,e,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null)}((Fi=function(t){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&qp(o,u)})(i,t);var e,n,r=cm(i);function i(o,u){var l;return function(d,b){if(!(d instanceof b))throw new TypeError("Cannot call a class as a function")}(this,i),(l=r.call(this,o,u,"html")).modelType=at.HTML_NODE,l}return e=i,(n=[{key:"anchors",get:function(){var o=this.anchorsOffset,u=this.x,l=this.y,d=this.width,b=this.height;return o&&o.length>0?this.getAnchorsByOffset():[{x:u,y:l-b/2,id:"".concat(this.id,"_0")},{x:u+d/2,y:l,id:"".concat(this.id,"_1")},{x:u,y:l+b/2,id:"".concat(this.id,"_2")},{x:u-d/2,y:l,id:"".concat(this.id,"_3")}]}}])&&um(e.prototype,n),i}(Kn)).prototype,"anchors",[s.m],Object.getOwnPropertyDescriptor(Fi.prototype,"anchors"),Fi.prototype),Fi);function Ou(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function lm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function jr(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(t,e,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var ed=un.snapline,td=($p=jr((qt=function(){function t(r){(function(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")})(this,t),this.graphModel=void 0,Ou(this,"isShowHorizontal",$p,this),Ou(this,"isShowVertical",Jp,this),Ou(this,"position",Qp,this),this.isShowHorizontal=!1,this.isShowVertical=!1,this.position={x:0,y:0},this.graphModel=r}var e,n;return e=t,(n=[{key:"stroke",get:function(){return this.graphModel.theme.snapline.stroke||ed.stroke}},{key:"strokeWidth",get:function(){return this.graphModel.theme.snapline.strokeWidth||ed.strokeWidth}},{key:"getCenterSnapLine",value:function(r,i){for(var o=r.x,u=r.y,l=!1,d=!1,b=0;b<i.length;b++){var E=i[b];if(E.id!==r.id&&(o===E.x&&(l=!0),u===E.y&&(d=!0),l&&d))break}return{isShowVertical:l,isShowHorizontal:d,position:{x:o,y:u}}}},{key:"getHorizontalSnapline",value:function(r,i){var o,u,l=!1,d=r.id;if(d){var b=this.graphModel.fakerNode;if(b&&b.id===d)u=dn(b);else{var E=this.graphModel.getNodeModel(d);u=dn(E)}}for(var A=0;A<i.length;A++){var C=i[A];if(C.id!==r.id){var B=dn(C);if(B.minY===u.minY||B.maxY===u.minY){l=!0,o=u.minY;break}if(B.minY===u.maxY||B.maxY===u.maxY){l=!0,o=u.maxY;break}}}return Nt({isShowHorizontal:l,position:{y:o}})}},{key:"getVerticalSnapline",value:function(r,i){var o,u,l=!1,d=r.id;if(d){var b=this.graphModel.fakerNode;if(b&&b.id===d)u=dn(b);else{var E=this.graphModel.getNodeModel(d);u=dn(E)}}for(var A=0;A<i.length;A++){var C=i[A];if(C.id!==r.id){var B=dn(C);if(B.minX===u.minX||B.maxX===u.minX){l=!0,o=u.minX;break}if(B.minX===u.maxX||B.maxX===u.maxX){l=!0,o=u.maxX;break}}}return Nt({isShowVertical:l,position:{x:o}})}},{key:"getSnapLinePosition",value:function(r,i){var o=this.getCenterSnapLine(r,i),u=o.isShowHorizontal,l=o.isShowVertical;if(!u){var d=this.getHorizontalSnapline(r,i);d.isShowHorizontal&&(o.isShowHorizontal=d.isShowHorizontal,o.position.y=d.position.y)}if(!l){var b=this.getVerticalSnapline(r,i);b.isShowVertical&&(o.isShowVertical=b.isShowVertical,o.position.x=b.position.x)}return o}},{key:"setSnaplineInfo",value:function(r){var i=r.isShowHorizontal,o=r.isShowVertical,u=r.position;this.position=u,this.isShowHorizontal=i,this.isShowVertical=o}},{key:"clearSnapline",value:function(){this.position={x:0,y:0},this.isShowHorizontal=!1,this.isShowVertical=!1}},{key:"setNodeSnapLine",value:function(r){var i=this.graphModel.nodes,o=this.getSnapLinePosition(r,i);this.setSnaplineInfo(o)}}])&&lm(e.prototype,n),t}()).prototype,"isShowHorizontal",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Jp=jr(qt.prototype,"isShowVertical",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qp=jr(qt.prototype,"position",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),jr(qt.prototype,"stroke",[s.m],Object.getOwnPropertyDescriptor(qt.prototype,"stroke"),qt.prototype),jr(qt.prototype,"strokeWidth",[s.m],Object.getOwnPropertyDescriptor(qt.prototype,"strokeWidth"),qt.prototype),jr(qt.prototype,"clearSnapline",[s.k],Object.getOwnPropertyDescriptor(qt.prototype,"clearSnapline"),qt.prototype),jr(qt.prototype,"setNodeSnapLine",[s.k],Object.getOwnPropertyDescriptor(qt.prototype,"setNodeSnapLine"),qt.prototype),qt);function nd(t){return(nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Ui(){return(Ui=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function fm(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,b=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(E){b=!0,u=E}finally{try{d||i.return==null||i.return()}finally{if(b)throw u}}return l}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return rd(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return rd(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function rd(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function od(t,e){return(od=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function dm(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=wu(t);if(e){var i=wu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return hm(this,n)}}function hm(t,e){if(e&&(nd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function wu(t){return(wu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var ym=function(t){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&od(o,u)})(i,t);var e,n,r=dm(i);function i(){var o;return function(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}(this,i),(o=r.call(this)).preTargetNode=void 0,o.dragHandler=void 0,o.sourceRuleResults=void 0,o.targetRuleResults=void 0,o.onDragStart=function(){var u=o.props,l=u.x,d=u.y,b=u.nodeModel,E=u.graphModel,A=E.overlapMode;E.selectNodeById(b.id),A!==zn.INCREASE&&E.toFront(b.id),o.setState({startX:l,startY:d,endX:l,endY:d})},o.onDraging=function(u){var l=u.deltaX,d=u.deltaY,b=o.state,E=b.endX,A=b.endY,C=o.props,B=C.graphModel,W=C.nodeModel,ee=B.transformMatrix,ne=B.nodes,oe=fm(ee.moveCanvasPointByHtml([E,A],l,d),2),pe=oe[0],le=oe[1];o.setState({endX:pe,endY:le,draging:!0});var Se=Pi({x:E,y:A},ne);if(Se){var he=Se.node;o.preTargetNode=he;var Re=Se.anchor.id,De="".concat(he.id,"_").concat(Re);if(!o.targetRuleResults.has(De)){var Xe=o.props.anchorData,dt=Se.anchor,jt=W.isAllowConnectedAsSource(he,Xe,dt),nn=he.isAllowConnectedAsTarget(W,Xe,dt);o.sourceRuleResults.set(he.id,Ys(jt)),o.targetRuleResults.set(De,Ys(nn))}var An=o.sourceRuleResults.get(he.id).isAllPass,yn=o.targetRuleResults.get(De).isAllPass;An&&yn?he.setElementState(Et.ALLOW_CONNECT):he.setElementState(Et.NOT_ALLOW_CONNECT)}else o.preTargetNode&&o.preTargetNode.state!==Et.DEFAULT&&o.preTargetNode.setElementState(Et.DEFAULT)},o.onDragEnd=function(){o.checkEnd(),o.setState({startX:0,startY:0,endX:0,endY:0,draging:!1}),o.sourceRuleResults.clear(),o.targetRuleResults.clear()},o.checkEnd=function(){var u=o.props,l=u.graphModel,d=u.nodeModel,b=u.x,E=u.y,A=u.eventCenter,C=u.id,B=l.nodes,W=l.edgeType,ee=o.state,ne=ee.endX,oe=ee.endY,pe=ee.draging,le=Pi({x:ne,y:oe},B);if(o.preTargetNode&&o.preTargetNode.state!==Et.DEFAULT&&o.preTargetNode.setElementState(Et.DEFAULT),pe&&le&&le.node){var Se=le.node,he=o.sourceRuleResults.get(Se.id)||{},Re=he.isAllPass,De=he.msg,Xe=le.anchor.id,dt="".concat(Se.id,"_").concat(Xe),jt=o.targetRuleResults.get(dt)||{},nn=jt.isAllPass,An=jt.msg;if(Re&&nn)Se.setElementState(Et.ALLOW_CONNECT),b===le.anchor.x&&E===le.anchor.y||l.createEdge({type:W,sourceNodeId:d.id,sourceAnchorId:C,startPoint:{x:b,y:E},targetNodeId:le.node.id,targetAnchorId:le.anchor.id,endPoint:{x:le.anchor.x,y:le.anchor.y}});else{var yn=Se.getData();A.emit(ot.CONNECTION_NOT_ALLOWED,{data:yn,msg:An||De})}}},o.sourceRuleResults=new Map,o.targetRuleResults=new Map,o.state={startX:0,startY:0,endX:0,endY:0,draging:!1},o.dragHandler=jo({onDragStart:o.onDragStart,onDraging:o.onDraging,onDragEnd:o.onDragEnd}),o}return e=i,(n=[{key:"isShowLine",value:function(){var o=this.state,u=o.startX,l=o.startY,d=o.endX,b=o.endY;return Bn(u,l,d,b)>10}},{key:"render",value:function(){var o=this.state,u=o.startX,l=o.startY,d=o.endX,b=o.endY,E=this.props,A=E.x,C=E.y,B=E.style,W=E.edgeStyle,ee=E.hoverStyle;return Object(q.g)("g",{className:"lf-anchor"},Object(q.g)(Po,Ui({className:"lf-node-anchor-hover",x:A,y:C},ee,{onMouseDown:this.dragHandler})),Object(q.g)(Po,Ui({className:"lf-node-anchor",x:A,y:C},B,{onMouseDown:this.dragHandler})),this.isShowLine()&&Object(q.g)(Yr,Ui({x1:u,y1:l,x2:d,y2:b,"pointer-events":"none"},W)))}}])&&pm(e.prototype,n),i}(q.a);function id(t){return(id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function vm(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,b=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(E){b=!0,u=E}finally{try{d||i.return==null||i.return()}finally{if(b)throw u}}return l}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return ad(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return ad(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ad(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xu(t){var e=t.x,n=e===void 0?0:e,r=t.y,i=r===void 0?0:r,o=t.value,u=t.fontSize,l=t.fill,d=l===void 0?"currentColor":l,b=t.model,E=t.autoWrap,A=E!==void 0&&E,C=t.overflowMode,B=C===void 0?"default":C,W={textAnchor:"middle","dominant-baseline":"middle",x:n,y:i,fill:d};if(Object.entries(t).forEach(function(he){var Re=vm(he,2),De=Re[0],Xe=Re[1];id(Xe)!=="object"&&(W[De]=Xe)}),A&&(B="autoWrap"),o){var ee=String(o).split(/[\r\n]/g),ne=ee.length;if(B!=="default"){var oe=b.BaseType,pe=b.textWidth,le=b.modelType;if(oe===Bt.NODE&&le!==at.TEXT_NODE||oe===Bt.EDGE&&pe)return function(he,Re){he.x,he.y;var De=he.value,Xe=he.color,dt=Xe===void 0?"#000000":Xe,jt=he.fontSize,nn=he.model,An=he.fontFamily,yn=An===void 0?"":An,Fo=he.lineHeight,Uo=he.wrapPadding,Vi=Uo===void 0?"0, 0":Uo,ec=he.overflowMode,Wi=nn.width,I_=nn.textWidth,ey=nn.textHeight,Ki=I_||Wi,tc=String(De).split(/[\r\n]/g),L_=tc.length,ty=Hs({rows:tc,style:{fontSize:"".concat(jt,"px"),width:"".concat(Ki,"px"),fontFamily:yn,lineHeight:Fo,padding:Vi},rowsLength:L_,className:"lf-get-text-height"}),Zi=nn.height>ty?nn.height:ty;ey&&(Zi=ey);var z_=ec==="ellipsis";return Object(q.g)("g",null,Object(q.g)("foreignObject",{width:Ki,height:Zi,x:Re.x-Ki/2,y:Re.y-Zi/2},Object(q.g)("div",{className:"lf-node-text-auto-wrap",style:{minHeight:Zi,width:Ki,color:dt,padding:Vi}},Object(q.g)("div",{className:z_?"lf-node-text-ellipsis-content":"lf-node-text-auto-wrap-content",style:{fontSize:jt,fontFamily:yn,lineHeight:Fo}},tc.map(function(B_){return Object(q.g)("div",{className:"lf-node-text--auto-wrap-inner"},B_)})))))}(t,W)}if(ne>1){var Se=ee.map(function(he,Re){var De=(Re-(ne-1)/2)*(u+2);return Object(q.g)("tspan",{className:"lf-text-tspan",x:n,y:i+De},he)});return Object(q.g)("text",W,Se)}return Object(q.g)("text",W,o)}}function ud(t){return(ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function cd(){return(cd=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function gm(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,b=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(E){b=!0,u=E}finally{try{d||i.return==null||i.return()}finally{if(b)throw u}}return l}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return sd(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return sd(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function sd(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function bm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ld(t,e){return(ld=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function mm(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Eu(t);if(e){var i=Eu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _m(this,n)}}function _m(t,e){if(e&&(ud(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Eu(t){return(Eu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var fd=function(t){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&ld(o,u)})(i,t);var e,n,r=mm(i);function i(o){var u;(function(b,E){if(!(b instanceof E))throw new TypeError("Cannot call a class as a function")})(this,i),(u=r.call(this)).dragHandler=void 0,u.sumDeltaX=0,u.sumDeltaY=0,u.stepDrag=void 0,u.onDraging=function(b){var E=b.deltaX,A=b.deltaY,C=u.props,B=C.model,W=gm(C.graphModel.transformMatrix.fixDeltaXY(E,A),2),ee=W[0],ne=W[1];B.moveText(ee,ne)},u.dblClickHandler=function(){u.props.editable&&u.props.model.setElementState(Et.TEXT_EDIT)},u.mouseDownHandle=function(b){var E=u.props,A=E.draggable,C=E.graphModel.editConfig.nodeTextDraggable;(A||C)&&u.stepDrag.handleMouseDown(b)};var l=o.model,d=o.draggable;return u.stepDrag=new So({onDraging:u.onDraging,step:1,model:l,isStopPropagation:d}),u}return e=i,(n=[{key:"getShape",value:function(){var o=this.props,u=o.model,l=o.style,d=u.text,b=d.value,E={x:d.x,y:d.y,className:"lf-element-text",value:b};return Object(q.g)(xu,cd({},E,l,{model:u}))}},{key:"render",value:function(){if(this.props.model.text)return Object(q.g)("g",{onMouseDown:this.mouseDownHandle,onDblClick:this.dblClickHandler},this.getShape())}}])&&bm(e.prototype,n),i}(q.a),Om=window.navigator.userAgent.match(/MSIE|Trident/)!==null;function pd(t){return(pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function dd(){return(dd=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function hd(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hd(Object(n),!0).forEach(function(r){wm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hd(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wm(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xm(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,b=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(E){b=!0,u=E}finally{try{d||i.return==null||i.return()}finally{if(b)throw u}}return l}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return yd(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return yd(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function yd(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function gd(t,e){return(gd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Em(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=ju(t);if(e){var i=ju(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return jm(this,n)}}function jm(t,e){if(e&&(pd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function ju(t){return(ju=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var Zn=function(t){(function(u,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),l&&gd(u,l)})(o,t);var e,n,r,i=Em(o);function o(u){var l;(function(A,C){if(!(A instanceof C))throw new TypeError("Cannot call a class as a function")})(this,o),(l=i.call(this)).stepDrag=void 0,l.contextMenuTime=void 0,l.startTime=void 0,l.clickTimer=void 0,l.onDraging=function(A){var C=A.deltaX,B=A.deltaY,W=l.props,ee=W.model,ne=W.graphModel;l.state.isDraging||l.setState({isDraging:!0});var oe=xm(ne.transformMatrix.fixDeltaXY(C,B),2),pe=oe[0],le=oe[1];ne.moveNode(ee.id,pe,le)},l.onDragEnd=function(){l.setState({isDraging:!1})},l.handleClick=function(A){if(l.startTime&&!(new Date().getTime()-l.startTime>200)){var C=l.props,B=C.model,W=C.eventCenter,ee=C.graphModel,ne={data:B.getData(),e:A,position:ee.getPointByClient({x:A.clientX,y:A.clientY})},oe=A.button===2,pe=A.detail===2;if(!oe){var le=ee.editConfig;ee.selectNodeById(B.id,function(Se,he){var Re=he.multipleSelectKey;if(he.metaKeyMultipleSelected&&Se.metaKey)return!0;var De=!1;switch(Re){case"meta":De=Se.metaKey;break;case"alt":De=Se.altKey;break;case"shift":De=Se.shiftKey;break;default:De=!1}return De}(A,le)),l.toFront(),pe?(le.nodeTextEdit&&B.text.editable&&(B.setSelected(!1),ee.setElementStateById(B.id,Et.TEXT_EDIT)),W.emit(ot.NODE_DBCLICK,ne)):(W.emit(ot.ELEMENT_CLICK,ne),W.emit(ot.NODE_CLICK,ne))}}},l.handleContextMenu=function(A){A.preventDefault();var C=l.props,B=C.model,W=C.eventCenter,ee=C.graphModel,ne=B.getData(),oe=ee.getPointByClient({x:A.clientX,y:A.clientY});ee.setElementStateById(B.id,Et.SHOW_MENU,oe.domOverlayPosition),ee.selectNodeById(B.id),W.emit(ot.NODE_CONTEXTMENU,{data:ne,e:A,position:oe}),l.toFront()},l.handleMouseDown=function(A){var C=l.props,B=C.model,W=C.graphModel;l.toFront(),l.startTime=new Date().getTime(),W.editConfig.adjustNodePosition&&B.draggable&&l.stepDrag&&l.stepDrag.handleMouseDown(A)},l.setHoverON=function(A){if(!l.state.isHovered){l.setState({isHovered:!0});var C=l.props,B=C.model,W=C.eventCenter,ee=B.getData();B.setHovered(!0),W.emit(ot.NODE_MOUSEENTER,{data:ee,e:A})}},l.setHoverOFF=function(A){l.setState({isHovered:!1});var C=l.props,B=C.model,W=C.eventCenter,ee=B.getData();B.setHovered(!1),W.emit(ot.NODE_MOUSELEAVE,{data:ee,e:A})},l.onMouseOut=function(A){Om&&l.setHoverOFF(A)};var d=u.graphModel.gridSize,b=u.eventCenter,E=u.model;return l.stepDrag=new So({onDraging:l.onDraging,onDragEnd:l.onDragEnd,step:d,eventType:"NODE",eventCenter:b,model:E}),l.state={isDraging:!1,isHovered:!1},l}return e=o,r=[{key:"getModel",value:function(u){return u}}],(n=[{key:"getShapeStyle",value:function(){var u=this.props.model;return{width:u.width,height:u.height,fill:u.fill,fillOpacity:u.fillOpacity,strokeWidth:u.strokeWidth,stroke:u.stroke,strokeOpacity:u.strokeOpacity,opacity:u.opacity,outlineColor:u.outlineColor}}},{key:"getAttributes",value:function(){var u=this.props.model,l=u.id,d=u.properties,b=d===void 0?{}:d,E=u.type,A=u.x,C=u.y,B=u.isSelected,W=u.isHovered,ee=u.text,ne=this.getShapeStyle();return Sr({id:l,properties:Sr({},b),type:E,x:A,y:C,isSelected:B,isHovered:W,text:Sr({},ee)},ne)}},{key:"getProperties",value:function(){return this.props.model.getProperties()}},{key:"getAnchorStyle",value:function(){return Sr({},this.props.graphModel.theme.anchor)}},{key:"getAnchorHoverStyle",value:function(){return Sr({},this.props.graphModel.theme.anchorHover)}},{key:"getNewEdgeStyle",value:function(){return Sr({},this.props.graphModel.theme.anchorLine)}},{key:"getAnchors",value:function(){var u=this,l=this.props,d=l.model,b=l.graphModel,E=l.eventCenter,A=d.isSelected,C=d.isHitable,B=this.state,W=B.isHovered,ee=B.isDraging;if(C&&(A||W)){var ne=this.getAnchorStyle(),oe=this.getAnchorHoverStyle(),pe=this.getNewEdgeStyle();return wi(d.anchors,function(le,Se){return Object(q.g)(ym,dd({},le,{anchorData:le,nodeDraging:ee,style:ne,hoverStyle:oe,edgeStyle:pe,anchorIndex:Se,nodeModel:d,eventCenter:E,graphModel:b,setHoverOFF:u.setHoverOFF}))})}return[]}},{key:"getTextStyle",value:function(){return Sr({},this.props.graphModel.theme.nodeText)}},{key:"getText",value:function(){var u=this.props,l=u.model,d=u.graphModel;if(l.state===Et.TEXT_EDIT)return"";var b=this.getTextStyle();if(l.text){var E=d.editConfig,A=!1;return(l.text.draggable||E.nodeTextDraggable)&&(A=!0),Object(q.g)(fd,{editable:E.nodeTextEdit&&l.text.editable,style:b,model:l,graphModel:d,draggable:A})}}},{key:"getStateClassName",value:function(){var u="lf-node";switch(this.props.model.state){case Et.ALLOW_CONNECT:u+=" lf-node-allow";break;case Et.NOT_ALLOW_CONNECT:u+=" lf-node-not-allow";break;default:u+=" lf-node-default"}return this.state.isDraging&&(u+=" lf-dragging"),u}},{key:"toFront",value:function(){var u=this.props,l=u.model,d=u.graphModel;d.overlapMode!==zn.INCREASE&&d.toFront(l.id)}},{key:"render",value:function(){var u,l=this.props,d=l.model,b=l.graphModel,E=b.editConfig,A=E.hideAnchors,C=E.adjustNodePosition,B=b.gridSize,W=b.transformMatrix.SCALE_X,ee=d.isHitable,ne=d.draggable,oe=Object(q.g)("g",{className:"lf-node-content"},this.getShape(),this.getText(),A?null:this.getAnchors());return ee?(C&&ne&&this.stepDrag.setStep(B*W),u=Object(q.g)("g",{className:this.getStateClassName(),onMouseDown:this.handleMouseDown,onMouseUp:this.handleClick,onMouseEnter:this.setHoverON,onMouseOver:this.setHoverON,onMouseLeave:this.setHoverOFF,onMouseOut:this.onMouseOut,onContextMenu:this.handleContextMenu},oe)):u=Object(q.g)("g",{className:this.getStateClassName()},oe),u}}])&&vd(e.prototype,n),r&&vd(e,r),o}(q.a);function bd(t){return(bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function md(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?md(Object(n),!0).forEach(function(r){Sm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):md(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sm(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pm(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Am(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Su(){return(Su=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=km(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}}).apply(this,arguments)}function km(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Vr(t))!==null;);return t}function _d(t,e){return(_d=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Tm(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Vr(t);if(e){var i=Vr(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Dm(this,n)}}function Dm(t,e){if(e&&(bd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Vr(t){return(Vr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var Pu=function(t){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&_d(o,u)})(i,t);var e,n,r=Tm(i);function i(){return Pm(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getShapeStyle",value:function(){var o=Su(Vr(i.prototype),"getShapeStyle",this).call(this),u=this.props.model.radius;return Xi(Xi({},o),{},{radius:u})}},{key:"getAttributes",value:function(){var o=Su(Vr(i.prototype),"getAttributes",this).call(this),u=this.getShapeStyle();return Xi(Xi({},o),u)}},{key:"getShape",value:function(){var o=this.getAttributes();return Object(q.g)(cr,o)}}])&&Am(e.prototype,n),i}(Zn);function Od(t){return(Od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function wd(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wd(Object(n),!0).forEach(function(r){Mm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wd(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mm(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nm(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Cm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Au(){return(Au=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=Rm(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}}).apply(this,arguments)}function Rm(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Wr(t))!==null;);return t}function xd(t,e){return(xd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Im(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Wr(t);if(e){var i=Wr(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Lm(this,n)}}function Lm(t,e){if(e&&(Od(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Wr(t){return(Wr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var ku=function(t){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&xd(o,u)})(i,t);var e,n,r=Im(i);function i(){return Nm(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getShapeStyle",value:function(){var o=Au(Wr(i.prototype),"getShapeStyle",this).call(this),u=this.props.model.r;return Gi(Gi({},o),{},{r:u})}},{key:"getAttributes",value:function(){var o=Au(Wr(i.prototype),"getAttributes",this).call(this),u=this.getShapeStyle();return Gi(Gi({},o),u)}},{key:"getShape",value:function(){var o=this.getAttributes();return Object(q.g)(Po,o)}}])&&Cm(e.prototype,n),i}(Zn);function Ed(t){return(Ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function zm(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,b=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(E){b=!0,u=E}finally{try{d||i.return==null||i.return()}finally{if(b)throw u}}return l}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return jd(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return jd(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function jd(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Sd(t){var e=t.points,n=t.className,r={fill:"transparent",fillOpacity:1,strokeWidth:1,stroke:"#000",strokeOpacity:1,points:"",className:"lf-basic-shape ".concat(n)};return Object.entries(t).forEach(function(i){var o=zm(i,2),u=o[0],l=o[1];Ed(l)!=="object"&&(r[u]=l)}),r.points=e.map(function(i){return i.join(",")}).join(" "),Object(q.g)("polygon",r)}function Pd(t){return(Pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Ad(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ad(Object(n),!0).forEach(function(r){Bm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ad(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bm(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fm(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Um(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Tu(){return(Tu=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=Xm(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}}).apply(this,arguments)}function Xm(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Kr(t))!==null;);return t}function kd(t,e){return(kd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Gm(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Kr(t);if(e){var i=Kr(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Hm(this,n)}}function Hm(t,e){if(e&&(Pd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Kr(t){return(Kr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var Du=function(t){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&kd(o,u)})(i,t);var e,n,r=Gm(i);function i(){return Fm(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getShapeStyle",value:function(){var o=Tu(Kr(i.prototype),"getShapeStyle",this).call(this),u=this.props.model.points;return Hi(Hi({},o),{},{points:u})}},{key:"getAttributes",value:function(){var o=Tu(Kr(i.prototype),"getAttributes",this).call(this),u=this.getShapeStyle();return Hi(Hi({},o),u)}},{key:"getShape",value:function(){var o=this.getAttributes(),u=o.width,l=o.height,d=o.x,b=o.y,E={transform:"matrix(1 0 0 1 ".concat(d-u/2," ").concat(b-l/2,")")};return Object(q.g)("g",E,Object(q.g)(Sd,o))}}])&&Um(e.prototype,n),i}(Zn);function Td(t){return(Td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Dd(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Dd(Object(n),!0).forEach(function(r){Ym(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Dd(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ym(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vm(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Mu(){return(Mu=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=Km(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}}).apply(this,arguments)}function Km(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Zr(t))!==null;);return t}function Md(t,e){return(Md=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Zm(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Zr(t);if(e){var i=Zr(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return qm(this,n)}}function qm(t,e){if(e&&(Td(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Zr(t){return(Zr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var Nu=function(t){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Md(o,u)})(i,t);var e,n,r=Zm(i);function i(){return Vm(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getShapeStyle",value:function(){var o=this.props.model.points;return Yi(Yi({},Mu(Zr(i.prototype),"getShapeStyle",this).call(this)),{},{points:o})}},{key:"getAttributes",value:function(){var o=Mu(Zr(i.prototype),"getAttributes",this).call(this),u=this.getShapeStyle();return Yi(Yi({},o),u)}},{key:"getShape",value:function(){var o=this.props.model.points,u=this.getAttributes(),l={fill:u.fill,fillOpacity:u.fillOpacity,strokeWidth:u.strokeWidth,stroke:u.stroke,strokeOpacity:u.strokeOpacity,points:o};return Object(q.g)("g",null,Object(q.g)(Sd,l))}}])&&Wm(e.prototype,n),i}(Zn);function Nd(t){return(Nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function $m(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,b=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(E){b=!0,u=E}finally{try{d||i.return==null||i.return()}finally{if(b)throw u}}return l}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Cd(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Cd(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Cd(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Jm(t){var e=t.x,n=e===void 0?0:e,r=t.y,i=r===void 0?0:r,o=t.rx,u=o===void 0?4:o,l=t.ry,d={cx:n,cy:i,rx:u,ry:l===void 0?4:l,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(t).forEach(function(b){var E=$m(b,2),A=E[0],C=E[1];Nd(C)!=="object"&&(d[A]=C)}),Object(q.g)("ellipse",d)}function Rd(t){return(Rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Id(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ld(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Id(Object(n),!0).forEach(function(r){Qm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Id(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qm(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function e0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function t0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function zd(){return(zd=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=n0(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}}).apply(this,arguments)}function n0(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Co(t))!==null;);return t}function Bd(t,e){return(Bd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function r0(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Co(t);if(e){var i=Co(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return o0(this,n)}}function o0(t,e){if(e&&(Rd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Co(t){return(Co=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var Cu=function(t){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Bd(o,u)})(i,t);var e,n,r=r0(i);function i(){return e0(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getAttributes",value:function(){var o=zd(Co(i.prototype),"getAttributes",this).call(this),u=this.props.model,l=u.rx,d=u.ry;return Ld(Ld({},o),{},{rx:l,ry:d})}},{key:"getShape",value:function(){var o=this.getAttributes();return Object(q.g)(Jm,o)}}])&&t0(e.prototype,n),i}(Zn);function Fd(t){return(Fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Ud(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ud(Object(n),!0).forEach(function(r){i0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ud(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function i0(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Gd(t,e){return(Gd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function c0(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Ru(t);if(e){var i=Ru(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return s0(this,n)}}function s0(t,e){if(e&&(Fd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Ru(t){return(Ru=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var Iu=function(t){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Gd(o,u)})(i,t);var e,n,r=c0(i);function i(){return a0(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getBackgroud",value:function(){var o=this.getAttributes().text,u=this.getTextStyle();if(o&&o.value&&u.backgroundStyle&&u.backgroundStyle.fill!=="transparnet"){var l=u.fontSize,d=o.value,b=o.x,E=o.y,A=String(d).split(/[\r\n]/g),C=A.length;A&&A.forEach(function(oe){Va(oe)});var B=Ai({rows:A,fontSize:l,rowsLength:C}),W=B.width,ee=B.height,ne=Xd(Xd({},u.backgroundStyle),{},{x:b-1,y:E-1,width:W,height:ee});return Object(q.g)(cr,ne)}}},{key:"getShape",value:function(){var o=this.getAttributes();return Object(q.g)("g",null,this.getBackgroud(),Object(q.g)(xu,o))}}])&&u0(e.prototype,n),i}(Zn);function Hd(t){return(Hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function l0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Yd(t,e){return(Yd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function p0(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Lu(t);if(e){var i=Lu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d0(this,n)}}function d0(t,e){if(e&&(Hd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Lu(t){return(Lu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var zu=function(t){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Yd(o,u)})(i,t);var e,n,r=p0(i);function i(){var o;l0(this,i);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return(o=r.call.apply(r,[this].concat(l))).ref=void 0,o.setRef=function(b){o.ref=b},o}return e=i,(n=[{key:"rootEl",get:function(){return this.ref}},{key:"setHtml",value:function(o){o.appendChild(document.createElement("div"))}},{key:"componentDidMount",value:function(){this.setHtml(this.rootEl)}},{key:"componentDidUpdate",value:function(){this.setHtml(this.rootEl)}},{key:"getShape",value:function(){var o=this.getAttributes(),u=o.x,l=o.y,d=o.width,b=o.height;return Object(q.g)("foreignObject",{x:u-d/2,y:l-b/2,width:d,height:b,ref:this.setRef})}}])&&f0(e.prototype,n),i}(Zn);function Vd(t){return(Vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function h0(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,b=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(E){b=!0,u=E}finally{try{d||i.return==null||i.return()}finally{if(b)throw u}}return l}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Wd(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Wd(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Wd(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Kd(t){var e={d:""};return Object.entries(t).forEach(function(n){var r=h0(n,2),i=r[0],o=r[1];Vd(o)!=="object"&&(e[i]=o)}),Object(q.g)("path",e)}Kd.defaultProps={strokeDasharray:""};var Ro=Kd;function Zd(t){return(Zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function qd(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function y0(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function v0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $d(t,e){return($d=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function b0(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Bu(t);if(e){var i=Bu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return m0(this,n)}}function m0(t,e){if(e&&(Zd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Bu(t){return(Bu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var Jd=function(t){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&$d(o,u)})(i,t);var e,n,r=b0(i);function i(){return v0(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getArrowAttibutes",value:function(){var o=this.props,u=o.arrowInfo,l=o.style,d=u.start,b=u.end,E={start:d,end:b,offset:l.offset,verticalLength:l.verticalLength,type:"end"},A=wo(E),C=A.leftX,B=A.leftY,W=A.rightX,ee=A.rightY;return function(ne){for(var oe=1;oe<arguments.length;oe++){var pe=arguments[oe]!=null?arguments[oe]:{};oe%2?qd(Object(pe),!0).forEach(function(le){y0(ne,le,pe[le])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ne,Object.getOwnPropertyDescriptors(pe)):qd(Object(pe)).forEach(function(le){Object.defineProperty(ne,le,Object.getOwnPropertyDescriptor(pe,le))})}return ne}({d:"M".concat(C," ").concat(B," L").concat(b.x," ").concat(b.y," L").concat(W," ").concat(ee," z")},l)}},{key:"getShape",value:function(){var o=this.getArrowAttibutes(),u=o.d,l=o.strokeWidth,d=o.stroke,b=o.fill;return Object(q.g)(Ro,{d:u,fill:b,strokeWidth:l,stroke:d})}},{key:"render",value:function(){return Object(q.g)("g",{className:"lf-arrow"},this.getShape())}}])&&g0(e.prototype,n),i}(q.a);function Qd(t){return(Qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function eh(){return(eh=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function th(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?th(Object(n),!0).forEach(function(r){_0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):th(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _0(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function O0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function nh(t,e){return(nh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function w0(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Fu(t);if(e){var i=Fu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return x0(this,n)}}function x0(t,e){if(e&&(Qd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Fu(t){return(Fu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var lr,E0=function(t){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&nh(o,u)})(i,t);var e,n,r=w0(i);function i(o){var u;return function(l,d){if(!(l instanceof d))throw new TypeError("Cannot call a class as a function")}(this,i),(u=r.call(this,o)).setHoverON=function(){u.setState({isHoverd:!0})},u.setHoverOFF=function(){u.setState({isHoverd:!1})},u.state={isHoverd:!1},u}return e=i,(n=[{key:"getBackgroud",value:function(){var o=this.props.model,u=this.props.style,l=o.text,d=o.textWidth,b=Ln(u.background,"fill","stroke","radius","height");if(this.state.isHoverd&&u.hoverBackground&&(b=Pr(Pr({},b),u.hoverBackground)),l&&l.value&&b.fill!=="transparnet"){var E,A=u.fontSize,C=u.autoWrap,B=u.lineHeight,W=u.wrapPadding,ee=l.value,ne=l.x,oe=l.y,pe=String(ee).split(/[\r\n]/g),le=pe.length;if(C&&d){var Se=Hs({rows:pe,style:{fontSize:"".concat(A,"px"),width:"".concat(d,"px"),lineHeight:B,padding:W},rowsLength:le,className:"lf-get-text-height"});E=Pr(Pr({},b),{},{x:ne-1,y:oe-1,width:d,height:Se})}else{pe&&pe.forEach(function(Xe){Va(Xe)});var he=Ai({rows:pe,fontSize:A,rowsLength:le}),Re=he.width,De=he.height;E=Pr(Pr({},b),{},{x:ne-1,y:oe-1,width:Re,height:De})}return Object(q.g)(cr,E)}}},{key:"getShape",value:function(){var o=this.props,u=o.model,l=o.style,d=u.text,b=d.value,E=Pr({x:d.x,y:d.y,className:"lf-element-text",value:b},l);return Object(q.g)("g",{className:"lf-line-text",onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getBackgroud(),Object(q.g)(xu,eh({},E,{model:u})))}}])&&O0(e.prototype,n),i}(fd);function rh(t){return(rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function oh(){return(oh=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function ih(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ih(Object(n),!0).forEach(function(r){j0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ih(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function j0(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function S0(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,b=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(E){b=!0,u=E}finally{try{d||i.return==null||i.return()}finally{if(b)throw u}}return l}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return ah(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return ah(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ah(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function P0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function uh(t,e){return(uh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function A0(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Uu(t);if(e){var i=Uu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return k0(this,n)}}function k0(t,e){if(e&&(rh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Uu(t){return(Uu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}(function(t){t.SOURCE="SOURCE",t.TARGET="TARGET"})(lr||(lr={}));var ch=function(t){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&uh(o,u)})(i,t);var e,n,r=A0(i);function i(){var o;return function(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}(this,i),(o=r.call(this)).dragHandler=void 0,o.oldEdge=void 0,o.onDragStart=function(){var u=o.props,l=u.x,d=u.y,b=u.edgeModel,E=b.startPoint,A=b.endPoint,C=b.pointsList;o.oldEdge={startPoint:E,endPoint:A,pointsList:C},o.setState({endX:l,endY:d,draging:!0})},o.onDraging=function(u){var l=u.deltaX,d=u.deltaY,b=o.state,E=b.endX,A=b.endY,C=o.props,B=C.graphModel,W=C.type,ee=S0(B.transformMatrix.moveCanvasPointByHtml([E,A],l,d),2),ne=ee[0],oe=ee[1];o.setState({endX:ne,endY:oe,draging:!0});var pe=o.props.edgeModel,le=B.nodes,Se=Pi({x:E,y:A},le);if(Se&&Se.node){var he,Re=pe.startPoint,De=pe.endPoint,Xe=pe.sourceNode,dt=pe.targetNode;W===lr.SOURCE?he={startPoint:{x:Se.anchor.x,y:Se.anchor.y},endPoint:{x:De.x,y:De.y},sourceNode:Se.node,targetNode:dt}:W===lr.TARGET&&(he={startPoint:{x:Re.x,y:Re.y},endPoint:{x:Se.anchor.x,y:Se.anchor.y},sourceNode:Xe,targetNode:Se.node}),pe.updateAfterAdjustStartAndEnd(he)}else W===lr.SOURCE?pe.updateStartPoint({x:ne,y:oe}):W===lr.TARGET&&pe.updateEndPoint({x:ne,y:oe})},o.onDragEnd=function(){o.setState({draging:!1});var u=o.props,l=u.graphModel,d=u.edgeModel,b=u.type,E=u.eventCenter,A=l.nodes,C=o.state,B=C.endX,W=C.endY,ee=C.draging,ne=Pi({x:B,y:W},A);if(ee)if(ne&&ne.node){var oe,pe=d.getData(),le=qn(qn({},pe),{},{sourceAnchorId:"",targetAnchorId:"",text:(pe==null||(oe=pe.text)===null||oe===void 0?void 0:oe.value)||""});b===lr.SOURCE?le=qn(qn({},le),{},{sourceNodeId:ne.node.id,sourceAnchorId:ne.anchor.id,startPoint:{x:ne.anchor.x,y:ne.anchor.y},targetNodeId:d.targetNodeId,endPoint:qn({},d.endPoint)}):b===lr.TARGET&&(le=qn(qn({},le),{},{sourceNodeId:d.sourceNodeId,startPoint:qn({},d.startPoint),targetNodeId:ne.node.id,targetAnchorId:ne.anchor.id,endPoint:{x:ne.anchor.x,y:ne.anchor.y}})),l.removeEdgeById(d.id);var Se=l.createEdge(qn({},le));E.emit(ot.EDGE_EXCHANGE_NODE,{data:{newEdge:Se.getData(),oldEdge:d.getData()}})}else o.recoveryEdge()},o.recoveryEdge=function(){var u=o.props.edgeModel,l=o.oldEdge,d=l.startPoint,b=l.endPoint,E=l.pointsList;u.updateStartPoint(d),u.updateEndPoint(b),u.modelType!==at.LINE_EDGE&&(u.pointsList=E,u.initPoints())},o.getAdjustPointStyle=function(){return o.props.graphModel.theme.edgeAdjust},o.state={draging:!1,endX:0,endY:0},o.dragHandler=jo({onDragStart:o.onDragStart,onDraging:o.onDraging,onDragEnd:o.onDragEnd}),o}return e=i,(n=[{key:"render",value:function(){var o=this.props,u=o.x,l=o.y,d=this.state.draging,b=this.getAdjustPointStyle();return Object(q.g)("g",null,Object(q.g)(Po,oh({className:"lf-edge-adjust-point"},b,{x:u,y:l,onMouseDown:this.dragHandler,"pointer-events":d?"none":""})))}}])&&P0(e.prototype,n),i}(q.a);function sh(t){return(sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Xu(){return(Xu=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function lh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function T0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lh(Object(n),!0).forEach(function(r){D0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lh(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function D0(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function M0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function N0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function fh(t,e){return(fh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function C0(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Gu(t);if(e){var i=Gu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return R0(this,n)}}function R0(t,e){if(e&&(sh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Gu(t){return(Gu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var Io=function(t){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&fh(o,u)})(i,t);var e,n,r=C0(i);function i(){var o;M0(this,i);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return(o=r.call.apply(r,[this].concat(l))).startTime=void 0,o.contextMenuTime=void 0,o.clickTimer=void 0,o.handleHover=function(b,E){var A=o.props,C=A.model,B=A.eventCenter;C.setHovered(b);var W=b?ot.EDGE_MOUSEENTER:ot.EDGE_MOUSELEAVE,ee=C.getData();B.emit(W,{data:ee,e:E})},o.setHoverON=function(b){o.handleHover(!0,b)},o.setHoverOFF=function(b){o.handleHover(!1,b)},o.handleContextMenu=function(b){b.preventDefault(),o.contextMenuTime=new Date().getTime(),o.clickTimer&&clearTimeout(o.clickTimer);var E=o.props,A=E.model,C=E.graphModel,B=E.eventCenter,W=C.getPointByClient({x:b.clientX,y:b.clientY});C.setElementStateById(A.id,Et.SHOW_MENU,W.domOverlayPosition),o.toFront(),C.selectEdgeById(A.id);var ee=A==null?void 0:A.getData();B.emit(ot.EDGE_CONTEXTMENU,{data:ee,e:b,position:W})},o.handleMouseDown=function(b){b.stopPropagation(),o.startTime=new Date().getTime()},o.handleMouseUp=function(b){if(o.startTime&&!(new Date().getTime()-o.startTime>200||b.button===2)){var E=b.detail===2,A=o.props,C=A.model,B=A.graphModel,W=A.eventCenter,ee=C==null?void 0:C.getData(),ne=B.getPointByClient({x:b.clientX,y:b.clientY});if(E){var oe=B.editConfig,pe=B.textEditElement;if(pe&&pe.id===C.id&&B.setElementStateById(C.id,Et.DEFAULT),oe.edgeTextEdit&&C.text.editable&&B.setElementStateById(C.id,Et.TEXT_EDIT),C.modelType===at.POLYLINE_EDGE){var le=C,Se=B.getPointByClient({x:b.x,y:b.y}).canvasOverlayPosition,he=Se.x,Re=Se.y,De=yl({x:he,y:Re},le.points);le.dbClickPosition=De}W.emit(ot.EDGE_DBCLICK,{data:ee,e:b,position:ne})}else W.emit(ot.ELEMENT_CLICK,{data:ee,e:b,position:ne}),W.emit(ot.EDGE_CLICK,{data:ee,e:b,position:ne});var Xe=B.editConfig.metaKeyMultipleSelected;B.selectEdgeById(C.id,b.metaKey&&Xe),o.toFront()}},o.getIsDraging=function(){return!1},o}return e=i,(n=[{key:"getAttributes",value:function(){var o=this.props.model,u=o.strokeWidth,l=o.strokeOpacity,d=o.strokeDashArray,b=o.isSelected,E=o.isHovered,A=o.hoverStroke,C=o.selectedStroke,B=o.properties,W=this.props.model.stroke;return E?W=A:b&&(W=C),{stroke:W,strokeWidth:u,strokeOpacity:l,strokeDashArray:d,isSelected:b,isHovered:E,hoverStroke:A,selectedStroke:C,properties:T0({},B)}}},{key:"getShape",value:function(){}},{key:"getTextStyle",value:function(){}},{key:"getText",value:function(){var o=this.props,u=o.model,l=o.graphModel;if(u.state===Et.TEXT_EDIT)return"";var d=l.theme.edgeText,b=this.getTextStyle(),E=Nt({},d,b),A=!1,C=l.editConfig;return(u.text.draggable||C.edgeTextDraggable)&&(A=!0),Object(q.g)(E0,{editable:C.edgeTextEdit&&u.text.editable,model:u,graphModel:l,style:E,draggable:A})}},{key:"getArrowInfo",value:function(){var o=this.props.model,u=o.startPoint,l=o.endPoint,d=o.isSelected;return{start:u,end:l,hover:this.state.hover,isSelected:d}}},{key:"getArrowStyle",value:function(){var o=this.getAttributes().stroke,u=this.props.graphModel.theme.arrow;return{stroke:o,strokeWidth:1,fill:o,offset:u.offset,verticalLength:u.verticalLength}}},{key:"getArrow",value:function(){var o=this.getArrowInfo(),u=o.start,l=o.end;if(u&&l&&(u.x!==l.x||u.y!==l.y)){var d=this.getArrowStyle();return Object(q.g)(Jd,{arrowInfo:o,style:d})}}},{key:"getAdjustPoints",value:function(){var o=this.props,u=o.model,l=o.graphModel,d=o.eventCenter,b=u.getAdjustStart(),E=u.getAdjustEnd();return Object(q.g)("g",null,Object(q.g)(ch,Xu({type:"SOURCE"},b,{edgeModel:u,graphModel:l,eventCenter:d})),Object(q.g)(ch,Xu({type:"TARGET"},E,{edgeModel:u,graphModel:l,eventCenter:d})))}},{key:"getAppendWidth",value:function(){return Object(q.g)("g",null)}},{key:"getAppend",value:function(){return Object(q.g)("g",{className:"lf-edge-append"},this.getAppendWidth())}},{key:"toFront",value:function(){var o=this.props,u=o.graphModel,l=o.model;u.overlapMode!==zn.INCREASE&&u.toFront(l.id)}},{key:"render",value:function(){var o=this.props,u=o.model.isSelected,l=o.graphModel.editConfig,d=this.getIsDraging(),b=l.adjustEdgeStartAndEnd;return Object(q.g)("g",{className:"lf-edge",onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onContextMenu:this.handleContextMenu,onMouseOver:this.setHoverON,onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getShape(),this.getAppend(),this.getText(),this.getArrow(),b&&u&&!d?this.getAdjustPoints():"")}}])&&N0(e.prototype,n),i}(q.a);function ph(t){return(ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function dh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dh(Object(n),!0).forEach(function(r){I0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dh(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function I0(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function L0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function z0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function yh(){return(yh=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=B0(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}}).apply(this,arguments)}function B0(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Lo(t))!==null;);return t}function vh(t,e){return(vh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function F0(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Lo(t);if(e){var i=Lo(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return U0(this,n)}}function U0(t,e){if(e&&(ph(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Lo(t){return(Lo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var Hu=function(t){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&vh(o,u)})(i,t);var e,n,r=F0(i);function i(){return L0(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getAttributes",value:function(){var o=this.props.model,u=o.startPoint,l=o.endPoint;return hh(hh({},yh(Lo(i.prototype),"getAttributes",this).call(this)),{},{startPoint:u,endPoint:l})}},{key:"getEdge",value:function(){var o=this.getAttributes(),u=o.stroke,l=o.startPoint,d=o.endPoint,b=o.strokeWidth,E=o.strokeOpacity,A=o.strokeDashArray;return Object(q.g)(Yr,{x1:l.x,y1:l.y,x2:d.x,y2:d.y,strokeOpacity:E,strokeWidth:b,stroke:u,strokeDasharray:A})}},{key:"getShape",value:function(){return Object(q.g)("g",null,this.getEdge())}},{key:"getAppendWidth",value:function(){var o=this.props.model,u=function(C){var B,W=C.start,ee=C.end;if(W.x===ee.x&&W.y===ee.y)B="";else{var ne={start:W,end:ee,offset:10,verticalLength:5},oe=wo(ki(ki({},ne),{},{type:"start"})),pe=wo(ki(ki({},ne),{},{type:"end"}));B="M".concat(oe.leftX," ").concat(oe.leftY,` 
    L`).concat(oe.rightX," ").concat(oe.rightY,` 
    L`).concat(pe.rightX," ").concat(pe.rightY,`
    L`).concat(pe.leftX," ").concat(pe.leftY," z")}return{d:B,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}({start:o.startPoint,end:o.endPoint}),l=u.d,d=u.strokeWidth,b=u.fill,E=u.strokeDasharray,A=u.stroke;return Object(q.g)(Ro,{d:l,fill:b,strokeWidth:d,stroke:A,strokeDasharray:E})}}])&&z0(e.prototype,n),i}(Io);function gh(t){return(gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function X0(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,b=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(E){b=!0,u=E}finally{try{d||i.return==null||i.return()}finally{if(b)throw u}}return l}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return bh(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return bh(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function bh(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var G0=function(t){var e={points:"",fill:"none"};return Object.entries(t).forEach(function(n){var r=X0(n,2),i=r[0],o=r[1];gh(o)!=="object"&&(e[i]=o)}),Object(q.g)("polyline",e)};function mh(t){return(mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function _h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_h(Object(n),!0).forEach(function(r){H0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_h(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function H0(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Y0(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,b=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(E){b=!0,u=E}finally{try{d||i.return==null||i.return()}finally{if(b)throw u}}return l}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Oh(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Oh(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Oh(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function V0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function wh(){return(wh=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=W0(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}}).apply(this,arguments)}function W0(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=zo(t))!==null;);return t}function xh(t,e){return(xh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function K0(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=zo(t);if(e){var i=zo(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z0(this,n)}}function Z0(t,e){if(e&&(mh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function zo(t){return(zo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var Yu=function(t){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&xh(o,u)})(i,t);var e,n,r=K0(i);function i(){var o;return function(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}(this,i),(o=r.call(this)).drag=void 0,o.isDraging=void 0,o.appendInfo=void 0,o.dragHandler=void 0,o.onDragStart=function(){o.props.model.dragAppendStart()},o.onDraging=function(u){var l=u.deltaX,d=u.deltaY,b=o.props,E=b.model,A=b.graphModel;o.isDraging=!0;var C=A.transformMatrix,B=A.editConfig,W=Y0(C.fixDeltaXY(l,d),2),ee=W[0],ne=W[1],oe=E,pe=B.adjustEdgeMiddle;o.appendInfo=pe?oe.dragAppendSimple(o.appendInfo,{x:ee,y:ne}):oe.dragAppend(o.appendInfo,{x:ee,y:ne})},o.onDragEnd=function(){var u=o.props,l=u.model,d=u.eventCenter,b=l;b.dragAppendEnd(),o.isDraging=!1,o.appendInfo=void 0,d.emit(ot.EDGE_ADJUST,{data:b.getData()})},o.beforeDragStart=function(u,l){l.dragAble&&o.dragHandler(u),o.appendInfo=l},o.getIsDraging=function(){return o.isDraging},o.drag=jo({onDragStart:o.onDragStart,onDraging:o.onDraging,onDragEnd:o.onDragEnd,isStopPropagation:!1}),o}return e=i,(n=[{key:"getAttributes",value:function(){var o=wh(zo(i.prototype),"getAttributes",this).call(this),u=this.props.model.points;return qr(qr({},o),{},{points:u})}},{key:"getEdge",value:function(){var o=this.getAttributes(),u=o.points,l=o.strokeWidth,d=o.stroke,b=o.strokeDashArray;return Object(q.g)(G0,{points:u,strokeWidth:l,stroke:d,strokeDasharray:b})}},{key:"getShape",value:function(){return Object(q.g)("g",null,this.getEdge())}},{key:"getArrowInfo",value:function(){var o=this.props.model,u=o.points,l=o.isSelected,d={start:null,end:null,hover:this.state.hover,isSelected:l},b=Xr(u);return b.length>=2&&(d.start=b[b.length-2],d.end=b[b.length-1]),d}},{key:"getAppendAttibutes",value:function(o){var u,l=o.start,d=o.end;if(l.x===d.x&&l.y===d.y)u="";else{var b={start:l,end:d,offset:10,verticalLength:5},E=wo(qr(qr({},b),{},{type:"start"})),A=wo(qr(qr({},b),{},{type:"end"}));u="M".concat(E.leftX," ").concat(E.leftY,` 
      L`).concat(E.rightX," ").concat(E.rightY,` 
      L`).concat(A.rightX," ").concat(A.rightY,`
      L`).concat(A.leftX," ").concat(A.leftY," z")}return{d:u,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}},{key:"getAppendShape",value:function(o){var u=this.getAppendAttibutes(o),l=u.d,d=u.strokeWidth,b=u.fill,E=u.strokeDasharray,A=u.stroke;return Object(q.g)(Ro,{d:l,fill:b,strokeWidth:d,stroke:A,strokeDasharray:E})}},{key:"getAppendWidth",value:function(){for(var o=this,u=this.props,l=u.model,d=u.graphModel,b=l.pointsList,E=l.draggable,A=[],C=b.length,B=function(ee){var ne="lf-polyline-append",oe={start:{x:b[ee].x,y:b[ee].y},end:{x:b[ee+1].x,y:b[ee+1].y},startIndex:ee,endIndex:ee+1,direction:"",dragAble:!0},pe=Object(q.g)("g",{className:ne},o.getAppendShape(oe)),le=d.editConfig,Se=le.adjustEdge,he=le.adjustEdgeMiddle;if(Se&&E){o.dragHandler=o.drag;var Re=oe.startIndex,De=oe.endIndex,Xe=he&&(Re===0||De===C-1);oe.dragAble=!Xe,oe.start.x===oe.end.x?(oe.dragAble&&(ne+="-ew-resize"),oe.direction=Tt.VERTICAL):oe.start.y===oe.end.y&&(oe.dragAble&&(ne+="-ns-resize"),oe.direction=Tt.HORIZONTAL),pe=Object(q.g)("g",{className:o.isDraging?"lf-dragging":"lf-drag-able",onMouseDown:function(dt){return o.beforeDragStart(dt,oe)}},Object(q.g)("g",{className:ne},o.getAppendShape(oe)))}else o.dragHandler=function(){};A.push(pe)},W=0;W<C-1;W++)B(W);return Object(q.g)("g",null,A)}}])&&V0(e.prototype,n),i}(Io);function Eh(t){return(Eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function q0(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,b=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(E){b=!0,u=E}finally{try{d||i.return==null||i.return()}finally{if(b)throw u}}return l}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return jh(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return jh(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function jh(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Sh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ph(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Sh(Object(n),!0).forEach(function(r){$0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Sh(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $0(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function J0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Q0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ah(){return(Ah=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=e_(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}}).apply(this,arguments)}function e_(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Bo(t))!==null;);return t}function kh(t,e){return(kh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function t_(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Bo(t);if(e){var i=Bo(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return n_(this,n)}}function n_(t,e){if(e&&(Eh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Bo(t){return(Bo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var Vu=function(t){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&kh(o,u)})(i,t);var e,n,r=t_(i);function i(){return J0(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getAttributes",value:function(){var o=Ah(Bo(i.prototype),"getAttributes",this).call(this),u=this.props.model.path;return Ph(Ph({},o),{},{path:u})}},{key:"getEdge",value:function(){var o=this.getAttributes(),u=o.path,l=o.strokeWidth,d=o.stroke,b=o.strokeDashArray;return Object(q.g)(Ro,{d:u,strokeWidth:l,stroke:d,fill:"none",strokeDasharray:b})}},{key:"getShape",value:function(){return Object(q.g)("g",null,this.getEdge())}},{key:"getAppendWidth",value:function(){var o=this.getAttributes().path;return Object(q.g)(Ro,{d:o,strokeWidth:10,stroke:"transparent",fill:"none"})}},{key:"getArrowInfo",value:function(){var o=this.props.model,u=this.state.hover,l=o,d=l.path,b=l.isSelected,E=q0(function(A){var C=Ri(A);return[C[2],C[3]]}(d),2);return{start:E[0],end:E[1],hover:u,isSelected:b}}}])&&Q0(e.prototype,n),i}(Io),Th=function(t,e){return h(t,e)},r_=function(t){var e=t==null?0:t.length;return e?t[e-1]:void 0},Wu=function(){return yt.a.Date.now()},o_=/\s/,i_=function(t){for(var e=t.length;e--&&o_.test(t.charAt(e)););return e},a_=/^\s+/,u_=function(t){return t&&t.slice(0,i_(t)+1).replace(a_,"")},c_=/^[-+]0x[0-9a-f]+$/i,s_=/^0b[01]+$/i,l_=/^0o[0-7]+$/i,f_=parseInt,Dh=function(t){if(typeof t=="number")return t;if(re(t))return NaN;if(Ct(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Ct(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=u_(t);var n=s_.test(t);return n||l_.test(t)?f_(t.slice(2),n?2:8):c_.test(t)?NaN:+t},p_=Math.max,d_=Math.min,h_=function(t,e,n){var r,i,o,u,l,d,b=0,E=!1,A=!1,C=!0;if(typeof t!="function")throw new TypeError("Expected a function");function B(le){var Se=r,he=i;return r=i=void 0,b=le,u=t.apply(he,Se)}function W(le){return b=le,l=setTimeout(ne,e),E?B(le):u}function ee(le){var Se=le-d;return d===void 0||Se>=e||Se<0||A&&le-b>=o}function ne(){var le=Wu();if(ee(le))return oe(le);l=setTimeout(ne,function(Se){var he=e-(Se-d);return A?d_(he,o-(Se-b)):he}(le))}function oe(le){return l=void 0,C&&r?B(le):(r=i=void 0,u)}function pe(){var le=Wu(),Se=ee(le);if(r=arguments,i=this,d=le,Se){if(l===void 0)return W(d);if(A)return clearTimeout(l),l=setTimeout(ne,e),B(d)}return l===void 0&&(l=setTimeout(ne,e)),u}return e=Dh(e)||0,Ct(n)&&(E=!!n.leading,o=(A="maxWait"in n)?p_(Dh(n.maxWait)||0,e):o,C="trailing"in n?!!n.trailing:C),pe.cancel=function(){l!==void 0&&clearTimeout(l),b=0,r=d=i=l=void 0},pe.flush=function(){return l===void 0?u:oe(Wu())},pe},y_=a(157);function v_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Mh,Nh,Ch,g_=function(){function t(r){(function(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")})(this,t),this.undos=[],this.redos=[],this.callbacks=[],this.stopWatch=null,this.curData=null,this.maxSize=50,this.waitTime=100,this.eventCenter=void 0,this.eventCenter=r}var e,n;return e=t,(n=[{key:"add",value:function(r){Th(r_(this.undos),r)||(this.undos.push(r),Th(this.curData,r)||(this.redos=[]),this.eventCenter.emit(ot.HISTORY_CHANGE,{data:{undos:this.undos,redos:this.redos,undoAble:this.undos.length>1,redoAble:this.redos.length>0}}),this.undos.length>this.maxSize&&this.undos.shift())}},{key:"undoAble",value:function(){return this.undos.length>1}},{key:"undo",value:function(){if(this.undoAble()){var r=this.undos.pop();this.redos.push(r);var i=this.undos.pop();return this.curData=Sa(i),i}}},{key:"redoAble",value:function(){return this.redos.length>0}},{key:"redo",value:function(){if(this.redoAble()){var r=this.redos.pop();return this.curData=Sa(r),r}}},{key:"watch",value:function(r){var i=this;this.stopWatch&&this.stopWatch(),this.undos.push(r.modelToGraphData()),this.stopWatch=Object(y_.a)(r,h_(function(){var o=r.modelToGraphData();i.add(o)},this.waitTime))}}])&&v_(e.prototype,n),t}();function Rh(t){return(Rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function b_(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,b=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(E){b=!0,u=E}finally{try{d||i.return==null||i.return()}finally{if(b)throw u}}return l}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Ih(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Ih(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ih(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Lh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $r(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Lh(Object(n),!0).forEach(function(r){m_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Lh(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function m_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Bh(t,e){return(Bh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function __(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Ku(t);if(e){var i=Ku(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return O_(this,n)}}function O_(t,e){if(e&&(Rh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Ku(t){return(Ku=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var Fh,Uh,Xh,Zu=Pn((Ch=Nh=function(t){(function(u,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),l&&Bh(u,l)})(o,t);var e,n,r,i=__(o);function o(){var u;return function(l,d){if(!(l instanceof d))throw new TypeError("Cannot call a class as a function")}(this,o),(u=i.call(this)).ref=Object(q.f)(),u.__prevText={type:"",text:"",id:""},u.keyupHandler=function(l){var d=l.target.innerText,b=u.props.graphModel.textEditElement;l.keyCode===13&&l.altKey&&b.setElementState(0),u.__prevText={type:b.type,text:d,id:b.id}},u.state={style:{left:0,top:0}},u}return e=o,r=[{key:"getDerivedStateFromProps",value:function(u){var l,d=u.graphModel,b=d.transformMatrix,E=d.theme,A=d.textEditElement;if(A){var C;if((C=A.text)===null||C===void 0||!C.value)if(A.BaseType===Bt.EDGE){var B=(A=A).text,W=A.textPosition,ee=W.x,ne=W.y;B.x=ee,B.y=ne,A.setText(B)}else A=A;var oe={resize:"auto",whiteSpace:"normal",wordBreak:"break-all"};if(A.BaseType===Bt.EDGE){var pe=E.edgeText,le=pe.autoWrap,Se=pe.lineHeight,he=pe.wrapPadding,Re=A.textWidth;le&&Re&&(l=$r($r({},oe),{},{width:Re,minWidth:Re,lineHeight:Se,padding:he}))}else if(A.BaseType===Bt.NODE){var De=E.nodeText,Xe=De.autoWrap,dt=De.lineHeight,jt=De.wrapPadding,nn=A,An=nn.width,yn=nn.textWidth,Fo=nn.modelType;(Fo!==at.TEXT_NODE&&Xe||Fo===at.TEXT_NODE&&Xe&&yn)&&(l=$r($r({},oe),{},{width:yn||An,minWidth:yn||An,lineHeight:dt,padding:jt}))}var Uo=A.text,Vi=Uo.x,ec=Uo.y,Wi=b_(b.CanvasPointToHtmlPoint([Vi,ec]),2);return{style:$r({left:Wi[0],top:Wi[1]},l)}}}}],(n=[{key:"componentDidMount",value:function(){this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current));var u=this.props.graphModel,l=u.eventCenter,d=u.editConfig,b=d.edgeTextEdit,E=d.nodeTextEdit;(b||E)&&l.on(ot.GRAPH_TRANSFORM,function(){u.textEditElement&&u.textEditElement.setElementState(Et.DEFAULT)})}},{key:"componentDidUpdate",value:function(){var u=this.props.graphModel;if(this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current)),this.__prevText.id!==""){var l=this.__prevText,d=l.text,b=l.id;u.setElementTextById(b,d),u.eventCenter.emit(ot.TEXT_UPDATE,$r({},this.__prevText)),this.__prevText.id="",this.__prevText.text="",this.__prevText.type=""}}},{key:"placeCaretAtEnd",value:function(u){if(window.getSelection!==void 0&&document.createRange!==void 0){var l=document.createRange();l.selectNodeContents(u),l.collapse(!1);var d=window.getSelection();d.removeAllRanges(),d.addRange(l)}}},{key:"render",value:function(){var u,l=this.props.graphModel.textEditElement,d=this.state.style;return l?Object(q.g)("div",{contentEditable:!0,className:"lf-text-input",style:d,ref:this.ref,key:l.id,onKeyUp:this.keyupHandler},(u=l.text)===null||u===void 0?void 0:u.value):null}}])&&zh(e.prototype,n),r&&zh(e,r),o}(q.a),Nh.toolName="textEdit",Mh=Ch))||Mh,w_=function(t){return t.modelType===at.LINE_EDGE?function(e){var n=e.startPoint,r=e.endPoint,i=(n.x+r.x)/2,o=(n.y+r.y)/2,u=Math.abs(n.x-r.x)+10,l=Math.abs(n.y-r.y)+10;return{x:i-u/2,y:o-l/2,x1:i+u/2,y1:o+l/2}}(t):t.modelType===at.POLYLINE_EDGE?function(e){var n=e.points,r=Xr(n),i=xo(r,8),o=i.x,u=i.y,l=i.width,d=i.height;return{x:o-l/2,y:u-d/2,x1:o+l/2,y1:u+d/2}}(t):t.modelType===at.BEZIER_EDGE?function(e){var n=e.path,r=Ri(n),i=xo(r,8),o=i.x,u=i.y,l=i.width,d=i.height;return{x:o-l/2,y:u-d/2,x1:o+l/2,y1:u+d/2}}(t):void 0};function Gh(t){return(Gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Hh(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,b=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(E){b=!0,u=E}finally{try{d||i.return==null||i.return()}finally{if(b)throw u}}return l}}(t,e)||Yh(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function x_(t){return function(e){if(Array.isArray(e))return qu(e)}(t)||function(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||Yh(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Yh(t,e){if(t){if(typeof t=="string")return qu(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qu(t,e):void 0}}function qu(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function E_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Vh(t,e){return(Vh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function j_(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=$u(t);if(e){var i=$u(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return S_(this,n)}}function S_(t,e){if(e&&(Gh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function $u(t){return($u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var Ju=Pn((Xh=Uh=function(t){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Vh(o,u)})(i,t);var e,n,r=j_(i);function i(o){var u;(function(b,E){if(!(b instanceof E))throw new TypeError("Cannot call a class as a function")})(this,i),(u=r.call(this)).stepDrag=void 0,u.handleMouseDown=function(b){u.stepDrag.handleMouseDown(b)},u.onDraging=function(b){var E=b.deltaX,A=b.deltaY,C=u.props.graphModel;C.moveElements(C.getSelectElements(!0),E,A)},u.handleContextMenu=function(b){b.preventDefault();var E=u.props,A=E.graphModel,C=E.graphModel,B=C.eventCenter,W=C.selectElements,ee=A.getPointByClient({x:b.clientX,y:b.clientY}),ne={nodes:[],edges:[]};x_(W.values()).forEach(function(oe){oe.BaseType===Bt.NODE&&ne.nodes.push(oe.getData()),oe.BaseType===Bt.EDGE&&ne.edges.push(oe.getData())}),B.emit(ot.SELECTION_CONTEXTMENU,{data:ne,e:b,position:ee})};var l=o.graphModel.gridSize,d=o.eventCenter;return u.stepDrag=new So({onDraging:u.onDraging,step:l,eventType:"multiple:select",eventCenter:d}),u}return e=i,(n=[{key:"render",value:function(){var o=this.props.graphModel,u=o.selectElements,l=o.transformMatrix;if(!(u.size<=1)){var d=Number.MAX_SAFE_INTEGER,b=Number.MAX_SAFE_INTEGER,E=Number.MIN_SAFE_INTEGER,A=Number.MIN_SAFE_INTEGER;u.forEach(function(ee){var ne={x:0,y:0,x1:0,y1:0};ee.BaseType===Bt.NODE&&(ne=function(oe){var pe=oe.x,le=oe.y,Se=oe.width,he=oe.height;return{x:pe-Se/2,y:le-he/2,x1:pe+Se/2,y1:le+he/2}}(ee)),ee.BaseType===Bt.EDGE&&(ne=w_(ee)),d=Math.min(d,ne.x),b=Math.min(b,ne.y),E=Math.max(E,ne.x1),A=Math.max(A,ne.y1)});var C=Hh(l.CanvasPointToHtmlPoint([d,b]),2);d=C[0],b=C[1];var B=Hh(l.CanvasPointToHtmlPoint([E,A]),2);E=B[0],A=B[1];var W={left:"".concat(d-10,"px"),top:"".concat(b-10,"px"),width:"".concat(E-d+20,"px"),height:"".concat(A-b+20,"px")};return Object(q.g)("div",{className:"lf-multiple-select",style:W,onMouseDown:this.handleMouseDown,onContextMenu:this.handleContextMenu})}}}])&&E_(e.prototype,n),i}(q.a),Uh.toolName="multipleSelect",Fh=Xh))||Fh;function P_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var A_=function(){function t(r){(function(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")})(this,t),this.tools=void 0,this.components=void 0,this.toolMap=new Map,this.instance=void 0,this.instance=r,this.isDisabledTool(Zu.toolName)||this.registerTool(Zu.toolName,Zu),this.isDisabledTool(Ju.toolName)||this.registerTool(Ju.toolName,Ju)}var e,n;return e=t,(n=[{key:"isDisabledTool",value:function(r){return this.instance.options.disabledTools.indexOf(r)!==-1}},{key:"registerTool",value:function(r,i){this.toolMap.set(r,i)}},{key:"getTools",value:function(){return Array.from(this.toolMap.values())}},{key:"getInstance",value:function(){return this.instance}}])&&P_(e.prototype,n),t}();a(202);function k_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var T_=function(){function t(){(function(r,i){if(!(r instanceof i))throw new TypeError("Cannot call a class as a function")})(this,t),this._events={}}var e,n;return e=t,(n=[{key:"on",value:function(r,i,o){var u=this;return r.split(",").forEach(function(l){l=l.trim(),u._events[l]||(u._events[l]=[]),u._events[l].push({callback:i,once:!!o})}),this}},{key:"once",value:function(r,i){var o=this;r.split(",").forEach(function(u){return u=u.trim(),o.on(u,i,!0)})}},{key:"emit",value:function(r,i){var o=this;r.split(",").forEach(function(u){var l=o._events[u]||[],d=o._events["*"]||[],b=function(E){for(var A=E.length,C=0;C<A;C++)if(E[C]){var B=E[C],W=B.callback;B.once&&(E.splice(C,1),E.length===0&&delete o._events[u],A--,C--),W.apply(o,[i])}};b(l),b(d)})}},{key:"off",value:function(r,i){var o=this;return r||(this._events={}),r.split(",").forEach(function(u){if(i){for(var l=o._events[u]||[],d=l.length,b=0;b<d;b++)l[b].callback===i&&(l.splice(b,1),d--,b--);l.length===0&&delete o._events[u]}else delete o._events[u]}),this}},{key:"getEvents",value:function(){return this._events}}])&&k_(e.prototype,n),t}(),D_=a(158),M_=a.n(D_);function N_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Wh=function(){function t(r){(function(o,u){if(!(o instanceof u))throw new TypeError("Cannot call a class as a function")})(this,t),this.mousetrap=void 0,this.options=void 0,this.target=void 0,r.keyboard||(r.keyboard={enabled:!1}),this.options=r;var i=r.lf;this.target=i.container,this.mousetrap=new M_.a(this.target),r.keyboard.enabled&&this.enable(!0)}var e,n;return e=t,(n=[{key:"initShortcuts",value:function(){var r=this,i=this.options.keyboard.shortcuts;if(i)if(Jt(i))i.forEach(function(d){var b=d.keys,E=d.callback,A=d.action;return r.on(b,E,A)});else{var o=i.keys,u=i.callback,l=i.action;this.on(o,u,l)}}},{key:"on",value:function(r,i,o){this.mousetrap.bind(this.getKeys(r),i,o)}},{key:"disabled",get:function(){return this.options.keyboard.enabled!==!0}},{key:"off",value:function(r,i){this.mousetrap.unbind(this.getKeys(r),i)}},{key:"enable",value:function(r){(this.disabled||r)&&(this.options.keyboard.enabled=!0,this.target instanceof HTMLElement&&(this.target.setAttribute("tabindex","-1"),this.target.style.outline="none"))}},{key:"disable",value:function(){this.disabled||(this.options.keyboard.enabled=!1,this.target instanceof HTMLElement&&this.target.removeAttribute("tabindex"))}},{key:"getKeys",value:function(r){var i=this;return(Array.isArray(r)?r:[r]).map(function(o){return i.formatkey(o)})}},{key:"formatkey",value:function(r){return r.toLowerCase().replace(/\s/g,"").replace("delete","del").replace("cmd","command")}}])&&N_(e.prototype,n),t}(),C_=Wh,$n=null;function Kh(t,e){return t.x+=e,t.y+=e,t.text&&(t.text.x+=e,t.text.y+=e),t}function Zh(t,e){return t.startPoint&&(t.startPoint.x+=e,t.startPoint.y+=e),t.endPoint&&(t.endPoint.x+=e,t.endPoint.y+=e),t.pointsList&&t.pointsList.length>0&&t.pointsList.forEach(function(n){n.x+=e,n.y+=e}),t.text&&(t.text.x+=e,t.text.y+=e),t}function qh(t){return(qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function $h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$h(Object(n),!0).forEach(function(r){R_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$h(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function R_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Qu=function(){function t(i){var o=this;(function(ee,ne){if(!(ee instanceof ne))throw new TypeError("Cannot call a class as a function")})(this,t),this.container=void 0,this.width=void 0,this.height=void 0,this.graphModel=void 0,this.history=void 0,this.viewMap=new Map,this.tool=void 0,this.keyboard=void 0,this.dnd=void 0,this.options=void 0,this.getSnapshot=void 0,this.eventCenter=void 0,this.snaplineModel=void 0,this.components=[],this.adapterIn=void 0,this.adapterOut=void 0,this.getView=function(ee){return o.viewMap.get(ee)};var u,l,d=i.container,b=i.width,E=i.height,A=i.dndOptions,C=i.keyboard,B=i.isSilentMode,W=i.snapline;this.options=kf(i),this.container=d,this.width=b||d.getBoundingClientRect().width,this.height=E||d.getBoundingClientRect().height,this.tool=new A_(this),this.eventCenter=new T_,this.history=new g_(this.eventCenter),this.dnd=new Cb({options:A,lf:this}),this.keyboard=new C_({lf:this,keyboard:C}),this.graphModel=new Xg(Jh(Jh({},this.options),{},{eventCenter:this.eventCenter,rootEl:this.container,width:this.width,height:this.height})),B||W===!1||(this.snaplineModel=new td(this.graphModel),u=this.eventCenter,l=this.snaplineModel,u.on("node:mousemove",function(ee){var ne=ee.data;l.setNodeSnapLine(ne)}),u.on("node:mouseup",function(){l.clearSnapline()})),function(ee,ne){var oe=ee.keyboard,pe=oe.options.keyboard;oe.on(["cmd + c","ctrl + c"],function(){if(pe.enabled&&!ne.textEditElement){var le=ee.options.guards,Se=ne.getSelectElements(!1);return le&&le.beforeClone&&!le.beforeClone(Se)?($n=null,!1):(($n=Se).nodes.forEach(function(he){return Kh(he,40)}),$n.edges.forEach(function(he){return Zh(he,40)}),!1)}}),oe.on(["cmd + v","ctrl + v"],function(){if(pe.enabled&&!ne.textEditElement){if($n&&($n.nodes||$n.edges)){ee.clearSelectElements();var le=ee.addElements($n);if(!le)return;le.nodes.forEach(function(Se){return ee.select(Se.id,!0)}),le.edges.forEach(function(Se){return ee.select(Se.id,!0)}),$n.nodes.forEach(function(Se){return Kh(Se,40)}),$n.edges.forEach(function(Se){return Zh(Se,40)})}return!1}}),oe.on(["cmd + z","ctrl + z"],function(){if(pe.enabled&&!ne.textEditElement)return ee.undo(),!1}),oe.on(["cmd + y","ctrl + y"],function(){if(pe.enabled&&!ne.textEditElement)return ee.redo(),!1}),oe.on(["backspace"],function(){if(pe.enabled&&!ne.textEditElement){var le=ne.getSelectElements(!0);return ee.clearSelectElements(),le.edges.forEach(function(Se){return ee.deleteEdge(Se.id)}),le.nodes.forEach(function(Se){return ee.deleteNode(Se.id)}),!1}})}(this,this.graphModel),this.keyboard.initShortcuts(),this.defaultRegister(),this.installPlugins(i.disabledPlugins)}var e,n,r;return e=t,r=[{key:"use",value:function(i){var o=i.pluginName;o||(console.warn("\u8BF7\u7ED9\u63D2\u4EF6".concat(i.name||i.constructor.name,"\u6307\u5B9ApluginName!")),o=i.name);var u=this.extensions.get(o);u&&u.destroy&&u.destroy(),this.extensions.set(o,i)}}],(n=[{key:"on",value:function(i,o){this.eventCenter.on(i,o)}},{key:"off",value:function(i,o){this.eventCenter.off(i,o)}},{key:"once",value:function(i,o){this.eventCenter.once(i,o)}},{key:"emit",value:function(i,o){this.eventCenter.emit(i,o)}},{key:"installPlugins",value:function(){var i=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];t.extensions.forEach(function(u){var l=u.pluginName||u.name;o.indexOf(l)===-1&&i.__installPlugin(u)})}},{key:"__installPlugin",value:function(i){if(qh(i)==="object"){var o=i.install,u=i.render;return o&&o.call(i,this,t),void(u&&this.components.push(u.bind(i)))}var l=new i({lf:this,LogicFlow:t});l.render&&this.components.push(l.render.bind(l))}},{key:"register",value:function(i,o){var u=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(typeof i=="string"){var l={BaseEdge:Io,BaseEdgeModel:Ia,BaseNode:Zn,BaseNodeModel:Kn,RectNode:Pu,RectNodeModel:yu,CircleNode:ku,CircleNodeModel:ou,PolygonNode:Du,PolygonNodeModel:du,TextNode:Iu,TextNodeModel:bu,LineEdge:Hu,LineEdgeModel:Ba,DiamondNode:Nu,DiamondNodeModel:uu,PolylineEdge:Yu,PolylineEdgeModel:Fa,BezierEdge:Vu,BezierEdgeModel:nu,EllipseNode:Cu,EllipseNodeModel:lu,HtmlNode:zu,HtmlNodeModel:_u,h:q.g,type:i};this.viewMap.forEach(function(C){var B=C.extendKey;B&&(l[B]=C)}),this.graphModel.modelMap.forEach(function(C){var B=C.extendKey;B&&(l[B]=C)});var d=o(l),b=d.view,E=d.model,A=b;u&&!A.isObervered&&(A.isObervered=!0,A=de(A)),this.setView(i,A),this.graphModel.setModel(i,E)}else this._registerElement(i)}},{key:"_registerElement",value:function(i){var o=i.view;i.isObserverView===!1||o.isObervered||(o.isObervered=!0,o=de(o)),this.setView(i.type,o),this.graphModel.setModel(i.type,i.model)}},{key:"defaultRegister",value:function(){this._registerElement({view:Pu,model:yu,type:"rect"}),this._registerElement({type:"circle",view:ku,model:ou}),this._registerElement({type:"polygon",view:Du,model:du}),this._registerElement({type:"line",view:Hu,model:Ba}),this._registerElement({type:"polyline",view:Yu,model:Fa}),this._registerElement({type:"bezier",view:Vu,model:nu}),this._registerElement({type:"text",view:Iu,model:bu}),this._registerElement({type:"ellipse",view:Cu,model:lu}),this._registerElement({type:"diamond",view:Nu,model:uu}),this._registerElement({type:"html",view:zu,model:_u})}},{key:"undo",value:function(){if(this.history.undoAble()){var i=mn(this.history.undo());this.clearSelectElements(),this.graphModel.graphDataToModel(i)}}},{key:"redo",value:function(){if(this.history.redoAble()){var i=mn(this.history.redo());this.clearSelectElements(),this.graphModel.graphDataToModel(i)}}},{key:"zoom",value:function(i,o){var u=this.graphModel.transformMatrix;return u.zoom(i,o),"".concat(100*u.SCALE_X,"%")}},{key:"resetZoom",value:function(){this.graphModel.transformMatrix.resetZoom()}},{key:"setZoomMiniSize",value:function(i){this.graphModel.transformMatrix.setZoomMiniSize(i)}},{key:"setZoomMaxSize",value:function(i){this.graphModel.transformMatrix.setZoomMaxSize(i)}},{key:"getTransform",value:function(){var i=this.graphModel.transformMatrix;return{SCALE_X:i.SCALE_X,SCALE_Y:i.SCALE_Y,TRANSLATE_X:i.TRANSLATE_X,TRANSLATE_Y:i.TRANSLATE_Y}}},{key:"translate",value:function(i,o){this.graphModel.transformMatrix.translate(i,o)}},{key:"resetTranslate",value:function(){var i=this.graphModel.transformMatrix,o=i.TRANSLATE_X,u=i.TRANSLATE_Y;this.translate(-o,-u)}},{key:"select",value:function(i){var o=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.graphModel.selectElementById(i,o)}},{key:"focusOn",value:function(i){var o=this.graphModel.transformMatrix,u=i.coordinate,l=i.id;if(!u){var d=this.getNodeModel(l);d&&(u=d.getData());var b=this.getEdgeModelById(l);b&&(u=b.textPosition)}var E=u,A=E.x,C=E.y;o.focusOn(A,C,this.width,this.height)}},{key:"setTheme",value:function(i){this.graphModel.setTheme(i)}},{key:"setDefaultEdgeType",value:function(i){this.options.edgeType=i,this.graphModel.changeEdgeType(i)}},{key:"updateText",value:function(i,o){this.graphModel.setElementTextById(i,o)}},{key:"deleteElement",value:function(i){return this.graphModel.getNodeModel(i)?this.deleteNode(i):!!this.graphModel.getEdgeModel(i)&&this.deleteEdge(i)}},{key:"changeNodeType",value:function(i,o){this.graphModel.changeNodeType(i,o)}},{key:"getNodeEdges",value:function(i){return this.graphModel.getNodeEdges(i)}},{key:"addNode",value:function(i){return this.graphModel.addNode(i)}},{key:"deleteNode",value:function(i){var o=this.graphModel.getNodeModel(i);if(!o)return!1;var u=o.getData(),l=this.options.guards,d=!l||!l.beforeDelete||l.beforeDelete(u);return d&&this.graphModel.deleteNode(i),d}},{key:"editNodeText",value:function(i){this.graphModel.setTextEditable(i)}},{key:"cloneNode",value:function(i){var o=this.graphModel.getNodeModel(i).getData(),u=this.options.guards;if(!u||!u.beforeClone||u.beforeClone(o))return this.graphModel.cloneNode(i)}},{key:"createEdge",value:function(i){this.graphModel.createEdge(i)}},{key:"deleteEdge",value:function(i){var o=this.options.guards,u=this.graphModel.edgesMap[i];if(!u)return!1;var l=u.model.getData(),d=!o||!o.beforeDelete||o.beforeDelete(l);return d&&this.graphModel.removeEdgeById(i),d}},{key:"removeEdge",value:function(i){var o=i.sourceNodeId,u=i.targetNodeId;o&&u?this.graphModel.removeEdge(o,u):o?this.graphModel.removeEdgeBySource(o):u&&this.graphModel.removeEdgeByTarget(u)}},{key:"getNodeModel",value:function(i){return this.graphModel.getNodeModel(i)}},{key:"getNodeData",value:function(i){return this.graphModel.getNodeModel(i).getData()}},{key:"setNodeData",value:function(i){var o=i.id;this.graphModel.getNodeModel(o).updateData(i)}},{key:"getEdgeModel",value:function(i){return this.getEdge(i)}},{key:"getEdgeModelById",value:function(i){var o;return(o=this.graphModel.edgesMap[i])===null||o===void 0?void 0:o.model}},{key:"getEdge",value:function(i){var o=this.graphModel,u=o.edges,l=o.edgesMap,d=i.id,b=i.sourceNodeId,E=i.targetNodeId;if(d)return l[d]?[l[d].model]:void console.warn("\u4E0D\u5B58\u5728id\u4E3A".concat(d,"\u7684\u8FB9"));if(b&&E){var A=[];return u.forEach(function(W){W.sourceNodeId===b&&W.targetNodeId===E&&A.push(W)}),A}if(b){var C=[];return u.forEach(function(W){W.sourceNodeId===b&&C.push(W)}),C}if(E){var B=[];return u.forEach(function(W){W.targetNodeId===E&&B.push(W)}),B}return[]}},{key:"getEdgeData",value:function(i){var o;return(o=this.getEdgeModelById(i))===null||o===void 0?void 0:o.getData()}},{key:"setEdgeData",value:function(i){var o,u=i.id;return(o=this.getEdgeModelById(u))===null||o===void 0?void 0:o.updateData(i)}},{key:"getGraphData",value:function(){var i=this.graphModel.modelToGraphData();return this.adapterOut?this.adapterOut(i):i}},{key:"getGraphRawData",value:function(){return this.graphModel.modelToGraphData()}},{key:"setProperties",value:function(i,o){var u;(u=this.graphModel.getElement(i))===null||u===void 0||u.setProperties(mn(o))}},{key:"getProperties",value:function(i){var o;return(o=this.graphModel.getElement(i))===null||o===void 0?void 0:o.getProperties()}},{key:"changeNodeId",value:function(i,o){return this.graphModel.changeNodeId(i,o)}},{key:"changeEdgeId",value:function(i,o){return this.graphModel.changeEdgeId(i,o)}},{key:"updateEditConfig",value:function(i){this.graphModel.editConfig.updateEditConfig(i)}},{key:"getEditConfig",value:function(){return this.graphModel.editConfig.getConfig()}},{key:"getPointByClient",value:function(i,o){return this.graphModel.getPointByClient({x:i,y:o})}},{key:"getSelectElements",value:function(){var i=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return this.graphModel.getSelectElements(i)}},{key:"updateAttributes",value:function(i,o){this.graphModel.updateAttributes(i,o)}},{key:"clearData",value:function(){this.graphModel.clearData()}},{key:"setElementZIndex",value:function(i,o){return this.graphModel.setElementZIndex(i,o)}},{key:"addElements",value:function(i){for(var o=this,u=i.nodes,l=i.edges,d={},b={nodes:[],edges:[]},E=0;E<u.length;E++){var A=u[E],C=A.id,B=this.addNode(A);if(!B)return;C&&(d[C]=B.id),b.nodes.push(B)}return l.forEach(function(W){var ee=W.sourceNodeId,ne=W.targetNodeId;d[ee]&&(W.sourceNodeId=d[ee]),d[ne]&&(W.targetNodeId=d[ne]);var oe=o.graphModel.createEdge(W);b.edges.push(oe)}),b}},{key:"clearSelectElements",value:function(){this.graphModel.clearSelectElements()}},{key:"createFakerNode",value:function(i){var o=this.graphModel.modelMap.get(i.type);if(o){var u=new o(i,this.graphModel);return this.graphModel.setFakerNode(u),u}console.warn("\u4E0D\u5B58\u5728\u4E3A".concat(i.type,"\u7C7B\u578B\u7684\u8282\u70B9"))}},{key:"removeFakerNode",value:function(){this.graphModel.removeFakerNode()}},{key:"setNodeSnapLine",value:function(i){this.snaplineModel&&this.snaplineModel.setNodeSnapLine(i)}},{key:"getAreaElement",value:function(i,o){return this.graphModel.getAreaElement(i,o).map(function(u){return u.getData()})}},{key:"removeNodeSnapLine",value:function(){this.snaplineModel&&this.snaplineModel.clearSnapline()}},{key:"setView",value:function(i,o){this.viewMap.set(i,o)}},{key:"render",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.adapterIn&&(i=this.adapterIn(i)),this.graphModel.graphDataToModel(mn(i)),this.options.isSilentMode||this.options.history===!1||this.history.watch(this.graphModel),Object(q.j)(Object(q.g)(Db,{eventCenter:this.eventCenter,getView:this.getView,tool:this.tool,options:this.options,dnd:this.dnd,snaplineModel:this.snaplineModel,graphModel:this.graphModel}),this.container)}}])&&Qh(e.prototype,n),r&&Qh(e,r),t}();function Pn(t){return de(t)}Qu.extensions=new Map,f.default=Qu}])})})(Ze,Ze.exports);var Jr=iO(Ze.exports),mO=new cy([32,32,1]);function Qr(){return mO.next()}var ly=globalThis&&globalThis.__extends||function(){var v=function(y,c){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,a){f.__proto__=a}||function(f,a){for(var p in a)a.hasOwnProperty(p)&&(f[p]=a[p])},v(y,c)};return function(y,c){v(y,c);function f(){this.constructor=y}y.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}(),uc=globalThis&&globalThis.__assign||function(){return uc=Object.assign||function(v){for(var y,c=1,f=arguments.length;c<f;c++){y=arguments[c];for(var a in y)Object.prototype.hasOwnProperty.call(y,a)&&(v[a]=y[a])}return v},uc.apply(this,arguments)},_O=function(v){ly(y,v);function y(c,f){var a=this;return c.id||(c.id="Event_"+Qr()),c.text||(c.text=""),c.text&&typeof c.text=="string"&&(c.text={value:c.text,x:c.x,y:c.y+40}),a=v.call(this,c,f)||this,a}return y.prototype.getConnectedTargetRules=function(){var c=v.prototype.getConnectedTargetRules.call(this),f={message:"\u8D77\u59CB\u8282\u70B9\u4E0D\u80FD\u4F5C\u4E3A\u8FDE\u7EBF\u7684\u7EC8\u70B9",validate:function(){return!1}};return c.push(f),c},y.extendKey="StartEventModel",y}(Ze.exports.CircleNodeModel),OO=function(v){ly(y,v);function y(){return v!==null&&v.apply(this,arguments)||this}return y.prototype.getAttributes=function(){var c=v.prototype.getAttributes.call(this);return uc({},c)},y.extendKey="StartEventNode",y}(Ze.exports.CircleNode),wO={type:"bpmn:startEvent",view:OO,model:_O},fy=globalThis&&globalThis.__extends||function(){var v=function(y,c){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,a){f.__proto__=a}||function(f,a){for(var p in a)a.hasOwnProperty(p)&&(f[p]=a[p])},v(y,c)};return function(y,c){v(y,c);function f(){this.constructor=y}y.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}(),xO=function(v){fy(y,v);function y(c,f){var a=this;return c.id||(c.id="Event_"+Qr()),c.text||(c.text=""),c.text&&typeof c.text=="string"&&(c.text={value:c.text,x:c.x,y:c.y+40}),a=v.call(this,c,f)||this,a}return y.prototype.getConnectedSourceRules=function(){var c=v.prototype.getConnectedSourceRules.call(this),f={message:"\u7ED3\u675F\u8282\u70B9\u4E0D\u80FD\u4F5C\u4E3A\u8FDE\u7EBF\u7684\u8D77\u70B9",validate:function(){return!1}};return c.push(f),c},y.extendKey="EndEventModel",y}(Ze.exports.CircleNodeModel),EO=function(v){fy(y,v);function y(){return v!==null&&v.apply(this,arguments)||this}return y.prototype.getAnchorStyle=function(){return{visibility:"hidden"}},y.prototype.getShape=function(){var c=this.getAttributes(),f=c.x,a=c.y,p=c.fill,s=c.stroke,m=c.strokeWidth,_=c.r,w=v.prototype.getShape.call(this);return Ze.exports.h("g",{},w,Ze.exports.h("circle",{cx:f,cy:a,fill:p,stroke:s,strokeWidth:m,r:_-5}))},y.extendKey="EndEventView",y}(Ze.exports.CircleNode),jO={type:"bpmn:endEvent",view:EO,model:xO},py=globalThis&&globalThis.__extends||function(){var v=function(y,c){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,a){f.__proto__=a}||function(f,a){for(var p in a)a.hasOwnProperty(p)&&(f[p]=a[p])},v(y,c)};return function(y,c){v(y,c);function f(){this.constructor=y}y.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}(),SO=function(v){py(y,v);function y(c,f){var a=this;return c.id||(c.id="Gateway_"+Qr()),c.text||(c.text=""),c.text&&typeof c.text=="string"&&(c.text={value:c.text,x:c.x,y:c.y+40}),a=v.call(this,c,f)||this,a.points=[[25,0],[50,25],[25,50],[0,25]],a}return y.extendKey="ExclusiveGatewayModel",y}(Ze.exports.PolygonNodeModel),PO=function(v){py(y,v);function y(){return v!==null&&v.apply(this,arguments)||this}return y.prototype.getShape=function(){var c=v.prototype.getAttributes.call(this),f=c.x,a=c.y,p=c.fill,s=c.stroke,m=c.strokeWidth,_=c.width,w=c.height,O=c.points;return Ze.exports.h("g",{transform:"matrix(1 0 0 1 "+(f-_/2)+" "+(a-w/2)+")"},Ze.exports.h("polygon",{fill:p,x:f,y:a,stroke:s,strokeWidth:m,points:O}),Ze.exports.h("path",{fill:p,stroke:s,strokeWidth:m,d:"m 16,15 7.42857142857143,9.714285714285715 -7.42857142857143,9.714285714285715 3.428571428571429,0 5.714285714285715,-7.464228571428572 5.714285714285715,7.464228571428572 3.428571428571429,0 -7.42857142857143,-9.714285714285715 7.42857142857143,-9.714285714285715 -3.428571428571429,0 -5.714285714285715,7.464228571428572 -5.714285714285715,-7.464228571428572 -3.428571428571429,0 z"}))},y.extendKey="ExclusiveGatewayNode",y}(Ze.exports.PolygonNode),AO={type:"bpmn:exclusiveGateway",view:PO,model:SO},dy=globalThis&&globalThis.__extends||function(){var v=function(y,c){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,a){f.__proto__=a}||function(f,a){for(var p in a)a.hasOwnProperty(p)&&(f[p]=a[p])},v(y,c)};return function(y,c){v(y,c);function f(){this.constructor=y}y.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}(),kO=function(v){dy(y,v);function y(c,f){var a=this;return c.id||(c.id="Activity_"+Qr()),a=v.call(this,c,f)||this,a}return y.extendKey="UserTaskModel",y}(Ze.exports.RectNodeModel),TO=function(v){dy(y,v);function y(){return v!==null&&v.apply(this,arguments)||this}return y.prototype.getLabelShape=function(){var c=v.prototype.getAttributes.call(this),f=c.x,a=c.y,p=c.width,s=c.height,m=c.stroke;return Ze.exports.h("svg",{x:f-p/2+5,y:a-s/2+5,width:25,height:25,viewBox:"0 0 1274 1024"},Ze.exports.h("path",{fill:m,d:"M655.807326 287.35973m-223.989415 0a218.879 218.879 0 1 0 447.978829 0 218.879 218.879 0 1 0-447.978829 0ZM1039.955839 895.482975c-0.490184-212.177424-172.287821-384.030443-384.148513-384.030443-211.862739 0-383.660376 171.85302-384.15056 384.030443L1039.955839 895.482975z"}))},y.prototype.getShape=function(){var c=v.prototype.getAttributes.call(this),f=c.x,a=c.y,p=c.width,s=c.height,m=c.fill,_=c.stroke,w=c.strokeWidth,O=c.radius;return Ze.exports.h("g",{},[Ze.exports.h("rect",{x:f-p/2,y:a-s/2,rx:O,ry:O,fill:m,stroke:_,strokeWidth:w,width:p,height:s}),this.getLabelShape()])},y.extendKey="UserTaskNode",y}(Ze.exports.RectNode),DO={type:"bpmn:userTask",view:TO,model:kO},hy=globalThis&&globalThis.__extends||function(){var v=function(y,c){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,a){f.__proto__=a}||function(f,a){for(var p in a)a.hasOwnProperty(p)&&(f[p]=a[p])},v(y,c)};return function(y,c){v(y,c);function f(){this.constructor=y}y.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}(),MO=function(v){hy(y,v);function y(c,f){var a=this;return c.id||(c.id="Activity_"+Qr()),a=v.call(this,c,f)||this,a}return y.extendKey="ServiceTaskModel",y}(Ze.exports.RectNodeModel),NO=function(v){hy(y,v);function y(){return v!==null&&v.apply(this,arguments)||this}return y.prototype.getLabelShape=function(){var c=v.prototype.getAttributes.call(this),f=c.x,a=c.y,p=c.width,s=c.height,m=c.stroke;return Ze.exports.h("svg",{x:f-p/2+5,y:a-s/2+5,width:30,height:30,viewBox:"0 0 1274 1024"},Ze.exports.h("path",{fill:m,d:"M882.527918 434.149934c-2.234901-5.303796-7.311523-8.853645-13.059434-9.138124l-61.390185-3.009544c-6.635117-20.973684-15.521508-41.175795-26.513864-60.282968l42.051745-47.743374c4.308119-4.889357 4.955872-12.004405 1.602498-17.59268-46.384423-77.30362-103.969956-101.422947-106.400309-102.410438-5.332449-2.170432-11.432377-1.090844-15.693424 2.77009L654.674467 240.664222c-17.004279-8.654101-35.092239-15.756869-53.995775-21.210068l-3.26537-66.490344c-0.280386-5.747911-3.833305-10.824533-9.134031-13.059434-1.683339-0.709151-30.193673-12.391215-76.866668-12.051477-46.672996-0.339738-75.18333 11.342326-76.866668 12.051477-5.300726 2.234901-8.853645 7.311523-9.134031 13.059434l-3.26537 66.490344c-18.903535 5.453199-36.991496 12.555967-53.995775 21.210068l-48.450479-43.922349c-4.261047-3.860934-10.360975-4.940522-15.693424-2.77009-2.430352 0.98749-60.015885 25.106818-106.400309 102.410438-3.353374 5.588275-2.705622 12.703323 1.602498 17.59268l42.051745 47.743374c-10.992355 19.107173-19.878746 39.309284-26.513864 60.282968l-61.390185 3.009544c-5.747911 0.284479-10.824533 3.834328-13.059434 9.138124-1.01512 2.415003-24.687262 60.190871-2.822278 147.651828 1.583055 6.324032 7.072069 10.893094 13.57518 11.308557 5.892197 0.37146 11.751648 0.523933 17.419741 0.667196 14.498202 0.372483 28.193109 0.723477 40.908712 4.63353 4.212952 1.294482 6.435573 8.270361 9.349949 18.763342 1.287319 4.640694 2.617617 9.43693 4.484128 14.010085 1.794879 4.393054 3.75758 8.570189 5.66093 12.607132 1.302669 2.765997 2.529613 5.380544 3.689019 8.018627 2.986007 6.803963 2.682086 9.773598 2.578732 10.349719-3.061732 3.672646-6.391571 7.238868-9.91379 11.015891-1.810229 1.943258-3.680832 3.949962-5.523807 5.980201l-22.560832 24.8909c-3.865028 4.261047-4.940522 10.365068-2.774183 15.693424 0.991584 2.426259 25.102724 60.011792 102.414531 106.400309 5.588275 3.353374 12.703323 2.701528 17.591657-1.603521l23.476691-20.682042c2.346441-2.061962 4.64888-4.336772 6.875594-6.534833 9.05319-8.93858 14.018272-12.95608 17.73185-11.576663 3.305279 1.222851 6.907317 3.166109 10.720156 5.228071 3.325745 1.794879 6.764054 3.650133 10.465352 5.288446 6.016017 2.662643 12.120039 4.688789 18.019399 6.65149 6.827499 2.266623 13.279445 4.409426 18.819624 7.275707 1.518586 0.782829 1.926886 0.994654 2.358721 7.830339 0.726547 11.496845 1.25048 23.276123 1.753947 34.672684 0.264013 5.900384 0.528026 11.803837 0.815575 17.700127 0.284479 5.743818 3.833305 10.82044 9.138124 13.05534 1.654686 0.698918 29.371958 12.063757 74.869175 12.063757 0.328481 0 3.65832 0 3.986801 0 45.497217 0 73.214489-11.364839 74.869175-12.063757 5.304819-2.234901 8.853645-7.311523 9.138124-13.05534 0.287549-5.89629 0.551562-11.799744 0.815575-17.700127 0.503467-11.396561 1.027399-23.175839 1.753947-34.672684 0.431835-6.835685 0.840134-7.04751 2.358721-7.830339 5.54018-2.866281 11.992125-5.009084 18.819624-7.275707 5.89936-1.962701 12.003382-3.988848 18.019399-6.65149 3.701299-1.638313 7.139607-3.493567 10.465352-5.288446 3.812839-2.061962 7.414877-4.00522 10.720156-5.228071 3.713578-1.379417 8.67866 2.638083 17.73185 11.576663 2.226714 2.198062 4.529153 4.472871 6.875594 6.534833l23.476691 20.682042c4.888334 4.305049 12.003382 4.956895 17.591657 1.603521 77.311807-46.388517 101.422947-103.97405 102.414531-106.400309 2.166339-5.328355 1.090844-11.432377-2.774183-15.693424l-22.560832-24.8909c-1.842974-2.030239-3.713578-4.036943-5.523807-5.980201-3.52222-3.777023-6.852058-7.343245-9.91379-11.015891-0.103354-0.576121-0.407276-3.545756 2.578732-10.349719 1.159406-2.638083 2.38635-5.252631 3.689019-8.018627 1.90335-4.036943 3.866051-8.214079 5.66093-12.607132 1.866511-4.573155 3.196809-9.369392 4.484128-14.010085 2.914376-10.492982 5.136997-17.46886 9.349949-18.763342 12.715603-3.910053 26.41051-4.261047 40.908712-4.63353 5.668093-0.143263 11.527544-0.295735 17.419741-0.667196 6.503111-0.415462 11.992125-4.984524 13.57518-11.308557C907.21518 494.340805 883.543038 436.564937 882.527918 434.149934zM643.49894 643.761929c-35.280528 35.280528-82.191954 54.711066-132.086317 54.711066s-96.806813-19.430538-132.086317-54.711066c-35.280528-35.279504-54.711066-82.191954-54.711066-132.086317 0-49.894364 19.430538-96.80272 54.711066-132.082224 35.283598-35.284621 82.191954-54.711066 132.086317-54.711066s96.80579 19.426445 132.086317 54.711066c35.279504 35.279504 54.711066 82.187861 54.711066 132.082224C698.210006 561.569976 678.782537 608.482425 643.49894 643.761929z"}))},y.prototype.getShape=function(){var c=v.prototype.getAttributes.call(this),f=c.x,a=c.y,p=c.width,s=c.height,m=c.fill,_=c.stroke,w=c.strokeWidth,O=c.radius;return Ze.exports.h("g",{},[Ze.exports.h("rect",{x:f-p/2,y:a-s/2,rx:O,ry:O,fill:m,stroke:_,strokeWidth:w,width:p,height:s}),this.getLabelShape()])},y.extendKey="ServiceTaskNode",y}(Ze.exports.RectNode),CO={type:"bpmn:serviceTask",view:NO,model:MO},yy=globalThis&&globalThis.__extends||function(){var v=function(y,c){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,a){f.__proto__=a}||function(f,a){for(var p in a)a.hasOwnProperty(p)&&(f[p]=a[p])},v(y,c)};return function(y,c){v(y,c);function f(){this.constructor=y}y.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}(),RO=function(v){yy(y,v);function y(c,f){var a=this;return c.id||(c.id="Flow_"+Qr()),a=v.call(this,c,f)||this,a}return y.extendKey="SequenceFlowModel",y}(Ze.exports.PolylineEdgeModel),IO=function(v){yy(y,v);function y(){return v!==null&&v.apply(this,arguments)||this}return y.extendKey="SequenceFlowEdge",y}(Ze.exports.PolylineEdge),LO={type:"bpmn:sequenceFlow",view:IO,model:RO},vy={width:40,height:40},gy={width:40,height:40},by={width:40,height:40},my={width:100,height:80},_y={width:100,height:80},zO={rect:{radius:5,stroke:"rgb(24, 125, 255)"},circle:{r:18,stroke:"rgb(24, 125, 255)"},polygon:{stroke:"rgb(24, 125, 255)"},polyline:{stroke:"rgb(24, 125, 255)",hoverStroke:"rgb(24, 125, 255)",selectedStroke:"rgb(24, 125, 255)"},edgeText:{background:{fill:"white",height:14,stroke:"transparent",radius:3}}},BO=function(){function v(y){var c=y.lf;c.setTheme(zO),c.register(wO),c.register(jO),c.register(AO),c.register(DO),c.register(CO),c.options.customBpmnEdge||(c.register(LO),c.setDefaultEdgeType("bpmn:sequenceFlow"))}return v.pluginName="BpmnElement",v}(),FO={pluginName:"snapshot",install:function(v){var y=this;this.lf=v,this.offsetX=Number.MAX_SAFE_INTEGER,this.offsetY=Number.MAX_SAFE_INTEGER,v.getSnapshot=function(c,f){y.fileName=c||"logic-flow."+Date.now()+".png";var a=y.getSvgRootElement(v);y.downloadSvg(a,y.fileName,f)},v.getSnapshotBlob=function(c){var f=y.getSvgRootElement(v);return y.getBlob(f,c)},v.getSnapshotBase64=function(c){var f=y.getSvgRootElement(v);return y.getBase64(f,c)}},getSvgRootElement:function(v){var y=this;v.graphModel.nodes.forEach(function(f){var a=f.x,p=f.width,s=f.y,m=f.height,_=a-p/2,w=s-m/2;_<y.offsetX&&(y.offsetX=_-5),w<y.offsetY&&(y.offsetY=w-5)}),v.graphModel.edges.forEach(function(f){f.pointsList&&f.pointsList.forEach(function(a){var p=a.x,s=a.y;p<y.offsetX&&(y.offsetX=p-5),s<y.offsetY&&(y.offsetY=s-5)})});var c=v.container.querySelector("svg");return c},triggerDownload:function(v){var y=new MouseEvent("click",{view:window,bubbles:!1,cancelable:!0}),c=document.createElement("a");c.setAttribute("download",this.fileName),c.setAttribute("href",v),c.setAttribute("target","_blank"),c.dispatchEvent(y)},removeAnchor:function(v){for(var y=v.childNodes,c=v.childNodes&&v.childNodes.length,f=0;f<c;f++){var a=y[f],p=a.classList&&Array.from(a.classList)||[];p.indexOf("lf-anchor")>-1&&(v.removeChild(v.childNodes[f]),c--,f--)}},downloadSvg:function(v,y,c){var f=this;this.getCanvasData(v,c).then(function(a){var p=a.toDataURL("image/png").replace("image/png","image/octet-stream");f.triggerDownload(p,y)})},getBase64:function(v,y){var c=this;return new Promise(function(f){c.getCanvasData(v,y).then(function(a){var p=a.toDataURL("image/png");f({data:p,width:a.width,height:a.height})})})},getBlob:function(v,y){var c=this;return new Promise(function(f){c.getCanvasData(v,y).then(function(a){a.toBlob(function(p){f({data:p,width:a.width,height:a.height})},"image/png")})})},getCanvasData:function(v,y){var c=this,f=v.cloneNode(!0),a=f.lastChild,p=a.childNodes&&a.childNodes.length;if(p)for(var s=0;s<p;s++){var m=a.childNodes[s],_=m.classList&&Array.from(m.classList);if(_&&_.indexOf("lf-base")<0)a.removeChild(a.childNodes[s]),p--,s--;else{var w=a.childNodes[s];w&&w.childNodes.forEach(function(M){var z=M;c.removeAnchor(z.firstChild)})}}f.lastChild.style.transform="matrix(1, 0, 0, 1, "+(-this.offsetX+10)+", "+(-this.offsetY+10)+")";var O=window.devicePixelRatio||1,j=document.createElement("canvas"),S=document.getElementsByClassName("lf-base")[0],P=S.getBoundingClientRect(),N=this.lf.graphModel,R=N.transformMatrix,X=R.SCALE_X,H=R.SCALE_Y,I=Math.ceil(P.width/X),V=Math.ceil(P.height/H);j.style.width=I+"px",j.style.height=V+"px",j.width=I*O+80,j.height=V*O+80;var Z=j.getContext("2d");Z.scale(O,O),y?(Z.fillStyle=y,Z.fillRect(0,0,I*O+80,V*O+80)):Z.clearRect(0,0,I,V);var Y=new Image;return new Promise(function(M){Y.onload=function(){Z.drawImage(Y,0,0),M(j)};var z="data:image/svg+xml;charset=utf-8,"+new XMLSerializer().serializeToString(f),k=z.replace(/\n/g,"").replace(/\t/g,"").replace(/#/g,"%23");Y.src=k})}},UO=new cy([32,32,1]);function Oy(){return UO.next()}var sn=function(){};sn.ObjTree=function(){return this};sn.ObjTree.VERSION="0.23";sn.ObjTree.prototype.xmlDecl=`<?xml version="1.0" encoding="UTF-8" ?>
`;sn.ObjTree.prototype.attr_prefix="-";sn.ObjTree.prototype.parseXML=function(v){var y;if(window.DOMParser){var c=new DOMParser,f=c.parseFromString(v,"application/xml");if(!f)return;y=f.documentElement}else window.ActiveXObject&&(c=new ActiveXObject("Microsoft.XMLDOM"),c.async=!1,c.loadXML(v),y=c.documentElement);if(!!y)return this.parseDOM(y)};sn.ObjTree.prototype.parseHTTP=function(v,y,c){var f={};for(var a in y)f[a]=y[a];if(f.method||(typeof f.postBody=="undefined"&&typeof f.postbody=="undefined"&&typeof f.parameters=="undefined"?f.method="get":f.method="post"),c){f.asynchronous=!0;var p=this,s=c,m=f.onComplete;f.onComplete=function(O){var j;O&&O.responseXML&&O.responseXML.documentElement&&(j=p.parseDOM(O.responseXML.documentElement)),s(j,O),m&&m(O)}}else f.asynchronous=!1;var _;if(typeof HTTP!="undefined"&&HTTP.Request){f.uri=v;var w=new HTTP.Request(f);w&&(_=w.transport)}else if(typeof Ajax!="undefined"&&Ajax.Request){var w=new Ajax.Request(v,f);w&&(_=w.transport)}if(c)return _;if(_&&_.responseXML&&_.responseXML.documentElement)return this.parseDOM(_.responseXML.documentElement)};sn.ObjTree.prototype.parseDOM=function(v){if(!!v){if(this.__force_array={},this.force_array)for(var y=0;y<this.force_array.length;y++)this.__force_array[this.force_array[y]]=1;var c=this.parseElement(v);if(this.__force_array[v.nodeName]&&(c=[c]),v.nodeType!=11){var f={};f[v.nodeName]=c,c=f}return c}};sn.ObjTree.prototype.parseElement=function(v){if(v.nodeType!=7){if(v.nodeType==3||v.nodeType==4){var y=v.nodeValue.match(/[^\x00-\x20]/);return y==null?void 0:v.nodeValue}var c,f={};if(v.attributes&&v.attributes.length){c={};for(var a=0;a<v.attributes.length;a++){var p=v.attributes[a].nodeName;if(typeof p=="string"){var s=v.attributes[a].nodeValue;!s||(p=this.attr_prefix+p,typeof f[p]=="undefined"&&(f[p]=0),f[p]++,this.addNode(c,p,f[p],s))}}}if(v.childNodes&&v.childNodes.length){var m=!0;c&&(m=!1);for(var a=0;a<v.childNodes.length&&m;a++){var _=v.childNodes[a].nodeType;_==3||_==4||(m=!1)}if(m){c||(c="");for(var a=0;a<v.childNodes.length;a++)c+=v.childNodes[a].nodeValue}else{c||(c={});for(var a=0;a<v.childNodes.length;a++){var p=v.childNodes[a].nodeName;if(typeof p=="string"){var s=this.parseElement(v.childNodes[a]);!s||(typeof f[p]=="undefined"&&(f[p]=0),f[p]++,this.addNode(c,p,f[p],s))}}}}return c}};sn.ObjTree.prototype.addNode=function(v,y,c,f){this.__force_array[y]?(c==1&&(v[y]=[]),v[y][v[y].length]=f):c==1?v[y]=f:c==2?v[y]=[v[y],f]:v[y][v[y].length]=f};sn.ObjTree.prototype.writeXML=function(v){var y=this.hash_to_xml(null,v);return this.xmlDecl+y};sn.ObjTree.prototype.hash_to_xml=function(v,y){var c=[],f=[];for(var a in y)if(!!y.hasOwnProperty(a)){var p=y[a];a.charAt(0)!=this.attr_prefix?typeof p=="undefined"||p==null?c[c.length]="<"+a+" />":typeof p=="object"&&p.constructor==Array?c[c.length]=this.array_to_xml(a,p):typeof p=="object"?c[c.length]=this.hash_to_xml(a,p):c[c.length]=this.scalar_to_xml(a,p):f[f.length]=" "+a.substring(1)+'="'+this.xml_escape(p)+'"'}var s=f.join(""),m=c.join("");return typeof v=="undefined"||v==null||(c.length>0?m.match(/\n/)?m="<"+v+s+`>
`+m+"</"+v+`>
`:m="<"+v+s+">"+m+"</"+v+`>
`:m="<"+v+s+` />
`),m};sn.ObjTree.prototype.array_to_xml=function(v,y){for(var c=[],f=0;f<y.length;f++){var a=y[f];typeof a=="undefined"||a==null?c[c.length]="<"+v+" />":typeof a=="object"&&a.constructor==Array?c[c.length]=this.array_to_xml(v,a):typeof a=="object"?c[c.length]=this.hash_to_xml(v,a):c[c.length]=this.scalar_to_xml(v,a)}return c.join("")};sn.ObjTree.prototype.scalar_to_xml=function(v,y){return v=="#text"?this.xml_escape(y):"<"+v+">"+this.xml_escape(y)+"</"+v+`>
`};sn.ObjTree.prototype.xml_escape=function(v){return v.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var ea=globalThis&&globalThis.__read||function(v,y){var c=typeof Symbol=="function"&&v[Symbol.iterator];if(!c)return v;var f=c.call(v),a,p=[],s;try{for(;(y===void 0||y-- >0)&&!(a=f.next()).done;)p.push(a.value)}catch(m){s={error:m}}finally{try{a&&!a.done&&(c=f.return)&&c.call(f)}finally{if(s)throw s.error}}return p},Xn;(function(v){v.START="bpmn:startEvent",v.END="bpmn:endEvent",v.GATEWAY="bpmn:exclusiveGateway",v.USER="bpmn:userTask",v.SYSTEM="bpmn:serviceTask",v.FLOW="bpmn:sequenceFlow"})(Xn||(Xn={}));var wy=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef"];function cc(v){var y={};return Object.entries(v).forEach(function(c){var f=ea(c,2),a=f[0],p=f[1];typeof p!="object"?a.indexOf("-")===0?y[a]=p:y["-"+a]=p:y[a]=cc(p)}),y}function sc(v){var y={};return Object.entries(v).forEach(function(c){var f=ea(c,2),a=f[0],p=f[1];typeof p=="string"?a.indexOf("-")===0?y[a.substr(1)]=p:y[a]=p:typeof p=="object"?y[a]=sc(p):y[a]=p}),y}function XO(v,y){var c=new Map;y.nodes.forEach(function(a){var p,s={"-id":a.id};if(((p=a.text)===null||p===void 0?void 0:p.value)&&(s["-name"]=a.text.value),a.properties){var m=cc(a.properties);Object.assign(s,m)}c.set(a.id,s),v[a.type]?Array.isArray(v[a.type])?v[a.type].push(s):v[a.type]=[v[a.type],s]:v[a.type]=s});var f=y.edges.map(function(a){var p,s,m=c.get(a.targetNodeId);m["bpmn:incoming"]?Array.isArray(m["bpmn:incoming"])?m["bpmn:incoming"].push(a.id):m["bpmn:incoming"]=[m["bpmn:incoming"],a.id]:m["bpmn:incoming"]=a.id;var _=c.get(a.sourceNodeId);_["bpmn:outgoing"]?Array.isArray(_["bpmn:outgoing"])?_["bpmn:outgoing"].push(a.id):_["bpmn:outgoing"]=[_["bpmn:outgoing"],a.id]:_["bpmn:outgoing"]=a.id;var w={"-id":a.id,"-sourceRef":a.sourceNodeId,"-targetRef":a.targetNodeId};if(((p=a.text)===null||p===void 0?void 0:p.value)&&(w["-name"]=(s=a.text)===null||s===void 0?void 0:s.value),a.properties){var O=cc(a.properties);Object.assign(w,O)}return w});v[Xn.FLOW]=f}function GO(v,y){v["bpmndi:BPMNEdge"]=y.edges.map(function(c){var f,a=c.id,p=c.pointsList.map(function(m){var _=m.x,w=m.y;return{"-x":_,"-y":w}}),s={"-id":a+"_di","-bpmnElement":a,"di:waypoint":p};return((f=c.text)===null||f===void 0?void 0:f.value)&&(s["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":c.text.x-c.text.value.length*10/2,"-y":c.text.y-7,"-width":c.text.value.length*10,"-height":14}}),s}),v["bpmndi:BPMNShape"]=y.nodes.map(function(c){var f,a=c.id,p=100,s=80,m=c.x,_=c.y,w=Ar.shapeConfigMap.get(c.type);w&&(p=w.width,s=w.height),m-=p/2,_-=s/2;var O={"-id":a+"_di","-bpmnElement":a,"dc:Bounds":{"-x":m,"-y":_,"-width":p,"-height":s}};return((f=c.text)===null||f===void 0?void 0:f.value)&&(O["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":c.text.x-c.text.value.length*10/2,"-y":c.text.y-7,"-width":c.text.value.length*10,"-height":14}}),O})}function HO(v){var y=[],c=[],f=v["bpmn:definitions"];if(f){var a=f["bpmn:process"];Object.keys(a).forEach(function(p){if(p.indexOf("bpmn:")===0){var s=a[p];if(p===Xn.FLOW){var m=f["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"];c=VO(s,m)}else{var _=f["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"];y=y.concat(YO(s,_,p))}}})}return{nodes:y,edges:c}}function YO(v,y,c){var f=[];if(Array.isArray(v))v.forEach(function(s){var m;Array.isArray(y)?m=y.find(function(w){return w["-bpmnElement"]===s["-id"]}):m=y;var _=xy(m,c,s);f.push(_)});else{var a=void 0;Array.isArray(y)?a=y.find(function(s){return s["-bpmnElement"]===v["-id"]}):a=y;var p=xy(a,c,v);f.push(p)}return f}function xy(v,y,c){var f=Number(v["dc:Bounds"]["-x"]),a=Number(v["dc:Bounds"]["-y"]),p=c["-name"],s=Ar.shapeConfigMap.get(y);s&&(f+=s.width/2,a+=s.height/2);var m;Object.entries(c).forEach(function(j){var S=ea(j,2),P=S[0],N=S[1];wy.indexOf(P)===-1&&(m||(m={}),m[P]=N)}),m&&(m=sc(m));var _;if(p&&(_={x:f,y:a,value:p},v["bpmndi:BPMNLabel"]&&v["bpmndi:BPMNLabel"]["dc:Bounds"])){var w=v["bpmndi:BPMNLabel"]["dc:Bounds"];_.x=Number(w["-x"])+Number(w["-width"])/2,_.y=Number(w["-y"])+Number(w["-height"])/2}var O={id:v["-bpmnElement"],type:y,x:f,y:a,properties:m};return _&&(O.text=_),O}function VO(v,y){var c=[];if(Array.isArray(v))v.forEach(function(a){var p;Array.isArray(y)?p=y.find(function(s){return s["-bpmnElement"]===a["-id"]}):p=y,c.push(Ey(p,a))});else{var f=void 0;Array.isArray(y)?f=y.find(function(a){return a["-bpmnElement"]===v["-id"]}):f=y,c.push(Ey(f,v))}return c}function Ey(v,y){var c,f=y["-name"];if(f){var a=v["bpmndi:BPMNLabel"]["dc:Bounds"],p=0;f.split(`
`).forEach(function(_){p<_.length&&(p=_.length)}),c={value:f,x:Number(a["-x"])+p*10/2,y:Number(a["-y"])+7}}var s;Object.entries(y).forEach(function(_){var w=ea(_,2),O=w[0],j=w[1];wy.indexOf(O)===-1&&(s||(s={}),s[O]=j)}),s&&(s=sc(s));var m={id:y["-id"],type:Xn.FLOW,pointsList:v["di:waypoint"].map(function(_){return{x:Number(_["-x"]),y:Number(_["-y"])}}),sourceNodeId:y["-sourceRef"],targetNodeId:y["-targetRef"],properties:s};return c&&(m.text=c),m}var Ar={pluginName:"bpmn-adapter",install:function(v){v.adapterIn=this.adapterIn,v.adapterOut=this.adapterOut},shapeConfigMap:new Map,setCustomShape:function(v,y){this.shapeConfigMap.set(v,y)},adapterOut:function(v){var y={"-id":"Process_"+Oy(),"-isExecutable":"false"};XO(y,v);var c={"-id":"BPMNPlane_1","-bpmnElement":y["-id"]};GO(c,v);var f={"bpmn:definitions":{"-id":"Definitions_"+Oy(),"-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://bpmn.io/schema/bpmn","-exporter":"bpmn-js (https://demo.bpmn.io)","-exporterVersion":"7.3.0","bpmn:process":y,"bpmndi:BPMNDiagram":{"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":c}}};return f},adapterIn:function(v){if(v)return HO(v)}};Ar.shapeConfigMap.set(Xn.START,{width:vy.width,height:vy.height});Ar.shapeConfigMap.set(Xn.END,{width:gy.width,height:gy.height});Ar.shapeConfigMap.set(Xn.GATEWAY,{width:by.width,height:by.height});Ar.shapeConfigMap.set(Xn.SYSTEM,{width:my.width,height:my.height});Ar.shapeConfigMap.set(Xn.USER,{width:_y.width,height:_y.height});var jy=globalThis&&globalThis.__assign||function(){return jy=Object.assign||function(v){for(var y,c=1,f=arguments.length;c<f;c++){y=arguments[c];for(var a in y)Object.prototype.hasOwnProperty.call(y,a)&&(v[a]=y[a])}return v},jy.apply(this,arguments)},Sy;(function(v){v[v.SEQUENCE_FLOW=1]="SEQUENCE_FLOW",v[v.START_EVENT=2]="START_EVENT",v[v.END_EVENT=3]="END_EVENT",v[v.USER_TASK=4]="USER_TASK",v[v.EXCLUSIVE_GATEWAY=6]="EXCLUSIVE_GATEWAY"})(Sy||(Sy={}));var Py;(function(v){v.HORIZONTAL="horizontal",v.VERTICAL="vertical"})(Py||(Py={}));var WO=globalThis&&globalThis.__read||function(v,y){var c=typeof Symbol=="function"&&v[Symbol.iterator];if(!c)return v;var f=c.call(v),a,p=[],s;try{for(;(y===void 0||y-- >0)&&!(a=f.next()).done;)p.push(a.value)}catch(m){s={error:m}}finally{try{a&&!a.done&&(c=f.return)&&c.call(f)}finally{if(s)throw s.error}}return p};globalThis&&globalThis.__spread;var KO=globalThis&&globalThis.__read||function(v,y){var c=typeof Symbol=="function"&&v[Symbol.iterator];if(!c)return v;var f=c.call(v),a,p=[],s;try{for(;(y===void 0||y-- >0)&&!(a=f.next()).done;)p.push(a.value)}catch(m){s={error:m}}finally{try{a&&!a.done&&(c=f.return)&&c.call(f)}finally{if(s)throw s.error}}return p};globalThis&&globalThis.__spread;var ZO=globalThis&&globalThis.__read||function(v,y){var c=typeof Symbol=="function"&&v[Symbol.iterator];if(!c)return v;var f=c.call(v),a,p=[],s;try{for(;(y===void 0||y-- >0)&&!(a=f.next()).done;)p.push(a.value)}catch(m){s={error:m}}finally{try{a&&!a.done&&(c=f.return)&&c.call(f)}finally{if(s)throw s.error}}return p},qO=globalThis&&globalThis.__spread||function(){for(var v=[],y=0;y<arguments.length;y++)v=v.concat(ZO(arguments[y]));return v},Ho="lf:defaultNodeMenu",Yo="lf:defaultEdgeMenu",Vo="lf:defaultGraphMenu",Ay="lf:defaultSelectionMenu",$O=function(){function v(y){var c=this,f=y.lf;this.__menuDOM=document.createElement("ul"),this.lf=f,this.menuTypeMap=new Map,this.init(),this.lf.setMenuConfig=function(a){c.resetMenuItem(a)},this.lf.addMenuConfig=function(a){c.addMenuItem(a)},this.lf.setMenuByType=function(a){c.setMenuByType(a)}}return v.prototype.init=function(){var y=this,c=[{text:"\u5220\u9664",callback:function(p){y.lf.deleteNode(p.id)}},{text:"\u7F16\u8F91\u6587\u672C",callback:function(p){y.lf.graphModel.setTextEditable(p.id)}},{text:"\u590D\u5236",callback:function(p){y.lf.cloneNode(p.id)}}];this.menuTypeMap.set(Ho,c);var f=[{text:"\u5220\u9664",callback:function(p){y.lf.deleteEdge(p.id)}},{text:"\u7F16\u8F91\u6587\u672C",callback:function(p){y.lf.graphModel.setTextEditable(p.id)}}];this.menuTypeMap.set(Yo,f),this.menuTypeMap.set(Vo,[]);var a=[{text:"\u5220\u9664",callback:function(p){y.lf.clearSelectElements(),p.edges.forEach(function(s){return y.lf.deleteEdge(s.id)}),p.nodes.forEach(function(s){return y.lf.deleteNode(s.id)})}}];this.menuTypeMap.set(Ay,a)},v.prototype.render=function(y,c){var f=this;this.__container=c,this.__currentData=null,this.__menuDOM.className="lf-menu",c.appendChild(this.__menuDOM),this.__menuDOM.addEventListener("click",function(a){a.stopPropagation();for(var p=a.target;Array.from(p.classList).indexOf("lf-menu-item")===-1&&Array.from(p.classList).indexOf("lf-menu")===-1;)p=p.parentElement;Array.from(p.classList).indexOf("lf-menu-item")>-1?(p.onclickCallback(f.__currentData),f.__menuDOM.style.display="none",f.__currentData=null):console.warn("\u70B9\u51FB\u533A\u57DF\u4E0D\u5728\u83DC\u5355\u9879\u5185\uFF0C\u8BF7\u68C0\u67E5\u4EE3\u7801\uFF01")},!0),this.lf.on("node:contextmenu",function(a){var p=a.data,s=a.position,m=s.domOverlayPosition,_=m.x,w=m.y,O=p.id,j=f.lf.graphModel.getNodeModel(O),S=[],P=f.menuTypeMap.get(j.type);j&&j.menu&&Array.isArray(j.menu)?S=j.menu:P?S=P:S=f.menuTypeMap.get(Ho),f.__currentData=p,f.showMenu(_,w,S)}),this.lf.on("edge:contextmenu",function(a){var p=a.data,s=a.position,m=s.domOverlayPosition,_=m.x,w=m.y,O=p.id,j=f.lf.graphModel.getEdgeModel(O),S=[],P=f.menuTypeMap.get(j.type);j&&j.menu&&Array.isArray(j.menu)?S=j.menu:P?S=P:S=f.menuTypeMap.get(Yo),f.__currentData=p,f.showMenu(_,w,S)}),this.lf.on("blank:contextmenu",function(a){var p=a.position,s=f.menuTypeMap.get(Vo),m=p.domOverlayPosition,_=m.x,w=m.y;f.showMenu(_,w,s)}),this.lf.on("selection:contextmenu",function(a){var p=a.data,s=a.position,m=f.menuTypeMap.get(Ay),_=s.domOverlayPosition,w=_.x,O=_.y;f.__currentData=p,f.showMenu(w,O,m)}),this.lf.on("node:mousedown",function(){f.__menuDOM.style.display="none"}),this.lf.on("edge:click",function(){f.__menuDOM.style.display="none"}),this.lf.on("blank:click",function(){f.__menuDOM.style.display="none"})},v.prototype.destroy=function(){var y;(y=this===null||this===void 0?void 0:this.__container)===null||y===void 0||y.removeChild(this.__menuDOM),this.__menuDOM=null},v.prototype.showMenu=function(y,c,f){if(!(!f||!f.length)){var a=this.__menuDOM;a.innerHTML="",a.append.apply(a,qO(this.__getMenuDom(f))),!!a.children.length&&(a.style.display="block",a.style.top=c+"px",a.style.left=y+"px")}},v.prototype.setMenuByType=function(y){!y.type||!y.menu||this.menuTypeMap.set(y.type,y.menu)},v.prototype.__getMenuDom=function(y){var c=[];return y&&y.length>0&&y.forEach(function(f){var a=document.createElement("li");if(f.className?a.className="lf-menu-item "+f.className:a.className="lf-menu-item",f.icon===!0){var p=document.createElement("span");p.className="lf-menu-item-icon",a.appendChild(p)}var s=document.createElement("span");s.className="lf-menu-item-text",f.text&&(s.innerText=f.text),a.appendChild(s),a.onclickCallback=f.callback,c.push(a)}),c},v.prototype.resetMenuItem=function(y){!y||(y.nodeMenu!==void 0&&this.menuTypeMap.set(Ho,y.nodeMenu?y.nodeMenu:[]),y.edgeMenu!==void 0&&this.menuTypeMap.set(Yo,y.edgeMenu?y.edgeMenu:[]),y.graphMenu!==void 0&&this.menuTypeMap.set(Vo,y.graphMenu?y.graphMenu:[]))},v.prototype.addMenuItem=function(y){if(!!y){if(Array.isArray(y.nodeMenu)){var c=this.menuTypeMap.get(Ho);this.menuTypeMap.set(Ho,c.concat(y.nodeMenu))}if(Array.isArray(y.edgeMenu)){var c=this.menuTypeMap.get(Yo);this.menuTypeMap.set(Yo,c.concat(y.edgeMenu))}if(Array.isArray(y.graphMenu)){var c=this.menuTypeMap.get(Vo);this.menuTypeMap.set(Vo,c.concat(y.graphMenu))}}},v.prototype.changeMenuItem=function(y,c){if(y==="add")this.addMenuItem(c);else if(y==="reset")this.resetMenuItem(c);else throw new Error("The first parameter of changeMenuConfig should be 'add' or 'reset'")},v.pluginName="Menu",v}();globalThis&&globalThis.__read;var JO=function(){function v(y){var c=this,f=y.lf;this.lf=f,this.lf.setPatternItems=function(a){c.shapeList=a,c.domContainer&&c.render(c.lf,c.domContainer)}}return v.prototype.render=function(y,c){var f=this;this.panelEl&&c.removeChild(this.panelEl),!(!this.shapeList||this.shapeList.length===0)&&(this.panelEl=document.createElement("div"),this.panelEl.className="lf-dndpanel",this.shapeList.forEach(function(a){f.panelEl.appendChild(f.createDndItem(a))}),c.appendChild(this.panelEl),this.domContainer=c)},v.prototype.createDndItem=function(y){var c=this,f=document.createElement("div");f.className=y.className?"lf-dnd-item "+y.className:"lf-dnd-item";var a=document.createElement("div");if(a.className="lf-dnd-shape",y.icon&&(a.style.backgroundImage="url("+y.icon+")"),f.appendChild(a),y.label){var p=document.createElement("div");p.innerText=y.label,p.className="lf-dnd-text",f.appendChild(p)}return f.onmousedown=function(){y.type&&c.lf.dnd.startDrag({type:y.type,properties:y.properties,text:y.text}),y.callback&&y.callback()},f},v.pluginName="DndPanel",v}(),QO=function(){function v(y){var c=this,f=y.lf;this.__disabled=!1,this.isDefalutStopMoveGraph=!1,this.__draw=function(p){var s=c.lf.getPointByClient(p.clientX,p.clientY).domOverlayPosition,m=s.x,_=s.y;c.endPoint={x:m,y:_};var w=c.startPoint,O=w.x,j=w.y,S=c.wrapper.style,P=O,N=j,R=m-O,X=_-j;m<O&&(P=m,R=O-m),_<j&&(N=_,X=j-_),S.left=P+"px",S.top=N+"px",S.width=R+"px",S.height=X+"px"},this.__drawOff=function(){document.removeEventListener("mousemove",c.__draw),document.removeEventListener("mouseup",c.__drawOff),c.__domContainer.removeChild(c.wrapper);var p=c.startPoint,s=p.x,m=p.y,_=c.endPoint,w=_.x,O=_.y,j=[Math.min(s,w),Math.min(m,O)],S=[Math.max(s,w),Math.max(m,O)],P=c.lf.getAreaElement(j,S);P.forEach(function(N){c.lf.select(N.id,!0)}),c.lf.emit("selection:selected",P)},this.lf=f;var a=f.getEditConfig().stopMoveGraph;this.isDefalutStopMoveGraph=a,f.openSelectionSelect=function(){a||(c.isDefalutStopMoveGraph=!1,f.updateEditConfig({stopMoveGraph:!0})),c.open()},f.closeSelectionSelect=function(){c.isDefalutStopMoveGraph||f.updateEditConfig({stopMoveGraph:!1}),c.close()}}return v.prototype.render=function(y,c){var f=this;this.__domContainer=c,y.on("blank:mousedown",function(a){var p=a.e,s=y.getEditConfig();if(!(!s.stopMoveGraph||f.__disabled)){var m=y.getPointByClient(p.clientX,p.clientY).domOverlayPosition,_=m.x,w=m.y;f.startPoint={x:_,y:w},f.endPoint={x:_,y:w};var O=document.createElement("div");O.className="lf-selection-select",O.style.top=f.startPoint.y+"px",O.style.left=f.startPoint.x+"px",c.appendChild(O),f.wrapper=O,document.addEventListener("mousemove",f.__draw),document.addEventListener("mouseup",f.__drawOff)}})},v.prototype.open=function(){this.__disabled=!1},v.prototype.close=function(){this.__disabled=!0},v.pluginName="selection-select",v}();globalThis&&globalThis.__values;var ky=globalThis&&globalThis.__extends||function(){var v=function(y,c){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,a){f.__proto__=a}||function(f,a){for(var p in a)a.hasOwnProperty(p)&&(f[p]=a[p])},v(y,c)};return function(y,c){v(y,c);function f(){this.constructor=y}y.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}(),Wo=globalThis&&globalThis.__read||function(v,y){var c=typeof Symbol=="function"&&v[Symbol.iterator];if(!c)return v;var f=c.call(v),a,p=[],s;try{for(;(y===void 0||y-- >0)&&!(a=f.next()).done;)p.push(a.value)}catch(m){s={error:m}}finally{try{a&&!a.done&&(c=f.return)&&c.call(f)}finally{if(s)throw s.error}}return p};(function(v){ky(y,v);function y(){return v!==null&&v.apply(this,arguments)||this}return y.prototype.getEdge=function(){for(var c=this.getAttributes(),f=c.points,a=c.strokeWidth,p=c.stroke,s=c.strokeDashArray,m=f.split(" ").map(function($){return $.split(",").map(function(ae){return Number(ae)})}),_=Wo(m[0],2),w=_[0],O=_[1],j="M"+w+" "+O,S=5,P=1;P<m.length-1;P++){var N=Wo(m[P-1],2),R=N[0],X=N[1],H=Wo(m[P],2),I=H[0],V=H[1],Z=Wo(m[P+1],2),Y=Z[0],M=Z[1];if(I===R&&V!==X){var z=V>X?V-S:V+S;j=j+" L "+I+" "+z}if(V===X&&I!==R){var k=I>R?I-S:I+S;j=j+" L "+k+" "+V}if(j=j+" Q "+I+" "+V,I===Y&&V!==M){var z=V>M?V-S:V+S;j=j+" "+I+" "+z}if(V===M&&I!==Y){var k=I>Y?I-S:I+S;j=j+" "+k+" "+V}}var L=Wo(m[m.length-1],2),U=L[0],te=L[1];return j=j+" L "+U+" "+te,Ze.exports.h("path",{d:j,strokeWidth:a,stroke:p,fill:"none",strokeDashArray:s})},y.extendKey="CurvedEdge",y})(Ze.exports.PolylineEdge);(function(v){ky(y,v);function y(){return v!==null&&v.apply(this,arguments)||this}return y})(Ze.exports.PolylineEdgeModel);var Ty=globalThis&&globalThis.__extends||function(){var v=function(y,c){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,a){f.__proto__=a}||function(f,a){for(var p in a)a.hasOwnProperty(p)&&(f[p]=a[p])},v(y,c)};return function(y,c){v(y,c);function f(){this.constructor=y}y.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}(),e1=globalThis&&globalThis.__read||function(v,y){var c=typeof Symbol=="function"&&v[Symbol.iterator];if(!c)return v;var f=c.call(v),a,p=[],s;try{for(;(y===void 0||y-- >0)&&!(a=f.next()).done;)p.push(a.value)}catch(m){s={error:m}}finally{try{a&&!a.done&&(c=f.return)&&c.call(f)}finally{if(s)throw s.error}}return p},t1=globalThis&&globalThis.__spread||function(){for(var v=[],y=0;y<arguments.length;y++)v=v.concat(e1(arguments[y]));return v};(function(v){Ty(y,v);function y(){var c=v!==null&&v.apply(this,arguments)||this;return c.isGroup=!0,c.children=new Set,c.isRestrict=!0,c}return y.prototype.setAttributes=function(){this.width=500,this.height=200,this.strokeWidth=1,this.zIndex=0},y.prototype.setIsRestrict=function(c){this.isRestrict=c},y.prototype.isInRange=function(c){var f=c.x1,a=c.y1,p=c.x2,s=c.y2;return f>=this.x-this.width/2&&p<=this.x+this.width/2&&a>=this.y-this.height/2&&s<=this.y+this.height/2},y.prototype.setAllowAppendChild=function(c){c?this.stroke="red":this.stroke="rgb(24, 125, 255)"},y.prototype.addChild=function(c){this.children.add(c)},y.prototype.removeChild=function(c){this.children.delete(c)},y.prototype.getData=function(){var c=v.prototype.getData.call(this);return c.children=t1(this.children),c},y})(Ze.exports.RectNodeModel);(function(v){Ty(y,v);function y(){return v!==null&&v.apply(this,arguments)||this}return y.prototype.toFront=function(){},y.prototype.getShapeStyle=function(){var c=v.prototype.getShapeStyle.call(this);return c.radius=0,c},y})(Ze.exports.RectNode);var n1=globalThis&&globalThis.__read||function(v,y){var c=typeof Symbol=="function"&&v[Symbol.iterator];if(!c)return v;var f=c.call(v),a,p=[],s;try{for(;(y===void 0||y-- >0)&&!(a=f.next()).done;)p.push(a.value)}catch(m){s={error:m}}finally{try{a&&!a.done&&(c=f.return)&&c.call(f)}finally{if(s)throw s.error}}return p};globalThis&&globalThis.__spread;var lc,Lt,Dy,Ko,My,Ny,Cy={},Ry=[],r1=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function dr(v,y){for(var c in y)v[c]=y[c];return v}function Iy(v){var y=v.parentNode;y&&y.removeChild(v)}function Zo(v,y,c){var f,a,p,s={};for(p in y)p=="key"?f=y[p]:p=="ref"?a=y[p]:s[p]=y[p];if(arguments.length>2&&(s.children=arguments.length>3?lc.call(arguments,2):c),typeof v=="function"&&v.defaultProps!=null)for(p in v.defaultProps)s[p]===void 0&&(s[p]=v.defaultProps[p]);return ta(v,s,f,a,null)}function ta(v,y,c,f,a){var p={type:v,props:y,key:c,ref:f,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:a==null?++Dy:a};return a==null&&Lt.vnode!=null&&Lt.vnode(p),p}function fc(v){return v.children}function eo(v,y){this.props=v,this.context=y}function to(v,y){if(y==null)return v.__?to(v.__,v.__.__k.indexOf(v)+1):null;for(var c;y<v.__k.length;y++)if((c=v.__k[y])!=null&&c.__e!=null)return c.__e;return typeof v.type=="function"?to(v):null}function Ly(v){var y,c;if((v=v.__)!=null&&v.__c!=null){for(v.__e=v.__c.base=null,y=0;y<v.__k.length;y++)if((c=v.__k[y])!=null&&c.__e!=null){v.__e=v.__c.base=c.__e;break}return Ly(v)}}function zy(v){(!v.__d&&(v.__d=!0)&&Ko.push(v)&&!na.__r++||Ny!==Lt.debounceRendering)&&((Ny=Lt.debounceRendering)||My)(na)}function na(){for(var v;na.__r=Ko.length;)v=Ko.sort(function(y,c){return y.__v.__b-c.__v.__b}),Ko=[],v.some(function(y){var c,f,a,p,s,m;y.__d&&(s=(p=(c=y).__v).__e,(m=c.__P)&&(f=[],(a=dr({},p)).__v=p.__v+1,Yy(m,p,a,c.__n,m.ownerSVGElement!==void 0,p.__h!=null?[s]:null,f,s==null?to(p):s,p.__h),i1(f,p),p.__e!=s&&Ly(p)))})}function By(v,y,c,f,a,p,s,m,_,w){var O,j,S,P,N,R,X,H=f&&f.__k||Ry,I=H.length;for(c.__k=[],O=0;O<y.length;O++)if((P=c.__k[O]=(P=y[O])==null||typeof P=="boolean"?null:typeof P=="string"||typeof P=="number"||typeof P=="bigint"?ta(null,P,null,null,P):Array.isArray(P)?ta(fc,{children:P},null,null,null):P.__b>0?ta(P.type,P.props,P.key,null,P.__v):P)!=null){if(P.__=c,P.__b=c.__b+1,(S=H[O])===null||S&&P.key==S.key&&P.type===S.type)H[O]=void 0;else for(j=0;j<I;j++){if((S=H[j])&&P.key==S.key&&P.type===S.type){H[j]=void 0;break}S=null}Yy(v,P,S=S||Cy,a,p,s,m,_,w),N=P.__e,(j=P.ref)&&S.ref!=j&&(X||(X=[]),S.ref&&X.push(S.ref,null,P),X.push(j,P.__c||N,P)),N!=null?(R==null&&(R=N),typeof P.type=="function"&&P.__k===S.__k?P.__d=_=Fy(P,_,v):_=Uy(v,P,S,H,N,_),typeof c.type=="function"&&(c.__d=_)):_&&S.__e==_&&_.parentNode!=v&&(_=to(S))}for(c.__e=R,O=I;O--;)H[O]!=null&&(typeof c.type=="function"&&H[O].__e!=null&&H[O].__e==c.__d&&(c.__d=to(f,O+1)),Wy(H[O],H[O]));if(X)for(O=0;O<X.length;O++)Vy(X[O],X[++O],X[++O])}function Fy(v,y,c){for(var f,a=v.__k,p=0;a&&p<a.length;p++)(f=a[p])&&(f.__=v,y=typeof f.type=="function"?Fy(f,y,c):Uy(c,f,f,a,f.__e,y));return y}function Uy(v,y,c,f,a,p){var s,m,_;if(y.__d!==void 0)s=y.__d,y.__d=void 0;else if(c==null||a!=p||a.parentNode==null)e:if(p==null||p.parentNode!==v)v.appendChild(a),s=null;else{for(m=p,_=0;(m=m.nextSibling)&&_<f.length;_+=2)if(m==a)break e;v.insertBefore(a,p),s=p}return s!==void 0?s:a.nextSibling}function o1(v,y,c,f,a){var p;for(p in c)p==="children"||p==="key"||p in y||ra(v,p,null,c[p],f);for(p in y)a&&typeof y[p]!="function"||p==="children"||p==="key"||p==="value"||p==="checked"||c[p]===y[p]||ra(v,p,y[p],c[p],f)}function Xy(v,y,c){y[0]==="-"?v.setProperty(y,c):v[y]=c==null?"":typeof c!="number"||r1.test(y)?c:c+"px"}function ra(v,y,c,f,a){var p;e:if(y==="style")if(typeof c=="string")v.style.cssText=c;else{if(typeof f=="string"&&(v.style.cssText=f=""),f)for(y in f)c&&y in c||Xy(v.style,y,"");if(c)for(y in c)f&&c[y]===f[y]||Xy(v.style,y,c[y])}else if(y[0]==="o"&&y[1]==="n")p=y!==(y=y.replace(/Capture$/,"")),y=y.toLowerCase()in v?y.toLowerCase().slice(2):y.slice(2),v.l||(v.l={}),v.l[y+p]=c,c?f||v.addEventListener(y,p?Hy:Gy,p):v.removeEventListener(y,p?Hy:Gy,p);else if(y!=="dangerouslySetInnerHTML"){if(a)y=y.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(y!=="href"&&y!=="list"&&y!=="form"&&y!=="tabIndex"&&y!=="download"&&y in v)try{v[y]=c==null?"":c;break e}catch(s){}typeof c=="function"||(c!=null&&(c!==!1||y[0]==="a"&&y[1]==="r")?v.setAttribute(y,c):v.removeAttribute(y))}}function Gy(v){this.l[v.type+!1](Lt.event?Lt.event(v):v)}function Hy(v){this.l[v.type+!0](Lt.event?Lt.event(v):v)}function Yy(v,y,c,f,a,p,s,m,_){var w,O,j,S,P,N,R,X,H,I,V,Z=y.type;if(y.constructor!==void 0)return null;c.__h!=null&&(_=c.__h,m=y.__e=c.__e,y.__h=null,p=[m]),(w=Lt.__b)&&w(y);try{e:if(typeof Z=="function"){if(X=y.props,H=(w=Z.contextType)&&f[w.__c],I=w?H?H.props.value:w.__:f,c.__c?R=(O=y.__c=c.__c).__=O.__E:("prototype"in Z&&Z.prototype.render?y.__c=O=new Z(X,I):(y.__c=O=new eo(X,I),O.constructor=Z,O.render=u1),H&&H.sub(O),O.props=X,O.state||(O.state={}),O.context=I,O.__n=f,j=O.__d=!0,O.__h=[]),O.__s==null&&(O.__s=O.state),Z.getDerivedStateFromProps!=null&&(O.__s==O.state&&(O.__s=dr({},O.__s)),dr(O.__s,Z.getDerivedStateFromProps(X,O.__s))),S=O.props,P=O.state,j)Z.getDerivedStateFromProps==null&&O.componentWillMount!=null&&O.componentWillMount(),O.componentDidMount!=null&&O.__h.push(O.componentDidMount);else{if(Z.getDerivedStateFromProps==null&&X!==S&&O.componentWillReceiveProps!=null&&O.componentWillReceiveProps(X,I),!O.__e&&O.shouldComponentUpdate!=null&&O.shouldComponentUpdate(X,O.__s,I)===!1||y.__v===c.__v){O.props=X,O.state=O.__s,y.__v!==c.__v&&(O.__d=!1),O.__v=y,y.__e=c.__e,y.__k=c.__k,y.__k.forEach(function(Y){Y&&(Y.__=y)}),O.__h.length&&s.push(O);break e}O.componentWillUpdate!=null&&O.componentWillUpdate(X,O.__s,I),O.componentDidUpdate!=null&&O.__h.push(function(){O.componentDidUpdate(S,P,N)})}O.context=I,O.props=X,O.state=O.__s,(w=Lt.__r)&&w(y),O.__d=!1,O.__v=y,O.__P=v,w=O.render(O.props,O.state,O.context),O.state=O.__s,O.getChildContext!=null&&(f=dr(dr({},f),O.getChildContext())),j||O.getSnapshotBeforeUpdate==null||(N=O.getSnapshotBeforeUpdate(S,P)),V=w!=null&&w.type===fc&&w.key==null?w.props.children:w,By(v,Array.isArray(V)?V:[V],y,c,f,a,p,s,m,_),O.base=y.__e,y.__h=null,O.__h.length&&s.push(O),R&&(O.__E=O.__=null),O.__e=!1}else p==null&&y.__v===c.__v?(y.__k=c.__k,y.__e=c.__e):y.__e=a1(c.__e,y,c,f,a,p,s,_);(w=Lt.diffed)&&w(y)}catch(Y){y.__v=null,(_||p!=null)&&(y.__e=m,y.__h=!!_,p[p.indexOf(m)]=null),Lt.__e(Y,y,c)}}function i1(v,y){Lt.__c&&Lt.__c(y,v),v.some(function(c){try{v=c.__h,c.__h=[],v.some(function(f){f.call(c)})}catch(f){Lt.__e(f,c.__v)}})}function a1(v,y,c,f,a,p,s,m){var _,w,O,j=c.props,S=y.props,P=y.type,N=0;if(P==="svg"&&(a=!0),p!=null){for(;N<p.length;N++)if((_=p[N])&&"setAttribute"in _==!!P&&(P?_.localName===P:_.nodeType===3)){v=_,p[N]=null;break}}if(v==null){if(P===null)return document.createTextNode(S);v=a?document.createElementNS("http://www.w3.org/2000/svg",P):document.createElement(P,S.is&&S),p=null,m=!1}if(P===null)j===S||m&&v.data===S||(v.data=S);else{if(p=p&&lc.call(v.childNodes),w=(j=c.props||Cy).dangerouslySetInnerHTML,O=S.dangerouslySetInnerHTML,!m){if(p!=null)for(j={},N=0;N<v.attributes.length;N++)j[v.attributes[N].name]=v.attributes[N].value;(O||w)&&(O&&(w&&O.__html==w.__html||O.__html===v.innerHTML)||(v.innerHTML=O&&O.__html||""))}if(o1(v,S,j,a,m),O)y.__k=[];else if(N=y.props.children,By(v,Array.isArray(N)?N:[N],y,c,f,a&&P!=="foreignObject",p,s,p?p[0]:c.__k&&to(c,0),m),p!=null)for(N=p.length;N--;)p[N]!=null&&Iy(p[N]);m||("value"in S&&(N=S.value)!==void 0&&(N!==j.value||N!==v.value||P==="progress"&&!N)&&ra(v,"value",N,j.value,!1),"checked"in S&&(N=S.checked)!==void 0&&N!==v.checked&&ra(v,"checked",N,j.checked,!1))}return v}function Vy(v,y,c){try{typeof v=="function"?v(y):v.current=y}catch(f){Lt.__e(f,c)}}function Wy(v,y,c){var f,a;if(Lt.unmount&&Lt.unmount(v),(f=v.ref)&&(f.current&&f.current!==v.__e||Vy(f,null,y)),(f=v.__c)!=null){if(f.componentWillUnmount)try{f.componentWillUnmount()}catch(p){Lt.__e(p,y)}f.base=f.__P=null}if(f=v.__k)for(a=0;a<f.length;a++)f[a]&&Wy(f[a],y,typeof v.type!="function");c||v.__e==null||Iy(v.__e),v.__e=v.__d=void 0}function u1(v,y,c){return this.constructor(v,c)}lc=Ry.slice,Lt={__e:function(v,y){for(var c,f,a;y=y.__;)if((c=y.__c)&&!c.__)try{if((f=c.constructor)&&f.getDerivedStateFromError!=null&&(c.setState(f.getDerivedStateFromError(v)),a=c.__d),c.componentDidCatch!=null&&(c.componentDidCatch(v),a=c.__d),a)return c.__E=c}catch(p){v=p}throw v}},Dy=0,eo.prototype.setState=function(v,y){var c;c=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=dr({},this.state),typeof v=="function"&&(v=v(dr({},c),this.props)),v&&dr(c,v),v!=null&&this.__v&&(y&&this.__h.push(y),zy(this))},eo.prototype.forceUpdate=function(v){this.__v&&(this.__e=!0,v&&this.__h.push(v),zy(this))},eo.prototype.render=fc,Ko=[],My=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,na.__r=0;var qo=globalThis&&globalThis.__assign||function(){return qo=Object.assign||function(v){for(var y,c=1,f=arguments.length;c<f;c++){y=arguments[c];for(var a in y)Object.prototype.hasOwnProperty.call(y,a)&&(v[a]=y[a])}return v},qo.apply(this,arguments)};function pc(v){var y=v.x,c=v.y,f=v.width,a=v.height,p=v.radius,s=v.className,m=y-f/2,_=c-a/2,w=qo(qo({width:10,height:10,cx:0,cy:0,rx:p||0,ry:p||0,fill:"transparent",fillOpacity:1,strokeWidth:"1px",stroke:"#000",strokeOpacity:1,className:"lf-basic-shape "+s},v),{x:m,y:_});return Ze.exports.h("rect",qo({},w))}pc.defaultProps={radius:0,stroke:"",strokeDasharray:"",className:""};var $o;(function(v){v.NODE="node",v.CIRCLE_NODE="circle-node",v.POLYGON_NODE="polygon-node",v.RECT_NODE="rect-node",v.TEXT_NODE="text-node",v.ELLIPSE_NODE="ellipse-node",v.DIAMOND_NODE="diamond-node",v.EDGE="edge",v.LINE_EDGE="line-edge",v.POLYLINE_EDGE="polyline-edge",v.BEZIER_EDGE="bezier-edge",v.GRAPH="graph"})($o||($o={}));function oa(v){var y=v.x,c=v.y,f=v.width,a=v.height;return{minX:y-f/2,minY:c-a/2,maxX:y+f/2,maxY:c+a/2}}function Ky(v){var y=oa(v),c=v.radius,f=y.minX,a=y.minY,p=y.maxX,s=y.maxY;return[{x:f+c,y:a+c},{x:p-c,y:a+c},{x:p-c,y:s-c},{x:f+c,y:s-c}]}function Zy(v){var y=v.point,c=v.beforeNode,f=v.afterNode,a=y.x,p=y.y,s={x:a,y:p},m=c.radius,_=oa(c),w=oa(f);if(a===_.minX){s.x=w.minX;var O=(p-c.y)/(c.height/2-m);O?s.y=f.y+(f.height/2-m)*O:s.y=f.y}else if(a===_.maxX){s.x=w.maxX;var O=(p-c.y)/(c.height/2-m);O?s.y=f.y+(f.height/2-m)*O:s.y=f.y}else if(p===_.minY){s.y=w.minY;var O=(a-c.x)/(c.width/2-m);O?s.x=f.x+(f.width/2-m)*O:s.x=f.x}else if(p===_.maxY){s.y=w.maxY;var O=(a-c.x)/(c.width/2-m);O?s.x=f.x+(f.width/2-m)*O:s.x=f.x}else{var j=Ky(c),S=Ky(f),P=oa(c),N=P.minX,R=P.minY,X=P.maxX,H=P.maxY,I=-1;if(a-N<m&&p-R<m?I=0:X-a<m&&p-R<m?I=1:X-a<m&&H-p<m?I=2:a-N<m&&R-p<m&&(I=3),I>-1){var V=Math.atan2(p-j[I].y,a-j[I].x);s.x=S[I].x+m*Math.cos(V),s.y=S[I].y+m*Math.sin(V)}}return s}function qy(v){var y=v.point,c=v.beforeNode,f=v.afterNode,a=f.rx,p=f.ry,s=y,m=(y.y-c.y)/(y.x-c.x),_=a,w=p,O,j;return m>=1/0?(O=0,j=w):m<=-1/0?(O=0,j=-w):y.x-c.x>0?(O=_*w/Math.sqrt(w*w+_*_*m*m),j=_*w*m/Math.sqrt(w*w+_*_*m*m)):(O=-(_*w)/Math.sqrt(w*w+_*_*m*m),j=-(_*w*m)/Math.sqrt(w*w+_*_*m*m)),s={x:O+f.x,y:j+f.y},s}function $y(v){var y=v.point,c=v.beforeNode,f=v.afterNode,a=y,p,s,m=y.x-c.x,_=y.y-c.y,w=c.rx,O=c.ry,j=Math.sqrt((w-Math.abs(m))*(w-Math.abs(m))+_*_)/Math.sqrt(w*w+O*O),S=f.rx,P=f.ry,N=Math.sqrt((S*S+P*P)*j*j*(S*S/(S*S+P*P))),R=N*(P/S);return m>=0?p=S-N:p=N-S,_>0?s=R:s=-R,a={x:p+f.x,y:s+f.y},a}var c1=globalThis&&globalThis.__extends||function(){var v=function(y,c){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,a){f.__proto__=a}||function(f,a){for(var p in a)a.hasOwnProperty(p)&&(f[p]=a[p])},v(y,c)};return function(y,c){v(y,c);function f(){this.constructor=y}y.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}(),kr=globalThis&&globalThis.__assign||function(){return kr=Object.assign||function(v){for(var y,c=1,f=arguments.length;c<f;c++){y=arguments[c];for(var a in y)Object.prototype.hasOwnProperty.call(y,a)&&(v[a]=y[a])}return v},kr.apply(this,arguments)},s1=Ze.exports.LogicFlowUtil.createDrag,l1=function(v){c1(y,v);function y(c){var f=v.call(this)||this;f.updatePosition=function(s){var m=s.deltaX,_=s.deltaY,w=f.nodeModel,O=w.x,j=w.y;f.nodeModel.x=O+m/2,f.nodeModel.y=j+_/2,f.nodeModel.moveText(m/2,_/2)},f.getResize=function(s){var m=s.index,_=s.deltaX,w=s.deltaY,O=s.width,j=s.height,S=s.pct,P=S===void 0?1:S,N={width:O,height:j};switch(m){case 0:N.width=O-_*P,N.height=j-w*P;break;case 1:N.width=O+_*P,N.height=j-w*P;break;case 2:N.width=O+_,N.height=j+w*P;break;case 3:N.width=O-_*P,N.height=j+w*P;break}return N},f.updateRect=function(s){var m=s.deltaX,_=s.deltaY,w=f.nodeModel,O=w.id,j=w.x,S=w.y,P=w.width,N=w.height,R=w.radius,X=f.index,H=f.getResize({index:X,deltaX:m,deltaY:_,width:P,height:N,pct:1}),I=f.nodeModel,V=I.minWidth,Z=I.minHeight,Y=I.maxWidth,M=I.maxHeight;if(!(H.width<V||H.width>Y||H.height<Z||H.height>M)){f.updatePosition({deltaX:m,deltaY:_}),f.nodeModel.width=H.width,f.nodeModel.height=H.height,f.nodeModel.setProperties({nodeSize:{width:H.width,height:H.height}});var z=f.getNodeEdges(O),k={x:j,y:S,width:P,height:N,radius:R},L={x:f.nodeModel.x,y:f.nodeModel.y,width:f.nodeModel.width,height:f.nodeModel.height,radius:R},U={point:"",beforeNode:k,afterNode:L},te;z.sourceEdges.forEach(function($){U.point=$.startPoint,te=Zy(U),$.updateStartPoint(te)}),z.targetEdges.forEach(function($){U.point=$.endPoint,te=Zy(U),$.updateEndPoint(te)}),f.eventEmit({beforeNode:k,afterNode:L})}},f.updateEllipse=function(s){var m=s.deltaX,_=s.deltaY,w=f.nodeModel,O=w.id,j=w.rx,S=w.ry,P=w.x,N=w.y,R=f.index,X=j,H=S,I=f.getResize({index:R,deltaX:m,deltaY:_,width:X,height:H,pct:1/2}),V=f.nodeModel,Z=V.minWidth,Y=V.minHeight,M=V.maxWidth,z=V.maxHeight;if(!(I.width<Z/2||I.width>M/2||I.height<Y/2||I.height>z/2)){f.updatePosition({deltaX:m,deltaY:_}),f.nodeModel.rx=I.width,f.nodeModel.ry=I.height,f.nodeModel.setProperties({nodeSize:{rx:I.width,ry:I.height}});var k=f.getNodeEdges(O),L={x:P,y:N},U={rx:I.width,ry:I.height,x:f.nodeModel.x,y:f.nodeModel.y},te={point:{},beforeNode:L,afterNode:U},$;k.sourceEdges.forEach(function(ae){te.point=ae.startPoint,$=qy(te),ae.updateStartPoint($)}),k.targetEdges.forEach(function(ae){te.point=ae.endPoint,$=qy(te),ae.updateEndPoint($)}),f.eventEmit({beforeNode:kr(kr({},L),{rx:j,ry:S}),afterNode:U})}},f.updateDiamond=function(s){var m=s.deltaX,_=s.deltaY,w=f.nodeModel,O=w.id,j=w.rx,S=w.ry,P=w.x,N=w.y,R=f.index,X=j,H=S,I=f.getResize({index:R,deltaX:m,deltaY:_,width:X,height:H,pct:1/2}),V=_c.sizeRange.ellipse,Z=V.minRx,Y=V.minRy,M=V.maxRx,z=V.maxRy;if(!(I.width<Z||I.width>M||I.height<Y||I.height>z)){f.updatePosition({deltaX:m,deltaY:_}),f.nodeModel.rx=I.width,f.nodeModel.ry=I.height,f.nodeModel.setProperties({nodeSize:{rx:I.width,ry:I.height}});var k={x:P,y:N,rx:j,ry:S},L={rx:I.width,ry:I.height,x:f.nodeModel.x,y:f.nodeModel.y},U={point:{},beforeNode:k,afterNode:L},te,$=f.getNodeEdges(O);$.sourceEdges.forEach(function(ae){U.point=ae.startPoint,te=$y(U),ae.updateStartPoint(te)}),$.targetEdges.forEach(function(ae){U.point=ae.endPoint,te=$y(U),ae.updateEndPoint(te)}),f.eventEmit({beforeNode:k,afterNode:L})}},f.eventEmit=function(s){var m=s.beforeNode,_=s.afterNode,w=f.nodeModel,O=w.id,j=w.modelType,S=w.type,P=kr({id:O,modelType:j,type:S},m),N=kr({id:O,modelType:j,type:S},_);f.graphModel.eventCenter.emit("node:resize",{oldNodeSize:P,newNodeSize:N})},f.onDraging=function(s){var m=s.deltaX,_=s.deltaY,w=f.nodeModel.modelType;w===$o.RECT_NODE?f.updateRect({deltaX:m,deltaY:_}):w===$o.ELLIPSE_NODE?f.updateEllipse({deltaX:m,deltaY:_}):w===$o.DIAMOND_NODE&&f.updateDiamond({deltaX:m,deltaY:_})},f.index=c.index,f.nodeModel=c.nodeModel,f.graphModel=c.graphModel;var a=f.graphModel.gridSize,p=2;return a>1&&(p=2*a),f.state={},f.dragHandler=s1({onDraging:f.onDraging,step:p}),f}return y.prototype.getNodeEdges=function(c){for(var f=this.graphModel,a=f.edges,p=[],s=[],m=0;m<a.length;m++){var _=a[m];_.sourceNodeId===c?p.push(_):a[m].targetNodeId===c&&s.push(_)}return{sourceEdges:p,targetEdges:s}},y.prototype.render=function(){var c=this.props,f=c.x,a=c.y,p=c.style,s=c.index,m=_c.style.controlPoint,_=m.width,w=m.height,O=m.fill,j=m.stroke;return Zo("g",{className:"lf-resize-control-"+s},Zo(pc,kr({className:"lf-node-control"},{x:f,y:a},p,{width:_,height:w,fill:O,stroke:j,onMouseDown:this.dragHandler})))},y}(eo),f1=globalThis&&globalThis.__extends||function(){var v=function(y,c){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,a){f.__proto__=a}||function(f,a){for(var p in a)a.hasOwnProperty(p)&&(f[p]=a[p])},v(y,c)};return function(y,c){v(y,c);function f(){this.constructor=y}y.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}(),dc=globalThis&&globalThis.__assign||function(){return dc=Object.assign||function(v){for(var y,c=1,f=arguments.length;c<f;c++){y=arguments[c];for(var a in y)Object.prototype.hasOwnProperty.call(y,a)&&(v[a]=y[a])}return v},dc.apply(this,arguments)},hc=function(v){f1(y,v);function y(){var c=v.call(this)||this;return c.state={},c}return y.prototype.getResizeControl=function(){var c=this.props,f=c.x,a=c.y,p=c.width,s=c.height,m=c.nodeModel,_=c.graphModel,w={minX:f-p/2,minY:a-s/2,maxX:f+p/2,maxY:a+s/2},O=w.minX,j=w.minY,S=w.maxX,P=w.maxY,N=[{x:O,y:j},{x:S,y:j},{x:S,y:P},{x:O,y:P}];return N.map(function(R,X){return Zo(l1,dc({index:X},R,{nodeModel:m,graphModel:_}))})},y.prototype.getGroupSolid=function(){var c=this.props,f=c.x,a=c.y,p=c.width,s=c.height,m=_c.style.outline,_=m.stroke,w=m.strokeWidth,O=m.strokeDasharray;return Zo(pc,{fill:"none",x:f,y:a,width:p,height:s,stroke:_,strokeWidth:w,strokeDasharray:O})},y.prototype.render=function(){return Zo("g",{className:"lf-resize-control"},this.getGroupSolid(),this.getResizeControl())},y}(eo),Jy=globalThis&&globalThis.__extends||function(){var v=function(y,c){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,a){f.__proto__=a}||function(f,a){for(var p in a)a.hasOwnProperty(p)&&(f[p]=a[p])},v(y,c)};return function(y,c){v(y,c);function f(){this.constructor=y}y.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}(),yc=globalThis&&globalThis.__assign||function(){return yc=Object.assign||function(v){for(var y,c=1,f=arguments.length;c<f;c++){y=arguments[c];for(var a in y)Object.prototype.hasOwnProperty.call(y,a)&&(v[a]=y[a])}return v},yc.apply(this,arguments)},p1=function(v){Jy(y,v);function y(){var c=v!==null&&v.apply(this,arguments)||this;return c.minWidth=30,c.minHeight=30,c.maxWidth=2e3,c.maxHeight=2e3,c}return y.prototype.setAttributes=function(){this.hideOutline=!0;var c=this.properties.nodeSize;c&&(this.width=c.width,this.height=c.height)},y}(Ze.exports.RectNodeModel),d1=function(v){Jy(y,v);function y(){return v!==null&&v.apply(this,arguments)||this}return y.prototype.getControlGroup=function(c){var f=this.props,a=f.model,p=f.graphModel;return Ze.exports.h(hc,yc({},c,{nodeModel:a,graphModel:p}))},y.prototype.getResizeShape=function(){return v.prototype.getShape.call(this)},y.prototype.getShape=function(){var c=v.prototype.getAttributes.call(this),f=this.props.model.isSelected;return Ze.exports.h("g",null,this.getResizeShape(),f?this.getControlGroup(c):"")},y}(Ze.exports.RectNode),vc={type:"rect",view:d1,model:p1},ia=globalThis&&globalThis.__assign||function(){return ia=Object.assign||function(v){for(var y,c=1,f=arguments.length;c<f;c++){y=arguments[c];for(var a in y)Object.prototype.hasOwnProperty.call(y,a)&&(v[a]=y[a])}return v},ia.apply(this,arguments)};function h1(v){var y=v.x,c=y===void 0?0:y,f=v.y,a=f===void 0?0:f,p=v.rx,s=p===void 0?4:p,m=v.ry,_=m===void 0?4:m,w=ia({cx:c,cy:a,rx:s,ry:_,fill:"transparent",fillOpacity:1,strokeWidth:1,stroke:"#000",strokeOpacity:1},v);return Ze.exports.h("ellipse",ia({},w))}var Qy=globalThis&&globalThis.__extends||function(){var v=function(y,c){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,a){f.__proto__=a}||function(f,a){for(var p in a)a.hasOwnProperty(p)&&(f[p]=a[p])},v(y,c)};return function(y,c){v(y,c);function f(){this.constructor=y}y.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}(),aa=globalThis&&globalThis.__assign||function(){return aa=Object.assign||function(v){for(var y,c=1,f=arguments.length;c<f;c++){y=arguments[c];for(var a in y)Object.prototype.hasOwnProperty.call(y,a)&&(v[a]=y[a])}return v},aa.apply(this,arguments)},y1=function(v){Qy(y,v);function y(){var c=v!==null&&v.apply(this,arguments)||this;return c.minWidth=30,c.minHeight=30,c.maxWidth=2e3,c.maxHeight=2e3,c}return y.prototype.setAttributes=function(){this.hideOutline=!0;var c=this.properties.nodeSize;c&&(this.rx=c.rx,this.ry=c.ry)},y}(Ze.exports.EllipseNodeModel),v1=function(v){Qy(y,v);function y(){return v!==null&&v.apply(this,arguments)||this}return y.prototype.getControlGroup=function(c){var f=this.props,a=f.model,p=f.graphModel;return Ze.exports.h(hc,aa({},c,{nodeModel:a,graphModel:p}))},y.prototype.getResizeShape=function(c){return Ze.exports.h("g",null,Ze.exports.h(h1,aa({},c)))},y.prototype.getShape=function(){var c=v.prototype.getAttributes.call(this),f=this.props.model.isSelected;return Ze.exports.h("g",null,this.getResizeShape(c),f?this.getControlGroup(c):"")},y}(Ze.exports.EllipseNode),gc={type:"ellipse",view:v1,model:y1},bc=globalThis&&globalThis.__assign||function(){return bc=Object.assign||function(v){for(var y,c=1,f=arguments.length;c<f;c++){y=arguments[c];for(var a in y)Object.prototype.hasOwnProperty.call(y,a)&&(v[a]=y[a])}return v},bc.apply(this,arguments)};function g1(v){var y=v.fillOpacity,c=y===void 0?1:y,f=v.strokeWidth,a=f===void 0?1:f,p=v.strokeOpacity,s=p===void 0?1:p,m=v.fill,_=m===void 0?"transparent":m,w=v.stroke,O=w===void 0?"#000":w,j=v.points,S=v.className,P=S===void 0?"lf-basic-shape":S,N={fill:_,fillOpacity:c,strokeWidth:a,stroke:O,strokeOpacity:s,points:"",className:P};return N.points=j.map(function(R){return R.join(",")}).join(" "),Ze.exports.h("polygon",bc({},N))}var ev=globalThis&&globalThis.__extends||function(){var v=function(y,c){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,a){f.__proto__=a}||function(f,a){for(var p in a)a.hasOwnProperty(p)&&(f[p]=a[p])},v(y,c)};return function(y,c){v(y,c);function f(){this.constructor=y}y.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}(),ua=globalThis&&globalThis.__assign||function(){return ua=Object.assign||function(v){for(var y,c=1,f=arguments.length;c<f;c++){y=arguments[c];for(var a in y)Object.prototype.hasOwnProperty.call(y,a)&&(v[a]=y[a])}return v},ua.apply(this,arguments)},b1=function(v){ev(y,v);function y(){return v!==null&&v.apply(this,arguments)||this}return y.prototype.setAttributes=function(){this.hideOutline=!0;var c=this.properties.nodeSize;c&&(this.rx=c.rx,this.ry=c.ry)},y}(Ze.exports.DiamondNodeModel),m1=function(v){ev(y,v);function y(){return v!==null&&v.apply(this,arguments)||this}return y.prototype.getControlGroup=function(c){var f=this.props,a=f.model,p=f.graphModel;return Ze.exports.h(hc,ua({},c,{nodeModel:a,graphModel:p}))},y.prototype.getResizeShape=function(c){return Ze.exports.h("g",null,Ze.exports.h(g1,ua({},c)))},y.prototype.getShape=function(){var c=v.prototype.getAttributes.call(this),f=this.props.model.isSelected;return Ze.exports.h("g",null,this.getResizeShape(c),f?this.getControlGroup(c):"")},y}(Ze.exports.DiamondNode),mc={type:"diamond",view:m1,model:b1},_1={pluginName:"node-resize",step:0,style:{outline:{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"},controlPoint:{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},sizeRange:{ellipse:{minRx:15,minRy:15,maxRx:150,maxRy:150},diamond:{minRx:15,minRy:15,maxRx:150,maxRy:150}},install:function(v){v.register({type:vc.type,view:vc.view,model:vc.model}),v.register({type:gc.type,view:gc.view,model:gc.model}),v.register({type:mc.type,view:mc.view,model:mc.model})}},_c=_1,O1=globalThis&&globalThis.__read||function(v,y){var c=typeof Symbol=="function"&&v[Symbol.iterator];if(!c)return v;var f=c.call(v),a,p=[],s;try{for(;(y===void 0||y-- >0)&&!(a=f.next()).done;)p.push(a.value)}catch(m){s={error:m}}finally{try{a&&!a.done&&(c=f.return)&&c.call(f)}finally{if(s)throw s.error}}return p};globalThis&&globalThis.__spread;var tv=globalThis&&globalThis.__assign||function(){return tv=Object.assign||function(v){for(var y,c=1,f=arguments.length;c<f;c++){y=arguments[c];for(var a in y)Object.prototype.hasOwnProperty.call(y,a)&&(v[a]=y[a])}return v},tv.apply(this,arguments)};const w1={SEQUENCE_FLOW:1,START_EVENT:2,END_EVENT:3,USER_TASK:4,SERVICE_TASK:5,EXCLUSIVE_GATEWAY:6};function x1(v){const{incoming:y,outgoing:c,properties:f,key:a}=v,{text:p,startPoint:s,endPoint:m,pointsList:_,logicFlowType:w}=f,O={id:a,type:w,sourceNodeId:y[0],targetNodeId:c[0],text:p,startPoint:s,endPoint:m,pointsList:_,properties:{}},j=["startPoint","endPoint","pointsList","text","logicFlowType"];return Object.keys(v.properties).forEach(S=>{j.indexOf(S)===-1&&(O.properties[S]=v.properties[S])}),O}function E1(v){const{properties:y,key:c}=v,{x:f,y:a,text:p,logicFlowType:s}=y,m={id:c,type:s,x:f,y:a,text:p,properties:{}},_=["x","y","text","logicFlowType"];return Object.keys(v.properties).forEach(w=>{_.indexOf(w)===-1&&(m.properties[w]=v.properties[w])}),m}function j1(v){const y={nodes:[],edges:[]},c=v.flowElementList;return c&&c.length>0&&c.forEach(f=>{if(f.type===w1.SEQUENCE_FLOW){const a=x1(f);y.edges.push(a)}else{const a=E1(f);y.nodes.push(a)}}),y}function S1(v){return[{text:"\u9009\u533A",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAAH6ji2bAAAABGdBTUEAALGPC/xhBQAAAOVJREFUOBGtVMENwzAIjKP++2026ETdpv10iy7WFbqFyyW6GBywLCv5gI+Dw2Bluj1znuSjhb99Gkn6QILDY2imo60p8nsnc9bEo3+QJ+AKHfMdZHnl78wyTnyHZD53Zzx73MRSgYvnqgCUHj6gwdck7Zsp1VOrz0Uz8NbKunzAW+Gu4fYW28bUYutYlzSa7B84Fh7d1kjLwhcSdYAYrdkMQVpsBr5XgDGuXwQfQr0y9zwLda+DUYXLaGKdd2ZTtvbolaO87pdo24hP7ov16N0zArH1ur3iwJpXxm+v7oAJNR4JEP8DoAuSFEkYH7cAAAAASUVORK5CYII=",callback:()=>{v.updateEditConfig({stopMoveGraph:!0})}},{type:"circle",text:"\u5F00\u59CB",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAAH6ji2bAAAABGdBTUEAALGPC/xhBQAAAnBJREFUOBGdVL1rU1EcPfdGBddmaZLiEhdx1MHZQXApraCzQ7GKLgoRBxMfcRELuihWKcXFRcEWF8HBf0DdDCKYRZpnl7p0svLe9Zzbd29eQhTbC8nv+9zf130AT63jvooOGS8Vf9Nt5zxba7sXQwODfkWpkbjTQfCGUd9gIp3uuPP8bZ946g56dYQvnBg+b1HB8VIQmMFrazKcKSvFW2dQTxJnJdQ77urmXWOMBCmXM2Rke4S7UAW+/8ywwFoewmBps2tu7mbTdp8VMOkIRAkKfrVawalJTtIliclFbaOBqa0M2xImHeVIfd/nKAfVq/LGnPss5Kh00VEdSzfwnBXPUpmykNss4lUI9C1ga+8PNrBD5YeqRY2Zz8PhjooIbfJXjowvQJBqkmEkVnktWhwu2SM7SMx7Cj0N9IC0oQXRo8xwAGzQms+xrB/nNSUWVveI48ayrFGyC2+E2C+aWrZHXvOuz+CiV6iycWe1Rd1Q6+QUG07nb5SbPrL4426d+9E1axKjY3AoRrlEeSQo2Eu0T6BWAAr6COhTcWjRaYfKG5csnvytvUr/WY4rrPMB53Uo7jZRjXaG6/CFfNMaXEu75nG47X+oepU7PKJvvzGDY1YLSKHJrK7vFUwXKkaxwhCW3u+sDFMVrIju54RYYbFKpALZAo7sB6wcKyyrd+aBMryMT2gPyD6GsQoRFkGHr14TthZni9ck0z+Pnmee460mHXbRAypKNy3nuMdrWgVKj8YVV8E7PSzp1BZ9SJnJAsXdryw/h5ctboUVi4AFiCd+lQaYMw5z3LGTBKjLQOeUF35k89f58Vv/tGh+l+PE/wG0rgfIUbZK5AAAAABJRU5ErkJggg=="},{type:"rect",text:"\u7528\u6237\u4EFB\u52A1",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAEFVwZaAAAABGdBTUEAALGPC/xhBQAAAqlJREFUOBF9VM9rE0EUfrMJNUKLihGbpLGtaCOIR8VjQMGDePCgCCIiCNqzCAp2MyYUCXhUtF5E0D+g1t48qAd7CCLqQUQKEWkStcEfVGlLdp/fm3aW2QQdyLzf33zz5m2IsAZ9XhDpyaaIZkTS4ASzK41TFao88GuJ3hsr2pAbipHxuSYyKRugagICGANkfFnNh3HeE2N0b3nN2cgnpcictw5veJIzxmDamSlxxQZicq/mflxhbaH8BLRbuRwNtZp0JAhoplVRUdzmCe/vO27wFuuA3S5qXruGdboy5/PRGFsbFGKo/haRtQHIrM83bVeTrOgNhZReWaYGnE4aUQgTJNvijJFF4jQ8BxJE5xfKatZWmZcTQ+BVgh7s8SgPlCkcec4mGTmieTP4xd7PcpIEg1TX6gdeLW8rTVMVLVvb7ctXoH0Cydl2QOPJBG21STE5OsnbweVYzAnD3A7PVILuY0yiiyDwSm2g441r6rMSgp6iK42yqroI2QoXeJVeA+YeZSa47gZdXaZWQKTrG93rukk/l2Al6Kzh5AZEl7dDQy+JjgFahQjRopSxPbrbvK7GRe9ePWBo1wcU7sYrFZtavXALwGw/7Dnc50urrHJuTPSoO2IMV3gUQGNg87IbSOIY9BpiT9HV7FCZ94nPXb3MSnwHn/FFFE1vG6DTby+r31KAkUktB3Qf6ikUPWxW1BkXSPQeMHHiW0+HAd2GelJsZz1OJegCxqzl+CLVHa/IibuHeJ1HAKzhuDR+ymNaRFM+4jU6UWKXorRmbyqkq/D76FffevwdCp+jN3UAN/C9JRVTDuOxC/oh+EdMnqIOrlYteKSfadVRGLJFJPSB/ti/6K8f0CNymg/iH2gO/f0DwE0yjAFO6l8JaR5j0VPwPwfaYHqOqrCI319WzwhwzNW/aQAAAABJRU5ErkJggg==",cls:"important-node"},{type:"rect",text:"\u7CFB\u7EDF\u4EFB\u52A1",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAEFVwZaAAAABGdBTUEAALGPC/xhBQAAAqlJREFUOBF9VM9rE0EUfrMJNUKLihGbpLGtaCOIR8VjQMGDePCgCCIiCNqzCAp2MyYUCXhUtF5E0D+g1t48qAd7CCLqQUQKEWkStcEfVGlLdp/fm3aW2QQdyLzf33zz5m2IsAZ9XhDpyaaIZkTS4ASzK41TFao88GuJ3hsr2pAbipHxuSYyKRugagICGANkfFnNh3HeE2N0b3nN2cgnpcictw5veJIzxmDamSlxxQZicq/mflxhbaH8BLRbuRwNtZp0JAhoplVRUdzmCe/vO27wFuuA3S5qXruGdboy5/PRGFsbFGKo/haRtQHIrM83bVeTrOgNhZReWaYGnE4aUQgTJNvijJFF4jQ8BxJE5xfKatZWmZcTQ+BVgh7s8SgPlCkcec4mGTmieTP4xd7PcpIEg1TX6gdeLW8rTVMVLVvb7ctXoH0Cydl2QOPJBG21STE5OsnbweVYzAnD3A7PVILuY0yiiyDwSm2g441r6rMSgp6iK42yqroI2QoXeJVeA+YeZSa47gZdXaZWQKTrG93rukk/l2Al6Kzh5AZEl7dDQy+JjgFahQjRopSxPbrbvK7GRe9ePWBo1wcU7sYrFZtavXALwGw/7Dnc50urrHJuTPSoO2IMV3gUQGNg87IbSOIY9BpiT9HV7FCZ94nPXb3MSnwHn/FFFE1vG6DTby+r31KAkUktB3Qf6ikUPWxW1BkXSPQeMHHiW0+HAd2GelJsZz1OJegCxqzl+CLVHa/IibuHeJ1HAKzhuDR+ymNaRFM+4jU6UWKXorRmbyqkq/D76FffevwdCp+jN3UAN/C9JRVTDuOxC/oh+EdMnqIOrlYteKSfadVRGLJFJPSB/ti/6K8f0CNymg/iH2gO/f0DwE0yjAFO6l8JaR5j0VPwPwfaYHqOqrCI319WzwhwzNW/aQAAAABJRU5ErkJggg==",cls:"import_icon"},{type:"diamond",text:"\u6761\u4EF6\u5224\u65AD",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAAHeEJUAAAAABGdBTUEAALGPC/xhBQAAAvVJREFUOBGNVEFrE0EU/mY3bQoiFlOkaUJrQUQoWMGePLX24EH0IIoHKQiCV0G8iE1covgLiqA/QTzVm1JPogc9tIJYFaQtlhQxqYjSpunu+L7JvmUTU3AgmTfvffPNN++9WSA1DO182f6xwILzD5btfAoQmwL5KJEwiQyVbSVZ0IgRyV6PTpIJ81E5ZvqfHQR0HUOBHW4L5Et2kQ6Zf7iAOhTFAA8s0pEP7AXO1uAA52SbqGk6h/6J45LaLhO64ByfcUzM39V7ZiAdS2yCePPEIQYvTUHqM/n7dgQNfBKWPjpF4ISk8q3J4nB11qw6X8l+FsF3EhlkEMfrjIer3wJTLwS2aCNcj4DbGxXTw00JmAuO+Ni6bBxVUCvS5d9aa04+so4pHW5jLTywuXAL7jJ+D06sl82Sgl2JuVBQn498zkc2bGKxULHjCnSMadBKYDYYHAtsby1EQ5lNGrQd4Y3v4Zo0XdGEmDno46yCM9Tk+RiJmUYHS/aXHPNTcjxcbTFna000PFJHIVZ5lFRqRpJWk9/+QtlOUYJj9HG5pVFEU7zqIYDVsw2s+AJaD8wTd2umgSCCyUxgGsS1Y6TBwXQQTFuZaHcd8gAGioE90hlsY+wMcs30RduYtxanjMGal8H5dMW67dmT1JFtYUEe8LiQLRsPZ6IIc7A4J5tqco3T0pnv/4u0kyzrYUq7gASuEyI8VXKvB9Odytv6jS/PNaZBln0nioJG/AVQRZvApOdhjj3Jt8QC8Im09SafwdBdvIpztpxWxpeKCC+EsFdS8DCyuCn2munFpL7ctHKp+Xc5cMybeIyMAN33SPL3ZR9QV1XVwLyzHm6Iv0/yeUuUb7PPlZC4D4HZkeu6dpF4v9j9MreGtMbxMMRLIcjJic9yHi7WQ3yVKzZVWUr5UrViJvn1FfUlwe/KYVfYyWRLSGNu16hR01U9IacajXPei0wx/5BqgInvJN+MMNtNme7ReU9SBbgntovn0kKHpFg7UogZvaZiOue/q1SBo9ktHzQAAAAASUVORK5CYII="},{type:"circle",text:"\u7ED3\u675F",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAAH6ji2bAAAABGdBTUEAALGPC/xhBQAAA1BJREFUOBFtVE1IVUEYPXOf+tq40Y3vPcmFIdSjIorWoRG0ERWUgnb5FwVhYQSl72oUoZAboxKNFtWiwKRN0M+jpfSzqJAQclHo001tKkjl3emc8V69igP3znzfnO/M9zcDcKT67azmjYWTwl9Vn7Vumeqzj1DVb6cleQY4oAVnIOPb+mKAGxQmKI5CWNJ2aLPatxWa3aB9K7/fB+/Z0jUF6TmMlFLQqrkECWQzOZxYGjTlOl8eeKaIY5yHnFn486xBustDjWT6dG7pmjHOJd+33t0iitTPkK6tEvjxq4h2MozQ6WFSX/LkDUGfFwfhEZj1Auz/U4pyAi5Sznd7uKzznXeVHlI/Aywmk6j7fsUsEuCGADrWARXXwjxWQsUbIupDHJI7kF5dRktg0eN81IbiZXiTESic50iwS+t1oJgL83jAiBupLDCQqwziaWSoAFSeIR3P5Xv5az00wyIn35QRYTwdSYbz8pH8fxUUAtxnFvYmEmgI0wYXUXcCCSpeEVpXlsRhBnCEATxWylL9+EKCAYhe1NGstUa6356kS9NVvt3DU2fd+Wtbm/+lSbylJqsqkSm9CRhvoJVlvKPvF1RKY/FcPn5j4UfIMLn8D4UYb54BNsilTDXKnF4CfTobA0FpoW/LSp306wkXM+XaOJhZaFkcNM82ASNAWMrhrUbRfmyeI1FvRBTpN06WKxa9BK0o2E4Pd3zfBBEwPsv9sQBnmLVbLEIZ/Xe9LYwJu/Er17W6HYVBc7vmuk0xUQ+pqxdom5Fnp55SiytXLPYoMXNM4u4SNSCFWnrVIzKG3EGyMXo6n/BQOe+bX3FClY4PwydVhthOZ9NnS+ntiLh0fxtlUJHAuGaFoVmttpVMeum0p3WEXbcll94l1wM/gZ0Ccczop77VvN2I7TlsZCsuXf1WHvWEhjO8DPtyOVg2/mvK9QqboEth+7pD6NUQC1HN/TwvydGBARi9MZSzLE4b8Ru3XhX2PBxf8E1er2A6516o0w4sIA+lwURhAON82Kwe2iDAC1Watq4XHaGQ7skLcFOtI5lDxuM2gZe6WFIotPAhbaeYlU4to5cuarF1QrcZ/lwrLaCJl66JBocYZnrNlvm2+MBCTmUymPrYZVbjdlr/BxlMjmNmNI3SAAAAAElFTkSuQmCC"}]}const P1=iy({name:"FlowChart",components:{BasicModal:sO,FlowChartToolbar:bO,JsonPreview:fO},props:{flowOptions:{type:Object,default:()=>({})},data:{type:Object,default:()=>({})},toolbar:{type:Boolean,default:!0},patternItems:{type:Array}},setup(v){const y=$i(null),c=$i({}),f=$i(null),{prefixCls:a}=V_("flow-chart"),p=W_(),[s,{openModal:m}]=lO();dO({logicFlow:f});const _=aO(()=>{const{flowOptions:S}=v;return nc({grid:!0,background:{color:p.getDarkMode==="light"?"#f7f9ff":"#151515"},keyboard:{enabled:!0}},S)});uy(()=>v.data,()=>{O()}),uy(()=>rn(_),S=>{var P;(P=rn(f))==null||P.updateEditConfig(S)});function w(){return qi(this,null,function*(){yield oc();const S=rn(y);if(!S)return;Jr.use(JO),Jr.use(FO),Jr.use(BO),Jr.use($O),Jr.use(QO),f.value=new Jr(oy(nc({},rn(_)),{container:S}));const P=rn(f);P==null||P.setDefaultEdgeType("line"),O(),P==null||P.setPatternItems(v.patternItems||S1(P))})}function O(){return qi(this,null,function*(){yield oc();const S=rn(f);if(!S)return;const P=j1(v.data);S.render(P)})}function j(){const S=rn(f);!S||(c.value=rn(S).getGraphData(),m())}return uO(w),{register:s,prefixCls:a,lfElRef:y,handlePreview:j,graphData:c}}}),A1={ref:"lfElRef",class:"h-full"};function k1(v,y,c,f,a,p){const s=fr("FlowChartToolbar"),m=fr("JsonPreview"),_=fr("BasicModal");return pr(),Xo("div",{class:Qi(["h-full",v.prefixCls])},[v.toolbar?(pr(),ac(s,{key:0,prefixCls:v.prefixCls,onViewData:v.handlePreview},null,8,["prefixCls","onViewData"])):ic("",!0),cO("div",A1,null,512),Go(_,{onRegister:v.register,title:"\u6D41\u7A0B\u6570\u636E",width:"50%"},{default:Ji(()=>[Go(m,{data:v.graphData},null,8,["data"])]),_:1},8,["onRegister"])],2)}var T1=rc(P1,[["render",k1]]);const D1=K_(T1),M1=[{incoming:[],outgoing:["Flow_33inf2k"],dockers:[],type:2,properties:{a:"efrwe",b:"wewe",name:"\u5F00\u59CB",x:280,y:200,text:{x:280,y:200,value:"\u5F00\u59CB"},logicFlowType:"bpmn:startEvent"},key:"Event_1d42u4p"},{incoming:["Flow_379e0o9"],outgoing:[],dockers:[],type:3,properties:{a:"efrwe",b:"wewe",name:"\u7ED3\u675F",x:920,y:200,text:{x:920,y:200,value:"\u7ED3\u675F"},logicFlowType:"bpmn:endEvent"},key:"Event_08p8i6q"},{incoming:["Flow_0pfouf0"],outgoing:["Flow_3918lhh"],dockers:[],type:6,properties:{a:"efrwe",b:"wewe",name:"\u7F51\u5173",x:580,y:200,text:{x:580,y:200,value:"\u7F51\u5173"},logicFlowType:"bpmn:exclusiveGateway"},key:"Gateway_1fngqgj"},{incoming:["Flow_33inf2k"],outgoing:["Flow_0pfouf0"],dockers:[],type:4,properties:{a:"efrwe",b:"wewe",name:"\u7528\u6237",x:420,y:200,text:{x:420,y:200,value:"\u7528\u6237"},logicFlowType:"bpmn:userTask"},key:"Activity_2mgtaia"},{incoming:["Flow_3918lhh"],outgoing:["Flow_379e0o9"],dockers:[],type:5,properties:{a:"efrwe",b:"wewe",name:"\u670D\u52A1",x:760,y:200,text:{x:760,y:200,value:"\u670D\u52A1"},logicFlowType:"bpmn:serviceTask"},key:"Activity_1sp8qc8"},{incoming:["Event_1d42u4p"],outgoing:["Activity_2mgtaia"],type:1,dockers:[],properties:{name:"\u8FB9",text:{x:331,y:200,value:"\u8FB9"},startPoint:{x:298,y:200},endPoint:{x:370,y:200},pointsList:[{x:298,y:200},{x:370,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_33inf2k"},{incoming:["Activity_2mgtaia"],outgoing:["Gateway_1fngqgj"],type:1,dockers:[],properties:{name:"\u8FB92",text:{x:507,y:200,value:"\u8FB92"},startPoint:{x:470,y:200},endPoint:{x:555,y:200},pointsList:[{x:470,y:200},{x:555,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_0pfouf0"},{incoming:["Gateway_1fngqgj"],outgoing:["Activity_1sp8qc8"],type:1,dockers:[],properties:{name:"\u8FB93",text:{x:664,y:200,value:"\u8FB93"},startPoint:{x:605,y:200},endPoint:{x:710,y:200},pointsList:[{x:605,y:200},{x:710,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_3918lhh"},{incoming:["Activity_1sp8qc8"],outgoing:["Event_08p8i6q"],type:1,dockers:[],properties:{name:"\u8FB94",text:{x:871,y:200,value:"\u8FB94"},startPoint:{x:810,y:200},endPoint:{x:902,y:200},pointsList:[{x:810,y:200},{x:902,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_379e0o9"}];var N1={flowElementList:M1};const C1={components:{FlowChart:D1,PageWrapper:pO},setup(){return{demoData:N1}}};function R1(v,y,c,f,a,p){const s=fr("FlowChart"),m=fr("PageWrapper");return pr(),ac(m,{title:"\u6D41\u7A0B\u56FE",content:"\u7B80\u5355\u6D41\u7A0B\u56FE\u793A\u4F8B,\u5177\u4F53\u529F\u80FD\u9700\u8981\u81EA\u5DF1\u5B8C\u5584",contentFullHeight:"",fixedHeight:""},{default:Ji(()=>[Go(s,{data:f.demoData},null,8,["data"])]),_:1})}var Z1=rc(C1,[["render",R1]]);export{Z1 as default};
