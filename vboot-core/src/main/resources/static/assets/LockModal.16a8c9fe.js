var u=(e,c,o)=>new Promise((m,r)=>{var p=s=>{try{a(o.next(s))}catch(n){r(n)}},t=s=>{try{a(o.throw(s))}catch(n){r(n)}},a=s=>s.done?m(s.value):Promise.resolve(s.value).then(p,t);a((o=o.apply(e,c)).next())});import{_ as B,a as b,f as C,b as w}from"./index.6733effe.js";import{B as F,a as y}from"./index.df186f99.js";import{B as $}from"./BasicForm.84475e4b.js";import{u as S}from"./useForm.da4c94f2.js";import{u as L}from"./lock.8b63196e.js";import{h as M}from"./header.d801b988.js";import{A as I,j,a0 as f,B as N,a1 as R,a6 as _,H as d,K as l,J as g,w as k,ae as P,a4 as U}from"./vendor.af2fe88b.js";import"./useWindowSizeFn.4124f9cf.js";/* empty css               *//* empty css               *//* empty css               *//* empty css                *//* empty css              *//* empty css               *//* empty css                *//* empty css                */import"./index.f5b97fd5.js";/* empty css                *//* empty css                *//* empty css                *//* empty css                *//* empty css                */import"./uuid.2b29000c.js";import"./download.891c7c9b.js";import"./base64Conver.08b9f4ec.js";import"./index.6073de15.js";const V=I({name:"LockModal",components:{BasicModal:F,BasicForm:$},setup(){const{t:e}=w(),{prefixCls:c}=b("header-lock-modal"),o=C(),m=L(),r=j(()=>{var i;return(i=o.getUserInfo)==null?void 0:i.realName}),[p,{closeModal:t}]=y(),[a,{validateFields:s,resetFields:n}]=S({showActionButtonGroup:!1,schemas:[{field:"password",label:e("layout.header.lockScreenPassword"),component:"InputPassword",required:!0}]});function h(){return u(this,null,function*(){const x=(yield s()).password;t(),m.setLockInfo({isLock:!0,pwd:x}),yield n()})}const v=j(()=>{const{avatar:i}=o.getUserInfo;return i||M});return{t:e,prefixCls:c,getRealName:r,register:p,registerForm:a,handleLock:h,avatar:v}}}),z=["src"];function A(e,c,o,m,r,p){const t=f("BasicForm"),a=f("a-button"),s=f("BasicModal");return N(),R(s,U({footer:null,title:e.t("layout.header.lockScreen")},e.$attrs,{class:e.prefixCls,onRegister:e.register}),{default:_(()=>[d("div",{class:l(`${e.prefixCls}__entry`)},[d("div",{class:l(`${e.prefixCls}__header`)},[d("img",{src:e.avatar,class:l(`${e.prefixCls}__header-img`)},null,10,z),d("p",{class:l(`${e.prefixCls}__header-name`)},g(e.getRealName),3)],2),k(t,{onRegister:e.registerForm},null,8,["onRegister"]),d("div",{class:l(`${e.prefixCls}__footer`)},[k(a,{type:"primary",block:"",class:"mt-2",onClick:e.handleLock},{default:_(()=>[P(g(e.t("layout.header.lockScreenBtn")),1)]),_:1},8,["onClick"])],2)],2)]),_:1},16,["title","class","onRegister"])}var fe=B(V,[["render",A]]);export{fe as default};
