import{aC as R,ae as T,_ as W,w as D}from"./index.6733effe.js";import{A as C,r as B,P as I,j as u,u as i,S as M,_ as P,$ as k,w as o,b2 as L,a0 as S,B as q,a1 as z,a6 as _,H as g,J as V,ae as $}from"./vendor.af2fe88b.js";/* empty css               */import{P as J}from"./index.0248b5d5.js";/* empty css               *//* empty css                */import"./useWindowSizeFn.4124f9cf.js";import"./useContentViewHeight.b4e0fa30.js";const U={height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String],bench:{type:[Number,String],default:0},itemHeight:{type:[Number,String],required:!0},items:{type:Array,default:()=>[]}},w="virtual-scroll";function a(t,s="px"){if(!(t==null||t===""))return isNaN(+t)?String(t):`${Number(t)}${s}`}var G=C({name:"VirtualScroll",props:U,setup(t,{slots:s}){const c=B(null),r=I({first:0,last:0,scrollTop:0}),p=u(()=>parseInt(t.bench,10)),d=u(()=>parseInt(t.itemHeight,10)),h=u(()=>Math.max(0,r.first-i(p))),f=u(()=>Math.min((t.items||[]).length,r.last+i(p))),v=u(()=>({height:a((t.items||[]).length*i(d))})),m=u(()=>{const e={},n=a(t.height),l=a(t.minHeight),b=a(t.minWidth),y=a(t.maxHeight),F=a(t.maxWidth),N=a(t.width);return n&&(e.height=n),l&&(e.minHeight=l),b&&(e.minWidth=b),y&&(e.maxHeight=y),F&&(e.maxWidth=F),N&&(e.width=N),e});M([()=>t.itemHeight,()=>t.height],()=>{H()});function x(e){const n=i(c);if(!n)return 0;const l=parseInt(t.height||0,10)||n.clientHeight;return e+Math.ceil(l/i(d))}function E(){return Math.floor(r.scrollTop/i(d))}function H(){const e=i(c);!e||(r.scrollTop=e.scrollTop,r.first=E(),r.last=x(r.first))}function j(){const{items:e=[]}=t;return e.slice(i(h),i(f)).map(A)}function A(e,n){n+=i(h);const l=a(n*i(d));return o("div",{class:`${w}__item`,style:{top:l},key:n},[T(s,"default",{index:n,item:e})])}return P(()=>{r.last=x(0),k(()=>{const e=i(c);!e||R({el:e,name:"scroll",listener:H,wait:0})})}),()=>o("div",{class:w,style:i(m),ref:c},[o("div",{class:`${w}__container`,style:i(v)},[j()])])}});var K=W(G,[["__scopeId","data-v-0610daca"]]);const O=D(K);const Q=(()=>{const t=[];for(let s=1;s<2e4;s++)t.push({title:"\u5217\u8868\u9879"+s});return t})(),X=C({components:{VScroll:O,Divider:L,PageWrapper:J},setup(){return{data:Q}}}),Y=$("\u57FA\u7840\u6EDA\u52A8\u793A\u4F8B"),Z={class:"virtual-scroll-demo-wrap"},tt={class:"virtual-scroll-demo__item"},et=$("\u5373\u4F7F\u4E0D\u53EF\u89C1\uFF0C\u4E5F\u9884\u5148\u52A0\u8F7D50\u6761\u6570\u636E\uFF0C\u9632\u6B62\u7A7A\u767D"),it={class:"virtual-scroll-demo-wrap"},nt={class:"virtual-scroll-demo__item"};function rt(t,s,c,r,p,d){const h=S("Divider"),f=S("VScroll"),v=S("PageWrapper");return q(),z(v,{class:"virtual-scroll-demo"},{default:_(()=>[o(h,null,{default:_(()=>[Y]),_:1}),g("div",Z,[o(f,{itemHeight:41,items:t.data,height:300,width:300},{default:_(({item:m})=>[g("div",tt,V(m.title),1)]),_:1},8,["items"])]),o(h,null,{default:_(()=>[et]),_:1}),g("div",it,[o(f,{itemHeight:41,items:t.data,height:300,width:300,bench:50},{default:_(({item:m})=>[g("div",nt,V(m.title),1)]),_:1},8,["items"])])]),_:1})}var mt=W(X,[["render",rt],["__scopeId","data-v-918662a0"]]);export{mt as default};
