var y=Object.defineProperty,$=Object.defineProperties;var P=Object.getOwnPropertyDescriptors;var F=Object.getOwnPropertySymbols;var R=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable;var V=(l,o,e)=>o in l?y(l,o,{enumerable:!0,configurable:!0,writable:!0,value:e}):l[o]=e,b=(l,o)=>{for(var e in o||(o={}))R.call(o,e)&&V(l,e,o[e]);if(F)for(var e of F(o))S.call(o,e)&&V(l,e,o[e]);return l},D=(l,o)=>$(l,P(o));var j=(l,o,e)=>new Promise((v,p)=>{var f=i=>{try{u(e.next(i))}catch(r){p(r)}},_=i=>{try{u(e.throw(i))}catch(r){p(r)}},u=i=>i.done?v(i.value):Promise.resolve(i.value).then(f,_);u((e=e.apply(l,o)).next())});import{P as T}from"./index.0248b5d5.js";import{u as A,B as H,a as q}from"./index.22b4830b.js";import{ah as z}from"./index.6733effe.js";import{h as G}from"./edit.e0eb6616.js";import{A as B,P as E,a0 as c,B as C,a1 as k,a6 as s,w as n,u as t,a4 as U,r as N,H as O,J as W,ae as h}from"./vendor.af2fe88b.js";import{c as I,a as J,d as L,e as M}from"./list.fd3e66c9.js";/* empty css               *//* empty css                */import"./useWindowSizeFn.4124f9cf.js";import"./useContentViewHeight.b4e0fa30.js";/* empty css               */const K=B({emits:["success","register"],setup(l,{emit:o}){const e=E({loadingText:"",url:"/sd/proj/main",data:{},rules:{name:[{required:!0,message:"\u8BF7\u8F93\u5165\u540D\u79F0"}]}}),[v,{setDrawerProps:p,changeLoading:f,closeDrawer:_}]=A(u=>j(this,null,function*(){e.loadingText="\u52A0\u8F7D\u4E2D",f(!0),u.record.id?e.data=yield z.get({url:e.url+"/one/"+u.record.id}):(e.data=u.record,e.data.avtag=!0),f(!1)}));return(u,i)=>{const r=c("vxe-input"),x=c("vxe-form-item"),g=c("vxe-switch"),w=c("vxe-textarea"),d=c("vxe-form");return C(),k(t(H),U(u.$attrs,{loadingText:t(e).loadingText,showFooter:"",title:"\u9879\u76EE\u4FE1\u606F",width:"70%",onOk:i[0]||(i[0]=a=>t(G)(u.$refs.xForm,t(e),o,t(p),t(f),t(_))),onRegister:t(v)}),{default:s(()=>[n(d,{"title-colon":"",ref:(a,m)=>{m.xForm=a},"title-align":"right","title-width":"100",data:t(e).data,rules:t(e).rules},{default:s(()=>[n(x,{title:"\u9879\u76EE\u540D\u79F0",field:"name","item-render":{},span:"12","title-width":"150"},{default:s(({data:a})=>[n(r,{modelValue:a.name,"onUpdate:modelValue":m=>a.name=m,clearable:""},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),n(x,{title:"\u662F\u5426\u53EF\u7528",field:"avtag","item-render":{},span:"12","title-width":"150"},{default:s(({data:a})=>[n(g,{modelValue:a.avtag,"onUpdate:modelValue":m=>a.avtag=m,"open-label":"\u662F","close-label":"\u5426"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),n(x,{title:"\u9879\u76EE\u5730\u5740",field:"code","item-render":{},span:"24","title-width":"150"},{default:s(({data:a})=>[n(r,{modelValue:a.addre,"onUpdate:modelValue":m=>a.addre=m,clearable:""},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),n(x,{title:"\u9879\u76EE\u5907\u6CE8",field:"notes","item-render":{},span:"24","title-width":"150"},{default:s(({data:a})=>[n(w,{modelValue:a.notes,"onUpdate:modelValue":m=>a.notes=m,placeholder:"\u8BF7\u8F93\u5165\u5907\u6CE8",autosize:{minRows:4,maxRows:6},clearable:""},null,8,["modelValue","onUpdate:modelValue"])]),_:1})]),_:1},8,["data","rules"])]),_:1},16,["loadingText","onRegister"])}}}),Q=h("\u67E5 \u8BE2"),X=h("\u65B0 \u589E"),Y=h("\u5220 \u9664"),Z=["onClick"],ee={name:"SdProjMain",inheritAttrs:!1};function te(l){const o=N({}),e=E({name:""}),v=E(I("/sd/proj/main",{},e,[{type:"checkbox",align:"center",width:42,fixed:"left"},{type:"seq",align:"center",width:50,fixed:"left"},{field:"name",title:"\u9879\u76EE\u540D\u79F0",width:300,fixed:"left",slots:{default:"name_default"}},{field:"addre",title:"\u9879\u76EE\u5730\u5740",width:300},{field:"crtim",title:"\u521B\u5EFA\u65F6\u95F4",width:160},{field:"notes",title:"\u5907\u6CE8"}])),p=()=>{o.value.commitProxy("query")},[f,{openDrawer:_}]=q();function u(){p()}return(i,r)=>{const x=c("vxe-input"),g=c("vxe-button"),w=c("vxe-grid");return C(),k(t(T),{class:"ztable",contentFullHeight:""},{default:s(()=>[n(w,U({ref:(d,a)=>{a.xGrid=d,o.value=d}},t(v)),{tbtns:s(()=>[n(x,{modelValue:t(e).name,"onUpdate:modelValue":r[0]||(r[0]=d=>t(e).name=d),placeholder:"\u8F93\u5165\u540D\u79F0\u67E5\u8BE2"},null,8,["modelValue"]),n(g,{onClick:p,status:"primary"},{default:s(()=>[Q]),_:1}),n(g,{onClick:r[1]||(r[1]=d=>t(J)({},t(_)))},{default:s(()=>[X]),_:1}),n(g,{onClick:r[2]||(r[2]=d=>t(L)(i.$refs.xGrid))},{default:s(()=>[Y]),_:1})]),name_default:s(({row:d})=>[O("span",{style:{cursor:"pointer",color:"#3e9ece"},onClick:a=>t(M)({id:d.id},t(_))},W(d.name),9,Z)]),_:1},16),n(K,{onRegister:t(f),onSuccess:u},null,8,["onRegister"])]),_:1})}}const fe=B(D(b({},ee),{setup:te}));export{fe as default};
