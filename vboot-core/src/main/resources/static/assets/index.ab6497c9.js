var w=(m,d,o)=>new Promise((t,c)=>{var u=e=>{try{s(o.next(e))}catch(n){c(n)}},f=e=>{try{s(o.throw(e))}catch(n){c(n)}},s=e=>e.done?t(e.value):Promise.resolve(e.value).then(u,f);s((o=o.apply(m,d)).next())});import{A as L,r as y,S as T,$ as D,n as k,a0 as A,B as x,D as b,ab as R,ap as S,F as B,G as F,w as i,u as r,a6 as a,ae as g,J as _}from"./vendor.af2fe88b.js";import I from"./DetailModal.92413ed3.js";import{B as V}from"./TableImg.ae08a7e1.js";import{T as M}from"./BasicForm.84475e4b.js";import{u as $}from"./useTable.3b4e656a.js";import{u as H}from"./index.df186f99.js";import{ah as N,b as z,av as G}from"./index.6733effe.js";import{getColumns as J}from"./data.c65334d2.js";import"./index.8addda00.js";/* empty css                */import"./useDescription.8f86739d.js";/* empty css                *//* empty css              */import"./useForm.da4c94f2.js";import"./index.0248b5d5.js";/* empty css               *//* empty css                */import"./useWindowSizeFn.4124f9cf.js";import"./useContentViewHeight.b4e0fa30.js";/* empty css                *//* empty css                *//* empty css               */import"./uuid.2b29000c.js";/* empty css               */import"./useSortable.8f85f589.js";/* empty css                *//* empty css                *//* empty css               *//* empty css               */import"./index.f5b97fd5.js";/* empty css                *//* empty css                *//* empty css                *//* empty css                */import"./download.891c7c9b.js";import"./base64Conver.08b9f4ec.js";import"./index.6073de15.js";var h;(function(m){m.Error="/error"})(h||(h={}));const W=()=>N.get({url:h.Error}),q={class:"p-4"},K=["src"],Se=L({setup(m){const d=y(),o=y([]),{t}=z(),c=G(),[u,{setTableData:f}]=$({title:t("sys.errorLog.tableTitle"),columns:J(),actionColumn:{width:80,title:"Action",dataIndex:"action",slots:{customRender:"action"}}}),[s,{openModal:e}]=H();T(()=>c.getErrorLogInfoList,p=>{D(()=>{f(k(p))})},{immediate:!0});function n(p){d.value=p,e(!0)}function v(){throw new Error("fire vue error!")}function E(){o.value.push(`${new Date().getTime()}.png`)}function C(){return w(this,null,function*(){yield W()})}return(p,O)=>{const j=A("a-button");return x(),b("div",q,[(x(!0),b(R,null,S(o.value,l=>B((x(),b("img",{key:l,src:l},null,8,K)),[[F,!1]])),128)),i(I,{info:d.value,onRegister:r(s)},null,8,["info","onRegister"]),i(r(V),{onRegister:r(u),class:"error-handle-table"},{toolbar:a(()=>[i(j,{onClick:v,type:"primary"},{default:a(()=>[g(_(r(t)("sys.errorLog.fireVueError")),1)]),_:1}),i(j,{onClick:E,type:"primary"},{default:a(()=>[g(_(r(t)("sys.errorLog.fireResourceError")),1)]),_:1}),i(j,{onClick:C,type:"primary"},{default:a(()=>[g(_(r(t)("sys.errorLog.fireAjaxError")),1)]),_:1})]),action:a(({record:l})=>[i(r(M),{actions:[{label:r(t)("sys.errorLog.tableActionDesc"),onClick:n.bind(null,l)}]},null,8,["actions"])]),_:1},8,["onRegister"])])}}});export{Se as default};
