var $=Object.defineProperty,P=Object.defineProperties;var U=Object.getOwnPropertyDescriptors;var B=Object.getOwnPropertySymbols;var R=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable;var D=(u,n,e)=>n in u?$(u,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):u[n]=e,V=(u,n)=>{for(var e in n||(n={}))R.call(n,e)&&D(u,e,n[e]);if(B)for(var e of B(n))S.call(n,e)&&D(u,e,n[e]);return u},b=(u,n)=>P(u,U(n));var E=(u,n,e)=>new Promise((x,c)=>{var f=r=>{try{s(e.next(r))}catch(p){c(p)}},v=r=>{try{s(e.throw(r))}catch(p){c(p)}},s=r=>r.done?x(r.value):Promise.resolve(r.value).then(f,v);s((e=e.apply(u,n)).next())});import{P as T}from"./index.0248b5d5.js";import{u as H,B as q,a as z}from"./index.22b4830b.js";import{ah as C}from"./index.6733effe.js";import{h as G}from"./edit.e0eb6616.js";import{A,P as h,a0 as m,B as j,a1 as k,a6 as l,w as a,u as o,a4 as y,r as N,H as O,J,ae as g}from"./vendor.af2fe88b.js";import{c as W,a as I,d as L,e as M}from"./list.fd3e66c9.js";/* empty css               *//* empty css                */import"./useWindowSizeFn.4124f9cf.js";import"./useContentViewHeight.b4e0fa30.js";/* empty css               */const K=A({emits:["success","register"],setup(u,{emit:n}){const e=h({loadingText:"",url:"/sd/cust/main",data:{},rules:{name:[{required:!0,message:"\u8BF7\u8F93\u5165\u540D\u79F0"}]}}),[x,{setDrawerProps:c,changeLoading:f,closeDrawer:v}]=H(s=>E(this,null,function*(){e.loadingText="\u52A0\u8F7D\u4E2D",f(!0),s.record.id?e.data=yield C.get({url:e.url+"/one/"+s.record.id}):(e.data=s.record,e.data.avtag=!0),f(!1)}));return(s,r)=>{const p=m("vxe-input"),i=m("vxe-form-item"),F=m("vxe-switch"),_=m("vxe-textarea"),w=m("vxe-form");return j(),k(o(q),y(s.$attrs,{loadingText:o(e).loadingText,showFooter:"",title:"\u5BA2\u6237\u4FE1\u606F",width:"70%",onOk:r[0]||(r[0]=t=>o(G)(s.$refs.xForm,o(e),n,o(c),o(f),o(v))),onRegister:o(x)}),{default:l(()=>[a(w,{"title-colon":"",ref:(t,d)=>{d.xForm=t},"title-align":"right","title-width":"100",data:o(e).data,rules:o(e).rules},{default:l(()=>[a(i,{title:"\u5BA2\u6237\u540D\u79F0",field:"name","item-render":{},span:"12","title-width":"150"},{default:l(({data:t})=>[a(p,{modelValue:t.name,"onUpdate:modelValue":d=>t.name=d,clearable:""},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),a(i,{title:"\u662F\u5426\u53EF\u7528",field:"avtag","item-render":{},span:"12","title-width":"150"},{default:l(({data:t})=>[a(F,{modelValue:t.avtag,"onUpdate:modelValue":d=>t.avtag=d,"open-label":"\u662F","close-label":"\u5426"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),a(i,{title:"\u5BA2\u6237\u5907\u6CE8",field:"notes","item-render":{},span:"24","title-width":"150"},{default:l(({data:t})=>[a(_,{modelValue:t.notes,"onUpdate:modelValue":d=>t.notes=d,placeholder:"\u8BF7\u8F93\u5165\u5907\u6CE8",autosize:{minRows:4,maxRows:6},clearable:""},null,8,["modelValue","onUpdate:modelValue"])]),_:1})]),_:1},8,["data","rules"])]),_:1},16,["loadingText","onRegister"])}}}),Q=g("\u67E5 \u8BE2"),X=g("\u65B0 \u589E"),Y=g("\u5220 \u9664"),Z=g("\u540C\u65F6\u4F7F\u7528JPA\u4E0Emybatis-plus\u7684\u4E8B\u52A1\u6D4B\u8BD5"),ee=["onClick"],te={name:"SdCustMain",inheritAttrs:!1};function oe(u){const n=N({}),e=h({name:""}),x=h(W("/sd/cust/main",{},e,[{type:"checkbox",align:"center",width:42,fixed:"left"},{type:"seq",align:"center",width:50,fixed:"left"},{field:"name",title:"\u5BA2\u6237\u540D\u79F0",width:300,fixed:"left",slots:{default:"name_default"}},{field:"crtim",title:"\u521B\u5EFA\u65F6\u95F4",width:160},{field:"notes",title:"\u5907\u6CE8"}])),c=()=>{n.value.commitProxy("query")},f=()=>E(this,null,function*(){alert("\u68C0\u67E5\u540E\u53F0\u4E8B\u52A1\u662F\u5426\u56DE\u6EDA"),yield C.post({url:"/sd/cust/main/test"})}),[v,{openDrawer:s}]=z();function r(){c()}return(p,i)=>{const F=m("vxe-input"),_=m("vxe-button"),w=m("vxe-grid");return j(),k(o(T),{class:"ztable",contentFullHeight:""},{default:l(()=>[a(w,y({ref:(t,d)=>{d.xGrid=t,n.value=t}},o(x)),{tbtns:l(()=>[a(F,{modelValue:o(e).name,"onUpdate:modelValue":i[0]||(i[0]=t=>o(e).name=t),placeholder:"\u8F93\u5165\u540D\u79F0\u67E5\u8BE2"},null,8,["modelValue"]),a(_,{onClick:c,status:"primary"},{default:l(()=>[Q]),_:1}),a(_,{onClick:i[1]||(i[1]=t=>o(I)({},o(s)))},{default:l(()=>[X]),_:1}),a(_,{onClick:i[2]||(i[2]=t=>o(L)(p.$refs.xGrid))},{default:l(()=>[Y]),_:1}),a(_,{onClick:i[3]||(i[3]=t=>f())},{default:l(()=>[Z]),_:1})]),name_default:l(({row:t})=>[O("span",{style:{cursor:"pointer",color:"#3e9ece"},onClick:d=>o(M)({id:t.id},o(s))},J(t.name),9,ee)]),_:1},16),a(K,{onRegister:o(v),onSuccess:r},null,8,["onRegister"])]),_:1})}}const _e=A(b(V({},te),{setup:oe}));export{_e as default};
