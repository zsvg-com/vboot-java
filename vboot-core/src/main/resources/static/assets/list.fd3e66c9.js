var l=(e,t,u)=>new Promise((a,n)=>{var o=r=>{try{s(u.next(r))}catch(i){n(i)}},m=r=>{try{s(u.throw(r))}catch(i){n(i)}},s=r=>r.done?a(r.value):Promise.resolve(r.value).then(o,m);s((u=u.apply(e,t)).next())});import{bA as c}from"./vendor.af2fe88b.js";import{ah as f}from"./index.6733effe.js";function w(e){return l(this,null,function*(){let t=e.id;e.params&&e.params.url&&(t=e.params.url);const u=e.getCheckboxRecords();if(u.length==0){yield c.modal.message({content:"\u8BF7\u9009\u62E9\u540E\u518D\u8FDB\u884C\u5220\u9664",status:"warning"});return}let a="";for(const o of u)a+=o.id+",";(yield c.modal.confirm("\u60A8\u786E\u5B9A\u8981\u5220\u9664\u5417\uFF1F"))==="confirm"&&(yield f.delete({url:t+"/"+a.substr(0,a.length-1)}),yield e.commitProxy("query"))})}function g(e){return l(this,null,function*(){let t=e.id;e.params&&e.params.url&&(t=e.params.url),(yield c.modal.confirm("\u60A8\u786E\u5B9A\u8981\u6E05\u7A7A\u5417\uFF1F"))==="confirm"&&(yield f.delete({url:t+"/all"}),yield e.commitProxy("query"))})}function y(e,t,u,a){return{id:e,highlightHoverRow:!0,checkboxConfig:{},height:"auto",pagerConfig:{pageSize:window.innerHeight<610?8:window.innerHeight>900?16:10},toolbarConfig:{slots:{buttons:"tbtns"},refresh:!0,zoom:!0,custom:!0},proxyConfig:{ajax:{query:({page:n})=>{const o=Object.assign({},u);return o.page=`${n.currentPage}`,o.pageSize=`${n.pageSize}`,f.get({url:t&&t.url?t.url:e,params:o})}}},columns:a,params:t}}function b(e,t){t(!0,{isUpdate:!1,record:e})}function E(e,t){t(!0,{isUpdate:!0,record:e})}export{b as a,g as b,y as c,w as d,E as e};
