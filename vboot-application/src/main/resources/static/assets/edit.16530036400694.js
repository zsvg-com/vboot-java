var S=Object.defineProperty,T=Object.defineProperties;var I=Object.getOwnPropertyDescriptors;var h=Object.getOwnPropertySymbols;var $=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable;var A=(i,u,d)=>u in i?S(i,u,{enumerable:!0,configurable:!0,writable:!0,value:d}):i[u]=d,C=(i,u)=>{for(var d in u||(u={}))$.call(u,d)&&A(i,d,u[d]);if(h)for(var d of h(u))j.call(u,d)&&A(i,d,u[d]);return i},D=(i,u)=>T(i,I(u));import{a as H,aB as J,j as b,a3 as P,ag as X,m as Y,B as Z,R as G,S as t,a2 as p,o as K,Z as e,u as a,e as m,J as L,T as Q,U as W,Y as w,X as M,l as ee,ap as te}from"./vue.1653003640069.js";import{e as le,t as oe,a as ae}from"./edit.16530036400692.js";import{O as ue}from"./OrgModal.1653003640069.js";import{h as se}from"./index.1653003640069.js";import"./DeptTree.1653003640069.js";const ne=m("div",{style:{"line-height":"32px"}},"\u5C97\u4F4D\u4FE1\u606F",-1),de=M("\u4FDD \u5B58"),re=M("\u5173 \u95ED"),pe={style:{"margin-top":"8px","margin-bottom":"8px"}},ie={class:"zinput"},me={class:"zinput"},_e={class:"zinput"},fe={class:"zinput"},ce={class:"zinput",style:{height:"auto"}},ve={class:"zinput",style:{height:"auto"}},Fe={class:"zinput"},ge={class:"zinput"},ye={name:"sysOrgPost"},Ce=H(D(C({},ye),{setup(i){const u=J(),d=b(),{proxy:V}=ee(),x=b("tab1"),f=P({url:"/sys/org/post",params:{path:"",query:""},form:{avtag:!0}}),{form:l}=X(f);Y(async()=>{var r,v;f.params=u;const s=(r=f.params.query)==null?void 0:r.deptid,o=(v=f.params.query)==null?void 0:v.deptna;s&&(l.value.dept={id:s,name:o},l.value.deptid=s,l.value.deptna=o),await le(f,u),l.value.dept&&(l.value.deptna=l.value.dept.name)});const g=b(),z=()=>{g.value.openModal({opener:"dept",orgType:3,selectMode:1})},B=()=>{g.value.openModal({opener:"users",orgType:8,selectMode:2,orgs:te(l.value.users)})},U=s=>{s.opener=="dept"?s.orgs&&s.orgs.length>0&&(l.value.dept={id:s.orgs[0].id,name:s.orgs[0].name},l.value.deptna=s.orgs[0].name,l.value.deptid=s.orgs[0].id):s.opener=="users"&&(l.value.users=s.orgs)},y=Z(()=>{let s="";if(l.value.users&&l.value.users.length>0)for(const o of l.value.users)s+=o.name+"\uFF1B";return s});return(s,o)=>{const r=p("el-col"),v=p("el-button"),c=p("el-row"),F=p("el-input"),_=p("el-form-item"),k=p("el-input-number"),R=p("el-switch"),E=p("el-tab-pane"),N=p("el-tabs"),q=p("el-form"),O=p("el-card");return K(),G(O,{class:"box-card","body-style":{padding:"2px 8px"},shadow:"never"},{header:t(()=>[e(c,null,{default:t(()=>[e(r,{span:10},{default:t(()=>[ne]),_:1}),e(r,{span:14,style:{"text-align":"right"}},{default:t(()=>[e(v,{type:"success",onClick:o[0]||(o[0]=n=>a(oe)(d.value,a(f),a(V),a(u))),plain:""},{default:t(()=>[de]),_:1}),e(v,{type:"info",onClick:o[1]||(o[1]=n=>a(ae)(a(V),a(u))),plain:""},{default:t(()=>[re]),_:1})]),_:1})]),_:1})]),default:t(()=>[m("div",pe,[e(q,{ref_key:"formRef",ref:d,class:"zform",model:a(l),"label-width":"140px"},{default:t(()=>[e(N,{type:"card",modelValue:x.value,"onUpdate:modelValue":o[8]||(o[8]=n=>x.value=n)},{default:t(()=>[e(E,{label:"\u57FA\u672C\u4FE1\u606F",name:"tab1"},{default:t(()=>[e(c,{style:{"border-top":"1px solid #d2d2d2"}},{default:t(()=>[e(r,{span:24},{default:t(()=>[e(_,{label:"\u5C97\u4F4D\u540D\u79F0\uFF1A",prop:"name",rules:[{required:!0,message:"\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A"}]},{default:t(()=>[m("div",ie,[e(F,{modelValue:a(l).name,"onUpdate:modelValue":o[2]||(o[2]=n=>a(l).name=n)},null,8,["modelValue"])])]),_:1})]),_:1})]),_:1}),e(c,null,{default:t(()=>[e(r,{span:12},{default:t(()=>[e(_,{label:"\u6240\u5C5E\u90E8\u95E8\uFF1A",prop:"deptna",rules:[{required:!0,message:"\u6240\u5C5E\u90E8\u95E8\u4E0D\u80FD\u4E3A\u7A7A"}]},{default:t(()=>[m("div",me,[e(F,{modelValue:a(l).deptna,"onUpdate:modelValue":o[3]||(o[3]=n=>a(l).deptna=n),onClick:z,readonly:"","suffix-icon":a(se)},null,8,["modelValue","suffix-icon"])])]),_:1})]),_:1}),e(r,{span:6},{default:t(()=>[e(_,{label:"\u6392\u5E8F\u53F7\uFF1A"},{default:t(()=>[m("div",_e,[e(k,{modelValue:a(l).ornum,"onUpdate:modelValue":o[4]||(o[4]=n=>a(l).ornum=n),"controls-position":"right",style:{width:"100%"}},null,8,["modelValue"])])]),_:1})]),_:1}),e(r,{span:6},{default:t(()=>[e(_,{label:"\u662F\u5426\u53EF\u7528\uFF1A"},{default:t(()=>[m("div",fe,[e(R,{modelValue:a(l).avtag,"onUpdate:modelValue":o[5]||(o[5]=n=>a(l).avtag=n)},null,8,["modelValue"])])]),_:1})]),_:1})]),_:1}),e(c,null,{default:t(()=>[e(r,{span:24},{default:t(()=>[e(_,{label:"\u5458\u5DE5\u6210\u5458\uFF1A"},{default:t(()=>[m("div",ce,[e(F,{type:"textarea",rows:4,modelValue:a(y),"onUpdate:modelValue":o[6]||(o[6]=n=>L(y)?y.value=n:null),readonly:"",onClick:B},null,8,["modelValue"])])]),_:1})]),_:1})]),_:1})]),_:1}),e(E,{label:"\u5176\u4ED6\u4FE1\u606F",name:"tab3"},{default:t(()=>[e(c,{style:{"border-top":"1px solid #d2d2d2"}},{default:t(()=>[e(r,{span:24},{default:t(()=>[e(_,{label:"\u5907\u6CE8\uFF1A"},{default:t(()=>[m("div",ve,[e(F,{style:{"font-family":"'Courier New', Helvetica, Arial, sans-serif","font-size":"16px"},type:"textarea",rows:4,modelValue:a(l).notes,"onUpdate:modelValue":o[7]||(o[7]=n=>a(l).notes=n)},null,8,["modelValue"])])]),_:1})]),_:1})]),_:1}),Q(e(c,null,{default:t(()=>[e(r,{span:12},{default:t(()=>[e(_,{label:"\u521B\u5EFA\u65F6\u95F4\uFF1A"},{default:t(()=>[m("div",Fe,w(a(l).crtim),1)]),_:1})]),_:1}),e(r,{span:12},{default:t(()=>[e(_,{label:"\u66F4\u65B0\u65F6\u95F4\uFF1A"},{default:t(()=>[m("div",ge,w(a(l).uptim),1)]),_:1})]),_:1})]),_:1},512),[[W,a(l).crtim]])]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["model"])]),e(ue,{ref_key:"orgModal",ref:g,onClose:U},null,512)]),_:1})}}}));export{Ce as default};
